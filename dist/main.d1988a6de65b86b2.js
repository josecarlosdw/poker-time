"use strict";(self.webpackChunkplanning_poker_app=self.webpackChunkplanning_poker_app||[]).push([[179],{6304:(Dt,xe,N)=>{N.d(xe,{Dh:()=>Ve,GT:()=>Ee,cc:()=>ye,hO:()=>Se,on:()=>j,pX:()=>he,xv:()=>pe});var T=N(5879),u=N(7142),L=N(8883);Dt=N.hmd(Dt);const Q=["ngOnDestroy"],he=(Ue,Rt,St,se={})=>new Proxy(Ue,{get:(be,ae)=>St.runOutsideAngular(()=>{var De;if(Ue[ae])return!(null===(De=se?.spy)||void 0===De)&&De.get&&se.spy.get(ae,Ue[ae]),Ue[ae];if(Q.indexOf(ae)>-1)return()=>{};const He=Rt.toPromise().then(et=>{const te=et&&et[ae];return"function"==typeof te?te.bind(et):te&&te.then?te.then(Tt=>St.run(()=>Tt)):St.run(()=>te)});return new Proxy(()=>{},{get:(et,te)=>He[te],apply:(et,te,Tt)=>He.then(Ze=>{var mi;const ti=Ze&&Ze(...Tt);return!(null===(mi=se?.spy)||void 0===mi)&&mi.apply&&se.spy.apply(ae,Tt,ti),ti})})})}),Ee=(Ue,Rt)=>{Rt.forEach(St=>{Object.getOwnPropertyNames(St.prototype||St).forEach(se=>{Object.defineProperty(Ue.prototype,se,Object.getOwnPropertyDescriptor(St.prototype||St,se))})})};class re{constructor(Rt){return Rt}}const Ve=new T.OlP("angularfire2.app.options"),pe=new T.OlP("angularfire2.app.name");function j(Ue,Rt,St){const be="object"==typeof St&&St||{};be.name=be.name||"string"==typeof St&&St||"[DEFAULT]";const De=u.Z.apps.filter(He=>He&&He.name===be.name)[0]||Rt.runOutsideAngular(()=>u.Z.initializeApp(Ue,be));try{JSON.stringify(Ue)!==JSON.stringify(De.options)&&$("error",`${De.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new re(De)}const $=(Ue,...Rt)=>{(0,T.X6Q)()&&typeof console<"u"&&console[Ue](...Rt)},oe={provide:re,useFactory:j,deps:[Ve,T.R0b,[new T.FiY,pe]]};let Se=(()=>{class Ue{constructor(St){u.Z.registerVersion("angularfire",L.q4.full,"core"),u.Z.registerVersion("angularfire",L.q4.full,"app-compat"),u.Z.registerVersion("angular",T.q4F.full,St.toString())}static initializeApp(St,se){return{ngModule:Ue,providers:[{provide:Ve,useValue:St},{provide:pe,useValue:se}]}}}return Ue.\u0275fac=function(St){return new(St||Ue)(T.LFG(T.Lbi))},Ue.\u0275mod=T.oAB({type:Ue}),Ue.\u0275inj=T.cJS({providers:[oe]}),Ue})();function ye(Ue,Rt,St,se,be){const[,ae,De]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===Ue)||[];if(ae)return function qe(Ue,Rt){try{return Ue.toString()===Rt.toString()}catch{return Ue===Rt}}(be,De)||(Je("error",`${Rt} was already initialized on the ${St} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:be,was:De})),ae;{const He=se();return globalThis.\u0275AngularfireInstanceCache.push([Ue,He,be]),He}}const Be=!!Dt.hot,Je=(Ue,...Rt)=>{(0,T.X6Q)()&&typeof console<"u"&&console[Ue](...Rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8883:(Dt,xe,N)=>{N.d(xe,{q4:()=>Cs,iC:()=>Fu,HU:()=>Nu,vb:()=>_h,JM:()=>Ou});var T=N(5879),u=N(3182),L=N(5861),Q=N(534),he=N(9058),Ee=N(4537),re=N(7879);N(2591);const pe="@firebase/remote-config",j="0.4.4",ye=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(O,H,ue,Fe){this.client=O,this.storage=H,this.storageCache=ue,this.logger=Fe}isCachedDataFresh(O,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-H,Fe=ue<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Fe}.`),Fe}fetch(O){var H=this;return(0,L.Z)(function*(){const[ue,Fe]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Fe&&H.isCachedDataFresh(O.cacheMaxAgeMillis,ue))return Fe;O.eTag=Fe&&Fe.eTag;const Ge=yield H.client.fetch(O),at=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&at.push(H.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(at),Ge})()}}function Re(R=navigator){return R.languages&&R.languages[0]||R.language}class Le{constructor(O,H,ue,Fe,Ge,at){this.firebaseInstallations=O,this.sdkVersion=H,this.namespace=ue,this.projectId=Fe,this.apiKey=Ge,this.appId=at}fetch(O){var H=this;return(0,L.Z)(function*(){const[ue,Fe]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),at=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Sn={sdk_version:H.sdkVersion,app_instance_id:ue,app_instance_id_token:Fe,app_id:H.appId,language_code:Re()},yn={method:"POST",headers:Vn,body:JSON.stringify(Sn)},Dn=fetch(at,yn),Pt=new Promise((Fr,ns)=>{O.signal.addEventListener(()=>{const Lu=new Error("The operation was aborted.");Lu.name="AbortError",ns(Lu)})});let Nr;try{yield Promise.race([Dn,Pt]),Nr=yield Dn}catch(Fr){let ns="fetch-client-network";throw"AbortError"===Fr?.name&&(ns="fetch-timeout"),ye.create(ns,{originalErrorMessage:Fr?.message})}let Pr=Nr.status;const xs=Nr.headers.get("ETag")||void 0;let sl,Qr;if(200===Nr.status){let Fr;try{Fr=yield Nr.json()}catch(ns){throw ye.create("fetch-client-parse",{originalErrorMessage:ns?.message})}sl=Fr.entries,Qr=Fr.state}if("INSTANCE_STATE_UNSPECIFIED"===Qr?Pr=500:"NO_CHANGE"===Qr?Pr=304:("NO_TEMPLATE"===Qr||"EMPTY_CONFIG"===Qr)&&(sl={}),304!==Pr&&200!==Pr)throw ye.create("fetch-status",{httpStatus:Pr});return{status:Pr,eTag:xs,config:sl}})()}}class Et{constructor(O,H){this.client=O,this.storage=H}fetch(O){var H=this;return(0,L.Z)(function*(){const ue=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(O,ue)})()}attemptFetch(O,{throttleEndTimeMillis:H,backoffCount:ue}){var Fe=this;return(0,L.Z)(function*(){yield function Qe(R,O){return new Promise((H,ue)=>{const Fe=Math.max(O-Date.now(),0),Ge=setTimeout(H,Fe);R.addEventListener(()=>{clearTimeout(Ge),ue(ye.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,H);try{const Ge=yield Fe.client.fetch(O);return yield Fe.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function We(R){if(!(R instanceof he.ZR&&R.customData))return!1;const O=Number(R.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ge))throw Ge;const at={throttleEndTimeMillis:Date.now()+(0,he.$s)(ue),backoffCount:ue+1};return yield Fe.storage.setThrottleMetadata(at),Fe.attemptFetch(O,at)}})()}}class ut{constructor(O,H,ue,Fe,Ge){this.app=O,this._client=H,this._storageCache=ue,this._storage=Fe,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bt(R,O){const H=R.target.error||void 0;return ye.create(O,{originalErrorMessage:H&&H?.message})}const gn="app_namespace_store";class li{constructor(O,H,ue,Fe=function fn(){return new Promise((R,O)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ue=>{O(bt(ue,"storage-open"))},H.onsuccess=ue=>{R(ue.target.result)},H.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(H){O(ye.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=O,this.appName=H,this.namespace=ue,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var H=this;return(0,L.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((Fe,Ge)=>{const Vn=ue.transaction([gn],"readonly").objectStore(gn),Sn=H.createCompositeKey(O);try{const yn=Vn.get(Sn);yn.onerror=Dn=>{Ge(bt(Dn,"storage-get"))},yn.onsuccess=Dn=>{const Pt=Dn.target.result;Fe(Pt?Pt.value:void 0)}}catch(yn){Ge(ye.create("storage-get",{originalErrorMessage:yn?.message}))}})})()}set(O,H){var ue=this;return(0,L.Z)(function*(){const Fe=yield ue.openDbPromise;return new Promise((Ge,at)=>{const Sn=Fe.transaction([gn],"readwrite").objectStore(gn),yn=ue.createCompositeKey(O);try{const Dn=Sn.put({compositeKey:yn,value:H});Dn.onerror=Pt=>{at(bt(Pt,"storage-set"))},Dn.onsuccess=()=>{Ge()}}catch(Dn){at(ye.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(O){var H=this;return(0,L.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((Fe,Ge)=>{const Vn=ue.transaction([gn],"readwrite").objectStore(gn),Sn=H.createCompositeKey(O);try{const yn=Vn.delete(Sn);yn.onerror=Dn=>{Ge(bt(Dn,"storage-delete"))},yn.onsuccess=()=>{Fe()}}catch(yn){Ge(ye.create("storage-delete",{originalErrorMessage:yn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Yn{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,L.Z)(function*(){const H=O.storage.getLastFetchStatus(),ue=O.storage.getLastSuccessfulFetchTimestampMillis(),Fe=O.storage.getActiveConfig(),Ge=yield H;Ge&&(O.lastFetchStatus=Ge);const at=yield ue;at&&(O.lastSuccessfulFetchTimestampMillis=at);const Vn=yield Fe;Vn&&(O.activeConfig=Vn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function ur(){return vr.apply(this,arguments)}function vr(){return(vr=(0,L.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function gi(){(0,Q._registerComponent)(new Ee.wA("remote-config",function R(O,{instanceIdentifier:H}){const ue=O.getProvider("app").getImmediate(),Fe=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ye.create("registration-window");if(!(0,he.hl)())throw ye.create("indexed-db-unavailable");const{projectId:Ge,apiKey:at,appId:Vn}=ue.options;if(!Ge)throw ye.create("registration-project-id");if(!at)throw ye.create("registration-api-key");if(!Vn)throw ye.create("registration-app-id");const Sn=new li(Vn,ue.name,H=H||"firebase"),yn=new Yn(Sn),Dn=new re.Yd(pe);Dn.logLevel=re.in.ERROR;const Pt=new Le(Fe,Q.SDK_VERSION,H,Ge,at,Vn),Nr=new Et(Pt,Sn),Pr=new we(Nr,Sn,yn,Dn),xs=new ut(ue,Pr,yn,Sn,Dn);return function De(R){const O=(0,he.m9)(R);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(xs),xs},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(pe,j),(0,Q.registerVersion)(pe,j,"esm2017")}();const ki=(R,O)=>O.some(H=>R instanceof H);let ui,po;const _n=new WeakMap,st=new WeakMap,yt=new WeakMap,An=new WeakMap,Vi=new WeakMap;let ni={get(R,O,H){if(R instanceof IDBTransaction){if("done"===O)return st.get(R);if("objectStoreNames"===O)return R.objectStoreNames||yt.get(R);if("store"===O)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Ut(R[O])},set:(R,O,H)=>(R[O]=H,!0),has:(R,O)=>R instanceof IDBTransaction&&("done"===O||"store"===O)||O in R};function di(R){return"function"==typeof R?function tn(R){return R!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dt(){return po||(po=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(R)?function(...O){return R.apply(Rr(this),O),Ut(_n.get(this))}:function(...O){return Ut(R.apply(Rr(this),O))}:function(O,...H){const ue=R.call(Rr(this),O,...H);return yt.set(ue,O.sort?O.sort():[O]),Ut(ue)}}(R):(R instanceof IDBTransaction&&function Xn(R){if(st.has(R))return;const O=new Promise((H,ue)=>{const Fe=()=>{R.removeEventListener("complete",Ge),R.removeEventListener("error",at),R.removeEventListener("abort",at)},Ge=()=>{H(),Fe()},at=()=>{ue(R.error||new DOMException("AbortError","AbortError")),Fe()};R.addEventListener("complete",Ge),R.addEventListener("error",at),R.addEventListener("abort",at)});st.set(R,O)}(R),ki(R,function br(){return ui||(ui=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(R,ni):R)}function Ut(R){if(R instanceof IDBRequest)return function ln(R){const O=new Promise((H,ue)=>{const Fe=()=>{R.removeEventListener("success",Ge),R.removeEventListener("error",at)},Ge=()=>{H(Ut(R.result)),Fe()},at=()=>{ue(R.error),Fe()};R.addEventListener("success",Ge),R.addEventListener("error",at)});return O.then(H=>{H instanceof IDBCursor&&_n.set(H,R)}).catch(()=>{}),Vi.set(O,R),O}(R);if(An.has(R))return An.get(R);const O=di(R);return O!==R&&(An.set(R,O),Vi.set(O,R)),O}const Rr=R=>Vi.get(R);function Ji(R,O,{blocked:H,upgrade:ue,blocking:Fe,terminated:Ge}={}){const at=indexedDB.open(R,O),Vn=Ut(at);return ue&&at.addEventListener("upgradeneeded",Sn=>{ue(Ut(at.result),Sn.oldVersion,Sn.newVersion,Ut(at.transaction))}),H&&at.addEventListener("blocked",()=>H()),Vn.then(Sn=>{Ge&&Sn.addEventListener("close",()=>Ge()),Fe&&Sn.addEventListener("versionchange",()=>Fe())}).catch(()=>{}),Vn}function wr(R,{blocked:O}={}){const H=indexedDB.deleteDatabase(R);return O&&H.addEventListener("blocked",()=>O()),Ut(H).then(()=>{})}const Oi=["get","getKey","getAll","getAllKeys","count"],hi=["put","add","delete","clear"],Gn=new Map;function In(R,O){if(!(R instanceof IDBDatabase)||O in R||"string"!=typeof O)return;if(Gn.get(O))return Gn.get(O);const H=O.replace(/FromIndex$/,""),ue=O!==H,Fe=hi.includes(H);if(!(H in(ue?IDBIndex:IDBObjectStore).prototype)||!Fe&&!Oi.includes(H))return;const Ge=function(){var at=(0,L.Z)(function*(Vn,...Sn){const yn=this.transaction(Vn,Fe?"readwrite":"readonly");let Dn=yn.store;return ue&&(Dn=Dn.index(Sn.shift())),(yield Promise.all([Dn[H](...Sn),Fe&&yn.done]))[0]});return function(Sn){return at.apply(this,arguments)}}();return Gn.set(O,Ge),Ge}!function Bi(R){ni=R(ni)}(R=>({...R,get:(O,H,ue)=>In(O,H)||R.get(O,H,ue),has:(O,H)=>!!In(O,H)||R.has(O,H)}));const dr="/firebase-messaging-sw.js",sn="/firebase-cloud-messaging-push-scope",Yr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pn="https://fcmregistrations.googleapis.com/v1",z="google.c.a.c_id",B="google.c.a.c_l",K="google.c.a.ts";var tt=(()=>((tt=tt||{}).PUSH_RECEIVED="push-received",tt.NOTIFICATION_CLICKED="notification-clicked",tt))();function vt(R){const O=new Uint8Array(R);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y(R){const H=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(H),Fe=new Uint8Array(ue.length);for(let Ge=0;Ge<ue.length;++Ge)Fe[Ge]=ue.charCodeAt(Ge);return Fe}const _e="fcm_token_details_db",Ce=5,Me="fcm_token_object_Store";function ht(){return ht=(0,L.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(_e))return null;let O=null;return(yield Ji(_e,Ce,{upgrade:(ue=(0,L.Z)(function*(Fe,Ge,at,Vn){var Sn;if(Ge<2||!Fe.objectStoreNames.contains(Me))return;const yn=Vn.objectStore(Me),Dn=yield yn.index("fcmSenderId").get(R);if(yield yn.clear(),Dn)if(2===Ge){const Pt=Dn;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;O={token:Pt.fcmToken,createTime:null!==(Sn=Pt.createTime)&&void 0!==Sn?Sn:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:vt(Pt.vapidKey)}}}else if(3===Ge){const Pt=Dn;O={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:vt(Pt.auth),p256dh:vt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:vt(Pt.vapidKey)}}}else if(4===Ge){const Pt=Dn;O={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:vt(Pt.auth),p256dh:vt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:vt(Pt.vapidKey)}}}}),function(Ge,at,Vn,Sn){return ue.apply(this,arguments)})})).close(),yield wr(_e),yield wr("fcm_vapid_details_db"),yield wr("undefined"),function Bt(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:O}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var ue}),ht.apply(this,arguments)}const Qt="firebase-messaging-database",jt=1,le="firebase-messaging-store";let ne=null;function ke(){return ne||(ne=Ji(Qt,jt,{upgrade:(R,O)=>{0===O&&R.createObjectStore(le)}})),ne}function mt(R){return At.apply(this,arguments)}function At(){return At=(0,L.Z)(function*(R){const O=hr(R),ue=yield(yield ke()).transaction(le).objectStore(le).get(O);if(ue)return ue;{const Fe=yield function Pe(R){return ht.apply(this,arguments)}(R.appConfig.senderId);if(Fe)return yield Jt(R,Fe),Fe}}),At.apply(this,arguments)}function Jt(R,O){return un.apply(this,arguments)}function un(){return(un=(0,L.Z)(function*(R,O){const H=hr(R),Fe=(yield ke()).transaction(le,"readwrite");return yield Fe.objectStore(le).put(O,H),yield Fe.done,O})).apply(this,arguments)}function Fn(){return(Fn=(0,L.Z)(function*(R){const O=hr(R),ue=(yield ke()).transaction(le,"readwrite");yield ue.objectStore(le).delete(O),yield ue.done})).apply(this,arguments)}function hr({appConfig:R}){return R.appId}const _i=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vs(R,O){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,L.Z)(function*(R,O){const H=yield jn(R),ue=Mo(O),Fe={method:"POST",headers:H,body:JSON.stringify(ue)};let Ge;try{Ge=yield(yield fetch(Ia(R.appConfig),Fe)).json()}catch(at){throw _i.create("token-subscribe-failed",{errorInfo:at?.toString()})}if(Ge.error)throw _i.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw _i.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function Er(){return(Er=(0,L.Z)(function*(R,O){const H=yield jn(R),ue=Mo(O.subscriptionOptions),Fe={method:"PATCH",headers:H,body:JSON.stringify(ue)};let Ge;try{Ge=yield(yield fetch(`${Ia(R.appConfig)}/${O.token}`,Fe)).json()}catch(at){throw _i.create("token-update-failed",{errorInfo:at?.toString()})}if(Ge.error)throw _i.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw _i.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function Ws(R,O){return bs.apply(this,arguments)}function bs(){return(bs=(0,L.Z)(function*(R,O){const ue={method:"DELETE",headers:yield jn(R)};try{const Ge=yield(yield fetch(`${Ia(R.appConfig)}/${O}`,ue)).json();if(Ge.error)throw _i.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Fe){throw _i.create("token-unsubscribe-failed",{errorInfo:Fe?.toString()})}})).apply(this,arguments)}function Ia({projectId:R}){return`${pn}/projects/${R}/registrations`}function jn(R){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,L.Z)(function*({appConfig:R,installations:O}){const H=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Mo({p256dh:R,auth:O,endpoint:H,vapidKey:ue}){const Fe={web:{endpoint:H,auth:O,p256dh:R}};return ue!==Yr&&(Fe.web.applicationPubKey=ue),Fe}const nl=6048e5;function Ro(){return Ro=(0,L.Z)(function*(R){const O=yield function mn(R,O){return Yt.apply(this,arguments)}(R.swRegistration,R.vapidKey),H={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:O.endpoint,auth:vt(O.getKey("auth")),p256dh:vt(O.getKey("p256dh"))},ue=yield mt(R.firebaseDependencies);if(ue){if(function Mt(R,O){return O.vapidKey===R.vapidKey&&O.endpoint===R.endpoint&&O.auth===R.auth&&O.p256dh===R.p256dh}(ue.subscriptionOptions,H))return Date.now()>=ue.createTime+nl?function V(R,O){return X.apply(this,arguments)}(R,{token:ue.token,createTime:Date.now(),subscriptionOptions:H}):ue.token;try{yield Ws(R.firebaseDependencies,ue.token)}catch(Fe){console.warn(Fe)}return ve(R.firebaseDependencies,H)}return ve(R.firebaseDependencies,H)}),Ro.apply(this,arguments)}function Es(){return Es=(0,L.Z)(function*(R){const O=yield mt(R.firebaseDependencies);O&&(yield Ws(R.firebaseDependencies,O.token),yield function ii(R){return Fn.apply(this,arguments)}(R.firebaseDependencies));const H=yield R.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()}),Es.apply(this,arguments)}function X(){return X=(0,L.Z)(function*(R,O){try{const H=yield function qs(R,O){return Er.apply(this,arguments)}(R.firebaseDependencies,O),ue=Object.assign(Object.assign({},O),{token:H,createTime:Date.now()});return yield Jt(R.firebaseDependencies,ue),H}catch(H){throw yield function ws(R){return Es.apply(this,arguments)}(R),H}}),X.apply(this,arguments)}function ve(R,O){return rt.apply(this,arguments)}function rt(){return(rt=(0,L.Z)(function*(R,O){const ue={token:yield vs(R,O),createTime:Date.now(),subscriptionOptions:O};return yield Jt(R,ue),ue.token})).apply(this,arguments)}function Yt(){return(Yt=(0,L.Z)(function*(R,O){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y(O)})})).apply(this,arguments)}function zt(R){const O={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function wn(R,O){if(!O.notification)return;R.notification={};const H=O.notification.title;H&&(R.notification.title=H);const ue=O.notification.body;ue&&(R.notification.body=ue);const Fe=O.notification.image;Fe&&(R.notification.image=Fe);const Ge=O.notification.icon;Ge&&(R.notification.icon=Ge)}(O,R),function Qn(R,O){O.data&&(R.data=O.data)}(O,R),function ri(R,O){var H,ue,Fe,Ge,at;if(!(O.fcmOptions||null!==(H=O.notification)&&void 0!==H&&H.click_action))return;R.fcmOptions={};const Vn=null!==(Fe=null===(ue=O.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Fe?Fe:null===(Ge=O.notification)||void 0===Ge?void 0:Ge.click_action;Vn&&(R.fcmOptions.link=Vn);const Sn=null===(at=O.fcmOptions)||void 0===at?void 0:at.analytics_label;Sn&&(R.fcmOptions.analyticsLabel=Sn)}(O,R),O}function nc(R,O){const H=[];for(let ue=0;ue<R.length;ue++)H.push(R.charAt(ue)),ue<O.length&&H.push(O.charAt(ue));return H.join("")}function Ta(R){return _i.create("missing-app-config-values",{valueName:R})}nc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ic{constructor(O,H,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function Zs(R){if(!R||!R.options)throw Ta("App Configuration Object");if(!R.name)throw Ta("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:H}=R;for(const ue of O)if(!H[ue])throw Ta(ue);return{appName:R.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Fe,installations:H,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function nt(){return(nt=(0,L.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(dr,{scope:sn}),R.swRegistration.update().catch(()=>{})}catch(O){throw _i.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Ln(){return(Ln=(0,L.Z)(function*(R,O){if(!O&&!R.swRegistration&&(yield function oi(R){return nt.apply(this,arguments)}(R)),O||!R.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");R.swRegistration=O}})).apply(this,arguments)}function ko(){return(ko=(0,L.Z)(function*(R,O){O?R.vapidKey=O:R.vapidKey||(R.vapidKey=Yr)})).apply(this,arguments)}function go(){return go=(0,L.Z)(function*(R,O){if(!navigator)throw _i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _i.create("permission-blocked");return yield function Xr(R,O){return ko.apply(this,arguments)}(R,O?.vapidKey),yield function Xt(R,O){return Ln.apply(this,arguments)}(R,O?.serviceWorkerRegistration),function Sa(R){return Ro.apply(this,arguments)}(R)}),go.apply(this,arguments)}function Hi(){return(Hi=(0,L.Z)(function*(R,O,H){const ue=function Oo(R){switch(R){case tt.NOTIFICATION_CLICKED:return"notification_open";case tt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:H[z],message_name:H[B],message_time:H[K],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ji(){return ji=(0,L.Z)(function*(R,O){const H=O.data;if(!H.isFirebaseMessaging)return;R.onMessageHandler&&H.messageType===tt.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(zt(H)):R.onMessageHandler.next(zt(H)));const ue=H.data;(function il(R){return"object"==typeof R&&!!R&&z in R})(ue)&&"1"===ue["google.c.a.e"]&&(yield function Wn(R,O,H){return Hi.apply(this,arguments)}(R,H.messageType,ue))}),ji.apply(this,arguments)}const rc="@firebase/messaging",si=R=>{const O=new ic(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function Kt(R,O){return ji.apply(this,arguments)}(O,H)),O},Po=R=>{const O=R.getProvider("messaging").getImmediate();return{getToken:ue=>function Ni(R,O){return go.apply(this,arguments)}(O,ue)}};function kr(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aa(){(0,Q._registerComponent)(new Ee.wA("messaging",si,"PUBLIC")),(0,Q._registerComponent)(new Ee.wA("messaging-internal",Po,"PRIVATE")),(0,Q.registerVersion)(rc,"0.12.4"),(0,Q.registerVersion)(rc,"0.12.4","esm2017")}();var Lo=N(5855),tr=N(1954),es=N(2631);const zi=new class Ys extends es.v{}(class Vo extends tr.o{constructor(O,H){super(O,H),this.scheduler=O,this.work=H}schedule(O,H=0){return H>0?super.schedule(O,H):(this.delay=H,this.state=O,this.scheduler.flush(this),this)}execute(O,H){return H>0||this.closed?super.execute(O,H):this._execute(O,H)}requestAsyncId(O,H,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(O,H,ue):(O.flush(this),0)}});var Pi=N(6321),$i=N(9397),Ma=N(5137),ts=N(3093);const Cs=new T.GfV("7.6.1"),nr="__angularfire_symbol__analyticsIsSupportedValue",yi="__angularfire_symbol__analyticsIsSupported",rl="__angularfire_symbol__remoteConfigIsSupportedValue",ku="__angularfire_symbol__remoteConfigIsSupported",ol="__angularfire_symbol__messagingIsSupportedValue",Xs="__angularfire_symbol__messagingIsSupported";function Ou(R,O,H){if(O){if(1===O.length)return O[0];const Ge=O.filter(at=>at.app===H);if(1===Ge.length)return Ge[0]}return H.container.getProvider(R).getImmediate({optional:!0})}globalThis[yi]||(globalThis[yi]=(0,Lo.Gb)().then(R=>globalThis[nr]=R).catch(()=>globalThis[nr]=!1)),globalThis[Xs]||(globalThis[Xs]=kr().then(R=>globalThis[ol]=R).catch(()=>globalThis[ol]=!1)),globalThis[ku]||(globalThis[ku]=ur().then(R=>globalThis[rl]=R).catch(()=>globalThis[rl]=!1));const _h=(R,O)=>{const H=O?[O]:(0,u.C6)(),ue=[];return H.forEach(Fe=>{Fe.container.getProvider(R).instances.forEach(at=>{ue.includes(at)||ue.push(at)})}),ue};function Ds(){}class uc{constructor(O,H=zi){this.zone=O,this.delegate=H}now(){return this.delegate.now()}schedule(O,H,ue){const Fe=this.zone;return this.delegate.schedule(function(at){Fe.runGuarded(()=>{O.apply(this,[at])})},H,ue)}}class yh{constructor(O){this.zone=O,this.task=null}call(O,H){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ds,{},Ds,Ds)),H.pipe((0,$i.b)({next:ue,complete:ue,error:ue})).subscribe(O).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nu=(()=>{class R{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new uc(Zone.current)),this.insideAngular=H.run(()=>new uc(Zone.current,Pi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(H){return new(H||R)(T.LFG(T.R0b))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Qs(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Fu(R){return Qs(),function Dp(R){return function(H){return(H=H.lift(new yh(R.ngZone))).pipe((0,Ma.R)(R.outsideAngular),(0,ts.Q)(R.insideAngular))}}(Qs())(R)}},9058:(Dt,xe,N)=>{N.d(xe,{$s:()=>dr,BH:()=>ae,G6:()=>Re,L:()=>pe,LL:()=>kt,Pz:()=>be,Sg:()=>De,UG:()=>te,US:()=>Ee,ZB:()=>oe,ZR:()=>_t,aH:()=>se,b$:()=>mi,eu:()=>Qe,hl:()=>Le,jU:()=>Tt,m9:()=>pn,ne:()=>yt,pd:()=>_n,r3:()=>Ao,ru:()=>Ze,tV:()=>j,uI:()=>et,vZ:()=>ki,w1:()=>Zr,xO:()=>br,xb:()=>ur,z$:()=>He,zI:()=>We,zd:()=>dt});const Q=function(z){const B=[];let K=0;for(let Te=0;Te<z.length;Te++){let ce=z.charCodeAt(Te);ce<128?B[K++]=ce:ce<2048?(B[K++]=ce>>6|192,B[K++]=63&ce|128):55296==(64512&ce)&&Te+1<z.length&&56320==(64512&z.charCodeAt(Te+1))?(ce=65536+((1023&ce)<<10)+(1023&z.charCodeAt(++Te)),B[K++]=ce>>18|240,B[K++]=ce>>12&63|128,B[K++]=ce>>6&63|128,B[K++]=63&ce|128):(B[K++]=ce>>12|224,B[K++]=ce>>6&63|128,B[K++]=63&ce|128)}return B},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,B){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let ce=0;ce<z.length;ce+=3){const tt=z[ce],vt=ce+1<z.length,Y=vt?z[ce+1]:0,_e=ce+2<z.length,Ce=_e?z[ce+2]:0;let ht=(15&Y)<<2|Ce>>6,Bt=63&Ce;_e||(Bt=64,vt||(ht=64)),Te.push(K[tt>>2],K[(3&tt)<<4|Y>>4],K[ht],K[Bt])}return Te.join("")},encodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(z):this.encodeByteArray(Q(z),B)},decodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(z):function(z){const B=[];let K=0,Te=0;for(;K<z.length;){const ce=z[K++];if(ce<128)B[Te++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const tt=z[K++];B[Te++]=String.fromCharCode((31&ce)<<6|63&tt)}else if(ce>239&&ce<365){const _e=((7&ce)<<18|(63&z[K++])<<12|(63&z[K++])<<6|63&z[K++])-65536;B[Te++]=String.fromCharCode(55296+(_e>>10)),B[Te++]=String.fromCharCode(56320+(1023&_e))}else{const tt=z[K++],vt=z[K++];B[Te++]=String.fromCharCode((15&ce)<<12|(63&tt)<<6|63&vt)}}return B.join("")}(this.decodeStringToByteArray(z,B))},decodeStringToByteArray(z,B){this.init_();const K=B?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let ce=0;ce<z.length;){const tt=K[z.charAt(ce++)],Y=ce<z.length?K[z.charAt(ce)]:0;++ce;const Ce=ce<z.length?K[z.charAt(ce)]:64;++ce;const Pe=ce<z.length?K[z.charAt(ce)]:64;if(++ce,null==tt||null==Y||null==Ce||null==Pe)throw new re;Te.push(tt<<2|Y>>4),64!==Ce&&(Te.push(Y<<4&240|Ce>>2),64!==Pe&&Te.push(Ce<<6&192|Pe))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(z){return function(z){const B=Q(z);return Ee.encodeByteArray(B,!0)}(z).replace(/\./g,"")},j=function(z){try{return Ee.decodeString(z,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function oe(z,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return B}for(const K in B)!B.hasOwnProperty(K)||!Se(K)||(z[K]=oe(z[K],B[K]));return z}function Se(z){return"__proto__"!==z}const Ue=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=z&&j(z[1]);return B&&JSON.parse(B)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},se=()=>{var z;return null===(z=Ue())||void 0===z?void 0:z.config},be=z=>{var B;return null===(B=Ue())||void 0===B?void 0:B[`_${z}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,K)=>{this.resolve=B,this.reject=K})}wrapCallback(B){return(K,Te)=>{K?this.reject(K):this.resolve(Te),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(K):B(K,Te))}}}function De(z,B){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=B||"demo-project",ce=z.iat||0,tt=z.sub||z.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:ce,exp:ce+3600,auth_time:ce,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(vt)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function te(){var z;const B=null===(z=Ue())||void 0===z?void 0:z.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Tt(){return"object"==typeof self&&self.self===self}function Ze(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function mi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zr(){const z=He();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Re(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((z,B)=>{try{let K=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Te);ce.onsuccess=()=>{ce.result.close(),K||self.indexedDB.deleteDatabase(Te),z(!0)},ce.onupgradeneeded=()=>{K=!1},ce.onerror=()=>{var tt;B((null===(tt=ce.error)||void 0===tt?void 0:tt.message)||"")}}catch(K){B(K)}})}function We(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _t extends Error{constructor(B,K,Te){super(K),this.code=B,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(B,K,Te){this.service=B,this.serviceName=K,this.errors=Te}create(B,...K){const Te=K[0]||{},ce=`${this.service}/${B}`,tt=this.errors[B],vt=tt?function ut(z,B){return z.replace(bt,(K,Te)=>{const ce=B[Te];return null!=ce?String(ce):`<${Te}?>`})}(tt,Te):"Error";return new _t(ce,`${this.serviceName}: ${vt} (${ce}).`,Te)}}const bt=/\{\$([^}]+)}/g;function Ao(z,B){return Object.prototype.hasOwnProperty.call(z,B)}function ur(z){for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B))return!1;return!0}function ki(z,B){if(z===B)return!0;const K=Object.keys(z),Te=Object.keys(B);for(const ce of K){if(!Te.includes(ce))return!1;const tt=z[ce],vt=B[ce];if(ui(tt)&&ui(vt)){if(!ki(tt,vt))return!1}else if(tt!==vt)return!1}for(const ce of Te)if(!K.includes(ce))return!1;return!0}function ui(z){return null!==z&&"object"==typeof z}function br(z){const B=[];for(const[K,Te]of Object.entries(z))Array.isArray(Te)?Te.forEach(ce=>{B.push(encodeURIComponent(K)+"="+encodeURIComponent(ce))}):B.push(encodeURIComponent(K)+"="+encodeURIComponent(Te));return B.length?"&"+B.join("&"):""}function dt(z){const B={};return z.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[ce,tt]=Te.split("=");B[decodeURIComponent(ce)]=decodeURIComponent(tt)}}),B}function _n(z){const B=z.indexOf("?");if(!B)return"";const K=z.indexOf("#",B);return z.substring(B,K>0?K:void 0)}function yt(z,B){const K=new An(z,B);return K.subscribe.bind(K)}class An{constructor(B,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{B(this)}).catch(Te=>{this.error(Te)})}next(B){this.forEachObserver(K=>{K.next(B)})}error(B){this.forEachObserver(K=>{K.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,K,Te){let ce;if(void 0===B&&void 0===K&&void 0===Te)throw new Error("Missing Observer.");ce=function ln(z,B){if("object"!=typeof z||null===z)return!1;for(const K of B)if(K in z&&"function"==typeof z[K])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:K,complete:Te},void 0===ce.next&&(ce.next=Xn),void 0===ce.error&&(ce.error=Xn),void 0===ce.complete&&(ce.complete=Xn);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),tt}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,B)}sendOne(B,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{K(this.observers[B])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}const Oi=1e3,hi=2,Gn=144e5,In=.5;function dr(z,B=Oi,K=hi){const Te=B*Math.pow(K,z),ce=Math.round(In*Te*(Math.random()-.5)*2);return Math.min(Gn,Te+ce)}function pn(z){return z&&z._delegate?z._delegate:z}},8005:(Dt,xe,N)=>{var T={};N.r(T),N.d(T,{Decoder:()=>nn,Encoder:()=>Gw,PacketType:()=>Gt,protocol:()=>Om});var u=N(5879);let L=null;function Q(){return L}class Ee{}const re=new u.OlP("DocumentToken");let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(j)},providedIn:"platform"}),n})();const pe=new u.OlP("Location Initialized");let j=(()=>{class n extends Ve{constructor(){super(),this._doc=(0,u.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(t){const i=Q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Q().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function $(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Se(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Be)},providedIn:"root"}),n})();const qe=new u.OlP("appBaseHref");let Be=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Se(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+Se(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+Se(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ve),u.LFG(qe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=$(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+Se(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+Se(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ve),u.LFG(qe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(oe(se(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Se(i))}normalize(t){return n.stripTrailingSlash(function St(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,se(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Se,n.joinWithSlash=$,n.stripTrailingSlash=oe,n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Rt(){return new Ue((0,u.LFG)(ye))}()},providedIn:"root"}),n})();function se(n){return n.replace(/\/index.html$/,"")}class bs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ia=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new bs(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,c),jn(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{jn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jn(n,e){n.context.$implicit=e.item}let Mo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new nl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nl{constructor(){this.$implicit=null,this.ngIf=null}}function Sa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Ro{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ws=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Es=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ro(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ws,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Yt=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,a,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),n})(),Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const oc="browser";function Zt(n){return"server"===n}let tr=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Vo((0,u.LFG)(re),window)}),n})();class Vo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ys(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Lr extends Ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xh extends Lr{static makeCurrent(){!function he(n){L||(L=n)}(new xh)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ll(){return al=al||document.querySelector("base"),al?al.getAttribute("href"):null}();return null==t?null:function W0(n){Cr=Cr||document.createElement("a"),Cr.setAttribute("href",n);const e=Cr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){al=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _i(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Cr,al=null,P_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new u.OlP("EventManagerPlugins");let Ap=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(a=>a.supports(t)),!i)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Is),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class F_{constructor(e){this._doc=e}}const Ih="ng-app-id";let Mp=(()=>{class n{constructor(t,i,r,a={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zt(a),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ih}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const a=r.get(t);return a.usage+=i,a.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,a=r?.get(i);if(a?.parentNode===t)return r.delete(i),a.removeAttribute(Ih),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Ih,this.appId),c}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const a=this.styleRef,c=a.get(i)?.elements;c?c.push(r):a.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ss=/%COMP%/g,Z0=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ts(n,e){return e.map(t=>t.replace(Ss,n))}let fc=(()=>{class n{constructor(t,i,r,a,c,f,_,w=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.doc=c,this.platformId=f,this.ngZone=_,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Zt(f),this.defaultRenderer=new Sh(t,c,_,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===u.ifc.ShadowDom&&(i={...i,encapsulation:u.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Np?r.applyToHost(t):r instanceof En&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const c=this.doc,f=this.ngZone,_=this.eventManager,w=this.sharedStylesHost,D=this.removeStylesOnCompDestory,S=this.platformIsServer;switch(i.encapsulation){case u.ifc.Emulated:a=new Np(_,w,i,this.appId,D,c,f,S);break;case u.ifc.ShadowDom:return new je(_,w,t,i,c,f,this.nonce,S);default:a=new En(_,w,i,D,c,f,S)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ap),u.LFG(Mp),u.LFG(u.AFp),u.LFG(Z0),u.LFG(re),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Sh{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(cl[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Op(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Op(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new u.vHH(5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=cl[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=cl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Q().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Op(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class je extends Sh{constructor(e,t,i,r,a,c,f,_){super(e,a,c,_),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Ts(r.id,r.styles);for(const D of w){const S=document.createElement("style");f&&S.setAttribute("nonce",f),S.textContent=D,this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends Sh{constructor(e,t,i,r,a,c,f,_){super(e,a,c,f),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=_?Ts(_,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Np extends En{constructor(e,t,i,r,a,c,f,_){const w=r+"-"+i.id;super(e,t,i,a,c,f,_,w),this.contentAttr=function V_(n){return"_ngcontent-%COMP%".replace(Ss,n)}(w),this.hostAttr=function kp(n){return"_nghost-%COMP%".replace(Ss,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let pc=(()=>{class n extends F_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ir=["alt","control","meta","shift"],As={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rs=(()=>{class n extends F_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Q().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),ir.forEach(w=>{const D=i.indexOf(w);D>-1&&(i.splice(D,1),c+=w+".")}),c+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=c,_}static matchEventFullKeyCode(t,i){let r=As[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ir.forEach(c=>{c!==r&&(0,mc[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:oc},{provide:u.g9A,useValue:function Uu(){xh.makeCurrent()},multi:!0},{provide:re,useFactory:function Uo(){return(0,u.RDi)(document),document},deps:[]}]),os=new u.OlP(""),Fp=[{provide:u.rWj,useClass:class N_{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new u.vHH(5103,!1);return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const f=function(_){c=c||_,a--,0==a&&i(c)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Q().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],hl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Dr(){return new u.qLn},deps:[]},{provide:Is,useClass:pc,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:Is,useClass:rs,multi:!0,deps:[re]},fc,Mp,Ap,{provide:u.FYo,useExisting:fc},{provide:class D_{},useClass:P_,deps:[]},[]];let Ah=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(os,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...hl,...Fp],imports:[Fo,u.hGG]}),n})(),gc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ju(){return new gc((0,u.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var Gi=N(5592),_o=N(4674);var qn=N(2459),It=N(2096),yo=N(5619);const{isArray:vc}=Array,{getPrototypeOf:Lh,prototype:Vh,keys:j_}=Object;function Bh(n){if(1===n.length){const e=n[0];if(vc(e))return{args:e,keys:null};if(function Wu(n){return n&&"object"==typeof n&&Lh(n)===Vh}(e)){const t=j_(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ho=N(2737),Lt=N(7398);const{isArray:z_}=Array;function bc(n){return(0,Lt.U)(e=>function Ku(n,e){return z_(e)?n(...e):n(e)}(n,e))}var ss=N(9940);function Bp(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var rr=N(8251),Up=N(7103);function ml(...n){const e=(0,ss.yG)(n),t=(0,ss.jO)(n),{args:i,keys:r}=Bh(n);if(0===i.length)return(0,qn.D)([],e);const a=new Gi.y(function as(n,e,t=Ho.y){return i=>{Zu(e,()=>{const{length:r}=n,a=new Array(r);let c=r,f=r;for(let _=0;_<r;_++)Zu(e,()=>{const w=(0,qn.D)(n[_],e);let D=!1;w.subscribe((0,rr.x)(i,S=>{a[_]=S,D||(D=!0,f--),f||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Bp(r,c):Ho.y));return t?a.pipe(bc(t)):a}function Zu(n,e,t){n?(0,Up.f)(t,n,e):e()}const Js=(0,N(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ea=N(7537);function ls(...n){return function Uh(){return(0,ea.J)(1)}()((0,qn.D)(n,(0,ss.yG)(n)))}var gl=N(4829);function wc(n){return new Gi.y(e=>{(0,gl.Xf)(n()).subscribe(e)})}var Xu=N(8407);function ks(n,e){const t=(0,_o.m)(n)?n:()=>n,i=r=>r.error(t());return new Gi.y(e?r=>e.schedule(i,0,r):i)}var vo=N(6232),Ec=N(7394),Ii=N(9360);function cs(){return(0,Ii.e)((n,e)=>{let t=null;n._refCount++;const i=(0,rr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Qu extends Gi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ii.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ec.w0;const t=this.getSubject();e.add(this.source.subscribe((0,rr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ec.w0.EMPTY)}return e}refCount(){return cs()(this)}}var Tn=N(8645),qi=N(4664);function bi(n){return n<=0?()=>vo.E:(0,Ii.e)((e,t)=>{let i=0;e.subscribe((0,rr.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Pa(...n){const e=(0,ss.yG)(n);return(0,Ii.e)((t,i)=>{(e?ls(n,t,e):ls(n,t)).subscribe(i)})}function Si(n,e){return(0,Ii.e)((t,i)=>{let r=0;t.subscribe((0,rr.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Ti=N(1631);function Ju(n){return(0,Ii.e)((e,t)=>{let i=!1;e.subscribe((0,rr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Hh(n=Cc){return(0,Ii.e)((e,t)=>{let i=!1;e.subscribe((0,rr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Cc(){return new Js}function Jr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Si((r,a)=>n(r,a,i)):Ho.y,bi(1),t?Ju(e):Hh(()=>new Js))}function eo(n,e){return(0,_o.m)(e)?(0,Ti.z)(n,e,1):(0,Ti.z)(n,1)}var Kn=N(9397);function jo(n){return(0,Ii.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,rr.x)(t,void 0,void 0,c=>{a=(0,gl.Xf)(n(c,jo(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function zo(n,e){return(0,Ii.e)(function ed(n,e,t,i,r){return(a,c)=>{let f=t,_=e,w=0;a.subscribe((0,rr.x)(c,D=>{const S=w++;_=f?n(_,D,S):(f=!0,D),i&&c.next(_)},r&&(()=>{f&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Hp(n){return n<=0?()=>vo.E:(0,Ii.e)((e,t)=>{let i=[];e.subscribe((0,rr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function td(n){return(0,Ii.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const dn="primary",Dc=Symbol("RouteTitle");class zp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xc(n){return new zp(n)}function Ic(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],f=n[a];if(c.startsWith(":"))r[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $o(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Ai(n[r],e[r]))return!1;return!0}function Ai(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function $p(n){return n.length>0?n[n.length-1]:null}function to(n){return function Rs(n){return!!n&&(n instanceof Gi.y||(0,_o.m)(n.lift)&&(0,_o.m)(n.subscribe))}(n)?n:(0,u.QGY)(n)?(0,qn.D)(Promise.resolve(n)):(0,It.of)(n)}const G_={exact:function Sc(n,e,t){if(!vl(n.segments,e.segments)||!nd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Sc(n.children[i],e.children[i],t))return!1;return!0},subset:qp},fr={exact:function Gp(n,e){return $o(n,e)},subset:function Tc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ai(n[t],e[t]))},ignored:()=>!0};function _l(n,e,t){return G_[t.paths](n.root,e.root,t.matrixParams)&&fr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qp(n,e,t){return q_(n,e,e.segments,t)}function q_(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!vl(r,t)||e.hasChildren()||!nd(r,t,i))}if(n.segments.length===t.length){if(!vl(n.segments,t)||!nd(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!qp(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(vl(n.segments,r)&&nd(n.segments,r,i)&&n.children[dn])&&q_(n.children[dn],e,a,i)}}function nd(n,e,t){return e.every((i,r)=>fr[t](n[r].parameters,i.parameters))}class Ac{constructor(e=new an([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return W_.serialize(this)}}class an{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}}class Fa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xc(this.parameters)),this._parameterMap}toString(){return Oc(this)}}function vl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Mc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new id},providedIn:"root"}),n})();class id{parse(e){const t=new nw(e);return new Ac(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rc(e.root,!0)}`,i=function Yp(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${bl(t)}=${bl(r)}`).join("&"):`${bl(t)}=${bl(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function wl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const W_=new id;function rd(n){return n.segments.map(e=>Oc(e)).join("/")}function Rc(n,e){if(!n.hasChildren())return rd(n);if(e){const t=n.children[dn]?Rc(n.children[dn],!1):"",i=[];return Object.entries(n.children).forEach(([r,a])=>{r!==dn&&i.push(`${r}:${Rc(a,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Wp(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===dn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==dn&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===dn?[Rc(n.children[dn],!1)]:[`${r}:${Rc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dn]?`${rd(n)}/${t[0]}`:`${rd(n)}/(${t.join("//")})`}}function Kp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bl(n){return Kp(n).replace(/%3B/gi,";")}function kc(n){return Kp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function La(n){return decodeURIComponent(n)}function od(n){return La(n.replace(/\+/g,"%20"))}function Oc(n){return`${kc(n.path)}${function Zp(n){return Object.keys(n).map(e=>`;${kc(e)}=${kc(n[e])}`).join("")}(n.parameters)}`}const Nc=/^[^\/()?;#]+/;function El(n){const e=n.match(Nc);return e?e[0]:""}const K_=/^[^\/()?;=#]+/,Xp=/^[^=?&#]+/,Cl=/^[^&#]+/;class nw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[dn]=new an(e,t)),i}parseSegment(){const e=El(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Fa(La(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function jh(n){const e=n.match(K_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=El(this.remaining);r&&(i=r,this.capture(i))}e[La(t)]=La(i)}parseQueryParam(e){const t=function Os(n){const e=n.match(Xp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Qp(n){const e=n.match(Cl);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=od(t),a=od(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=El(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=dn);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[dn]:new an([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function zh(n){return n.segments.length>0?new an([],{[dn]:n}):n}function Jp(n){const e={};for(const i of Object.keys(n.children)){const a=Jp(n.children[i]);if(i===dn&&0===a.segments.length&&a.hasChildren())for(const[c,f]of Object.entries(a.children))e[c]=f;else(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function iw(n){if(1===n.numberOfChildren&&n.children[dn]){const e=n.children[dn];return new an(n.segments.concat(e.segments),e.children)}return n}(new an(n.segments,e))}function Va(n){return n instanceof Ac}function tm(n){let e;const r=zh(function t(a){const c={};for(const _ of a.children){const w=t(_);c[_.outlet]=w}const f=new an(a.url,c);return a===n&&(e=f),f}(n.root));return e??r}function sd(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return ad(r,r,r,t,i);const a=function nm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gh(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([_,w])=>{f[_]="string"==typeof w?w.split("/"):w}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Gh(t,e,i)}(e);if(a.toRoot())return ad(r,r,new an([],{}),t,i);const c=function Z_(n,e,t){if(n.isAbsolute)return new ld(e,!0,0);if(!t)return new ld(e,!1,NaN);if(null===t.parent)return new ld(t,!0,0);const i=Go(n.commands[0])?0:1;return function Fc(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new ld(i,!1,r-a)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(a,r,n),f=c.processChildren?Ns(c.segmentGroup,c.index,a.commands):Y_(c.segmentGroup,c.index,a.commands);return ad(r,c.segmentGroup,f,t,i)}function Go(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pc(n){return"object"==typeof n&&null!=n&&n.outlets}function ad(n,e,t,i,r){let c,a={};i&&Object.entries(i).forEach(([_,w])=>{a[_]=Array.isArray(w)?w.map(D=>`${D}`):`${w}`}),c=n===e?t:$h(n,e,t);const f=zh(Jp(c));return new Ac(f,a,r)}function $h(n,e,t){const i={};return Object.entries(n.children).forEach(([r,a])=>{i[r]=a===e?t:$h(a,e,t)}),new an(n.segments,i)}class Gh{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Go(i[0]))throw new u.vHH(4003,!1);const r=i.find(Pc);if(r&&r!==$p(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ld{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Y_(n,e,t){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return Ns(n,e,t);const i=function ow(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],f=t[i];if(Pc(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Q_(_,w,c))return a;i+=2}else{if(!Q_(_,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new an(n.segments.slice(0,i.pathIndex),{});return a.children[dn]=new an(n.segments.slice(i.pathIndex),n.children),Ns(a,0,r)}return i.match&&0===r.length?new an(n.segments,{}):i.match&&!n.hasChildren()?im(n,e,t):i.match?Ns(n,0,r):im(n,e,t)}function Ns(n,e,t){if(0===t.length)return new an(n.segments,{});{const i=function rw(n){return Pc(n[0])?n[0].outlets:{[dn]:n}}(t),r={};if(!i[dn]&&n.children[dn]&&1===n.numberOfChildren&&0===n.children[dn].segments.length){const a=Ns(n.children[dn],e,t);return new an(n.segments,a.children)}return Object.entries(i).forEach(([a,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[a]=Y_(n.children[a],e,c))}),Object.entries(n.children).forEach(([a,c])=>{void 0===i[a]&&(r[a]=c)}),new an(n.segments,r)}}function im(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Pc(a)){const _=sw(a.outlets);return new an(i,_)}if(0===r&&Go(t[0])){i.push(new Fa(n.segments[e].path,X_(t[0]))),r++;continue}const c=Pc(a)?a.outlets[dn]:`${a}`,f=r<t.length-1?t[r+1]:null;c&&f&&Go(f)?(i.push(new Fa(c,X_(f))),r+=2):(i.push(new Fa(c,{})),r++)}return new an(i,{})}function sw(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=im(new an([],{}),0,i))}),e}function X_(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Q_(n,e,t){return n==t.path&&$o(e,t.parameters)}const Dl="imperative";class xr{constructor(e,t){this.id=e,this.url=t}}class Lc extends xr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ta extends xr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ba extends xr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class na extends xr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class ia extends xr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rm extends xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vc extends xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cd extends xr{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ud extends xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us extends xr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class om{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class J_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ey{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class am{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lm{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uc,this.attachRef=null}}let Uc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new lm,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pr(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=pr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return xl(e,this._root).map(t=>t.value)}}function pr(n,e){if(n===e.value)return e;for(const t of e.children){const i=pr(n,t);if(i)return i}return null}function xl(n,e){if(n===e.value)return[e];for(const t of e.children){const i=xl(n,t);if(i.length)return i.unshift(e),i}return[]}class bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ds(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Wi extends cm{constructor(e,t){super(e),this.snapshot=t,jc(this,e)}toString(){return this.snapshot.toString()}}function Il(n,e){const t=function dd(n,e){const c=new Hc([],{},{},"",{},dn,e,null,{});return new Wh("",new bo(c,[]))}(0,e),i=new yo.X([new Fa("",{})]),r=new yo.X({}),a=new yo.X({}),c=new yo.X({}),f=new yo.X(""),_=new ra(i,r,c,f,a,dn,e,t.root);return _.snapshot=t.root,new Wi(new bo(_,[]),t)}class ra{constructor(e,t,i,r,a,c,f,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=a,this.outlet=c,this.component=f,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Lt.U)(w=>w[Dc]))??(0,It.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(e=>xc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(e=>xc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Br(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Sl(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Hc{get title(){return this.data?.[Dc]}constructor(e,t,i,r,a,c,f,_,w){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=f,this.routeConfig=_,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wh extends cm{constructor(e,t){super(t),this.url=e,jc(this,t)}toString(){return zc(this._root)}}function jc(n,e){e.value._routerState=n,e.children.forEach(t=>jc(n,t))}function zc(n){const e=n.children.length>0?` { ${n.children.map(zc).join(", ")} } `:"";return`${n.value}${e}`}function Kh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$o(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),$o(e.params,t.params)||n.paramsSubject.next(t.params),function tw(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$o(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),$o(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hd(n,e){const t=$o(n.params,e.params)&&function yl(n,e){return vl(n,e)&&n.every((t,i)=>$o(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hd(n.parent,e.parent))}let $c=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Uc),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(Gc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new hs(t,f,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class hs{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ra?this.route:e===Uc?this.childContexts:this.parent.get(e,t)}}const Gc=new u.OlP("");let Tl=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ml([i.queryParams,i.params,i.data]).pipe((0,qi.w)(([a,c,f],_)=>(f={...a,...c,...f},0===_?(0,It.of)(f):Promise.resolve(f)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const c=(0,u.qFp)(i.component);if(c)for(const{templateName:f}of c.inputs)t.activatedComponentRef.setInput(f,a[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Zh(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return qc(n,i,r);return qc(n,i)})}(n,e,t);return new bo(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>qc(n,f)),c}}const i=function Ir(n){return new ra(new yo.X(n.url),new yo.X(n.params),new yo.X(n.queryParams),new yo.X(n.fragment),new yo.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>qc(n,a));return new bo(i,r)}}const Al="ngNavigationCancelingError";function Ps(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Va(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Wc(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Wc(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Al]=!0,i.cancellationCode=e,t&&(i.url=t),i}function qo(n){return oa(n)&&Va(n.url)}function oa(n){return n&&n[Al]}let Ml=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[$c],encapsulation:2}),n})();function g(n){const e=n.children&&n.children.map(g),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dn&&(t.component=Ml),t}function b(n){return n.outlet||dn}function M(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $e{constructor(e,t,i,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Kh(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=ds(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),Object.values(r).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ds(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=ds(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=ds(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Bc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new sm(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Kh(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Kh(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=M(r.snapshot);c.attachRef=null,c.route=r,c.injector=f,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Ye{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lt{constructor(e,t){this.component=e,this.route=t}}function wt(n,e,t){const i=n._root;return Fs(i,e?e._root:null,t,[i.value])}function mr(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Fs(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=ds(e);return n.children.forEach(c=>{(function Yh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function fd(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!vl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vl(n.url,e.url)||!$o(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hd(n,e)||!$o(n.queryParams,e.queryParams);default:return!hd(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Ye(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Fs(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new lt(f.outlet.component,c))}else c&&sa(e,f,r),r.canActivateChecks.push(new Ye(i)),Fs(n,null,a.component?f?f.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),Object.entries(a).forEach(([c,f])=>sa(f,t.getContext(c),r)),r}function sa(n,e,t){const i=ds(n),r=n.value;Object.entries(i).forEach(([a,c])=>{sa(c,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new lt(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ua(n){return"function"==typeof n}function uw(n){return n instanceof Js||"EmptyError"===n?.name}const Qh=Symbol("INITIAL_VALUE");function md(){return(0,qi.w)(n=>ml(n.map(e=>e.pipe(bi(1),Pa(Qh)))).pipe((0,Lt.U)(e=>{for(const t of e)if(!0!==t){if(t===Qh)return Qh;if(!1===t||t instanceof Ac)return t}return!0}),Si(e=>e!==Qh),bi(1)))}function _S(n){return(0,Xu.z)((0,Kn.b)(e=>{if(Va(e))throw Ps(0,e)}),(0,Lt.U)(e=>!0===e))}class _d{constructor(e){this.segmentGroup=e||null}}class fw{constructor(e){this.urlTree=e}}function aa(n){return ks(new _d(n))}function Jh(n){return ks(new fw(n))}class mw{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,It.of)(i);if(r.numberOfChildren>1||!r.children[dn])return ks(new u.vHH(4e3,!1));r=r.children[dn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Ac(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);i[r]=t[f]}else i[r]=a}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return Object.entries(t.children).forEach(([f,_])=>{c[f]=this.createSegmentGroup(e,_,i,r)}),new an(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xc(n,e,t,i,r){const a=ay(n,e,t);return a.matched?(i=function um(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function yS(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,It.of)(!0);const a=r.map(c=>{const f=mr(c,n);return to(function hm(n){return n&&Ua(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(a).pipe(md(),_S())}(i,e,t).pipe((0,Lt.U)(c=>!0===c?a:{...pm}))):(0,It.of)(a)}function ay(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...pm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ic)(t,n,e);if(!r)return{...pm};const a={};Object.entries(r.posParams??{}).forEach(([f,_])=>{a[f]=_.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function gw(n,e,t,i){return t.length>0&&function wS(n,e,t){return t.some(i=>ja(n,e,i)&&b(i)!==dn)}(n,t,i)?{segmentGroup:new an(e,bS(i,new an(t,n.children))),slicedSegments:[]}:0===t.length&&function Ha(n,e,t){return t.some(i=>ja(n,e,i))}(n,t,i)?{segmentGroup:new an(n.segments,vS(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new an(n.segments,n.children),slicedSegments:t}}function vS(n,e,t,i,r){const a={};for(const c of i)if(ja(n,t,c)&&!r[b(c)]){const f=new an([],{});a[b(c)]=f}return{...r,...a}}function bS(n,e){const t={};t[dn]=e;for(const i of n)if(""===i.path&&b(i)!==dn){const r=new an([],{});t[b(i)]=r}return t}function ja(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class xS{constructor(e,t,i,r,a,c,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new mw(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=gw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,dn).pipe(jo(t=>{if(t instanceof fw)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof _d?this.noMatchError(t):t}),(0,Lt.U)(t=>{const i=new Hc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,{}),r=new bo(i,t),a=new Wh("",r),c=function em(n,e,t=null,i=null){return sd(tm(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(a._root),{state:a,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,dn).pipe(jo(i=>{throw i instanceof _d?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Br(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,qn.D)(r).pipe(eo(a=>{const c=i.children[a],f=function x(n,e){const t=n.filter(i=>b(i)===e);return t.push(...n.filter(i=>b(i)!==e)),t}(t,a);return this.processSegmentGroup(e,f,c,a)}),zo((a,c)=>(a.push(...c),a)),Ju(null),function jp(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Si((r,a)=>n(r,a,i)):Ho.y,Hp(1),t?Ju(e):Hh(()=>new Js))}(),(0,Ti.z)(a=>{if(null===a)return aa(i);const c=ly(a);return function IS(n){n.sort((e,t)=>e.value.outlet===dn?-1:t.value.outlet===dn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,It.of)(c)}))}processSegment(e,t,i,r,a,c){return(0,qn.D)(t).pipe(eo(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,a,c).pipe(jo(_=>{if(_ instanceof _d)return(0,It.of)(null);throw _}))),Jr(f=>!!f),jo(f=>{if(uw(f))return function CS(n,e,t){return 0===e.length&&!n.children[t]}(i,r,a)?(0,It.of)([]):aa(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,a,c,f){return function ES(n,e,t,i){return!!(b(n)===i||i!==dn&&ja(e,t,n))&&("**"===n.path||ay(e,n,t).matched)}(i,r,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,a,c,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,a,c):aa(r):aa(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Jh(a):this.applyRedirects.lineralizeSegments(i,a).pipe((0,Ti.z)(c=>{const f=new an(c,{});return this.processSegment(e,t,f,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=ay(t,r,a);if(!f)return aa(t);const S=this.applyRedirects.applyRedirectCommands(_,r.redirectTo,D);return r.redirectTo.startsWith("/")?Jh(S):this.applyRedirects.lineralizeSegments(r,S).pipe((0,Ti.z)(P=>this.processSegment(e,i,t,P.concat(w),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a,c){let f;if("**"===i.path){const _=r.length>0?$p(r).parameters:{},w=new Hc(r,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_w(i),b(i),i.component??i._loadedComponent??null,i,yw(i));f=(0,It.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=Xc(t,i,r,e).pipe((0,Lt.U)(({matched:_,consumedSegments:w,remainingSegments:D,parameters:S})=>_?{snapshot:new Hc(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_w(i),b(i),i.component??i._loadedComponent??null,i,yw(i)),consumedSegments:w,remainingSegments:D}:null));return f.pipe((0,qi.w)(_=>null===_?aa(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,qi.w)(({routes:w})=>{const D=i._loadedInjector??e,{snapshot:S,consumedSegments:P,remainingSegments:U}=_,{segmentGroup:q,slicedSegments:J}=gw(t,P,U,w);if(0===J.length&&q.hasChildren())return this.processChildren(D,w,q).pipe((0,Lt.U)(Xe=>null===Xe?null:[new bo(S,Xe)]));if(0===w.length&&0===J.length)return(0,It.of)([new bo(S,[])]);const ge=b(i)===a;return this.processSegment(D,w,q,J,ge?dn:a,!0).pipe((0,Lt.U)(Xe=>[new bo(S,Xe)]))}))))}getChildConfig(e,t,i){return t.children?(0,It.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,It.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function gS(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,It.of)(!0);const a=r.map(c=>{const f=mr(c,n);return to(function kl(n){return n&&Ua(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(a).pipe(md(),_S())}(e,t,i).pipe((0,Ti.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Kn.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function pw(n){return ks(Wc(!1,3))}())):(0,It.of)({routes:[],injector:e})}}function SS(n){const e=n.value.routeConfig;return e&&""===e.path}function ly(n){const e=[],t=new Set;for(const i of n){if(!SS(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=ly(i.children);e.push(new bo(i.value,r))}return e.filter(i=>!t.has(i))}function _w(n){return n.data||{}}function yw(n){return n.resolve||{}}function cy(n){return"string"==typeof n.title||null===n.title}function ww(n){return(0,qi.w)(e=>{const t=n(e);return t?(0,qn.D)(t).pipe((0,Lt.U)(()=>e)):(0,It.of)(e)})}const tf=new u.OlP("ROUTES");let Ew=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,It.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=to(t.loadComponent()).pipe((0,Lt.U)(gm),(0,Kn.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),td(()=>{this.componentLoaders.delete(t)})),r=new Qu(i,()=>new Tn.x).pipe(cs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,It.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Lt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w;return Array.isArray(f)?w=f:(_=f.create(t).injector,w=_.get(tf,[],u.XFs.Self|u.XFs.Optional).flat()),{routes:w.map(g),injector:_}}),td(()=>{this.childrenLoaders.delete(i)})),c=new Qu(a,()=>new Tn.x).pipe(cs());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return to(t()).pipe((0,Lt.U)(gm),(0,Ti.z)(i=>i instanceof u.YKP||Array.isArray(i)?(0,It.of)(i):(0,qn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gm(n){return function uy(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Tn.x,this.configLoader=(0,u.f3M)(Ew),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Mc),this.rootContexts=(0,u.f3M)(Uc),this.inputBindingEnabled=null!==(0,u.f3M)(Gc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,It.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new J_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new om(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new yo.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Dl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(i=>0!==i.id),(0,Lt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,qi.w)(i=>{let r=!1,a=!1;return(0,It.of)(i).pipe((0,Kn.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qi.w)(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new na(c.id,t.serializeUrl(i.rawUrl),D,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),vo.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return AS(c.source)&&(t.browserUrlTree=c.extractedUrl),(0,It.of)(c).pipe((0,qi.w)(D=>{const S=this.transitions?.getValue();return this.events.next(new Lc(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),S!==this.transitions?.getValue()?vo.E:Promise.resolve(D)}),function TS(n,e,t,i,r,a){return(0,Ti.z)(c=>function DS(n,e,t,i,r,a,c="emptyOnly"){return new xS(n,e,t,i,r,c,a).recognize()}(n,e,t,i,c.extractedUrl,r,a).pipe((0,Lt.U)(({state:f,tree:_})=>({...c,targetSnapshot:f,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Kn.b)(D=>{if(i.targetSnapshot=D.targetSnapshot,i.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(P,D)}t.browserUrlTree=D.urlAfterRedirects}const S=new rm(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(S)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:S,source:P,restoredState:U,extras:q}=c,J=new Lc(D,this.urlSerializer.serialize(S),P,U);this.events.next(J);const ge=Il(0,this.rootComponentType).snapshot;return i={...c,targetSnapshot:ge,urlAfterRedirects:S,extras:{...q,skipLocationChange:!1,replaceUrl:!1}},(0,It.of)(i)}{const D="";return this.events.next(new na(c.id,t.serializeUrl(i.extractedUrl),D,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),vo.E}}),(0,Kn.b)(c=>{const f=new Vc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Lt.U)(c=>i={...c,guards:wt(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function fS(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?(0,It.of)({...t,guardsResult:!0}):function pS(n,e,t,i){return(0,qn.D)(n).pipe((0,Ti.z)(r=>function mS(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,It.of)(!0);const c=a.map(f=>{const _=M(e)??r,w=mr(f,_);return to(function Zc(n){return n&&Ua(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):_.runInContext(()=>w(n,e,t,i))).pipe(Jr())});return(0,It.of)(c).pipe(md())}(r.component,r.route,t,e,i)),Jr(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Ti.z)(f=>f&&function Rl(n){return"boolean"==typeof n}(f)?function dw(n,e,t,i){return(0,qn.D)(e).pipe(eo(r=>ls(function fm(n,e){return null!==n&&e&&e(new ey(n)),(0,It.of)(!0)}(r.route.parent,i),function hw(n,e){return null!==n&&e&&e(new qh(n)),(0,It.of)(!0)}(r.route,i),function gd(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Zn(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>wc(()=>{const f=c.guards.map(_=>{const w=M(c.node)??t,D=mr(_,w);return to(function Kc(n){return n&&Ua(n.canActivateChild)}(D)?D.canActivateChild(i,n):w.runInContext(()=>D(i,n))).pipe(Jr())});return(0,It.of)(f).pipe(md())}));return(0,It.of)(a).pipe(md())}(n,r.path,t),function oy(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,It.of)(!0);const r=i.map(a=>wc(()=>{const c=M(e)??t,f=mr(a,c);return to(function Xh(n){return n&&Ua(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Jr())}));return(0,It.of)(r).pipe(md())}(n,r.route,t))),Jr(r=>!0!==r,!0))}(i,a,n,e):(0,It.of)(f)),(0,Lt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Kn.b)(c=>{if(i.guardsResult=c.guardsResult,Va(c.guardsResult))throw Ps(0,c.guardsResult);const f=new cd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Si(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),ww(c=>{if(c.guards.canActivateChecks.length)return(0,It.of)(c).pipe((0,Kn.b)(f=>{const _=new ud(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),(0,qi.w)(f=>{let _=!1;return(0,It.of)(f).pipe(function mm(n,e){return(0,Ti.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,It.of)(t);let a=0;return(0,qn.D)(r).pipe(eo(c=>function za(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!cy(r)&&(a[Dc]=r.title),function ef(n,e,t,i){const r=function vw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,It.of)({});const a={};return(0,qn.D)(r).pipe((0,Ti.z)(c=>function bw(n,e,t,i){const r=M(e)??i,a=mr(n,r);return to(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(Jr(),(0,Kn.b)(f=>{a[c]=f}))),Hp(1),function $_(n){return(0,Lt.U)(()=>n)}(a),jo(c=>uw(c)?vo.E:ks(c)))}(a,n,e,i).pipe((0,Lt.U)(c=>(n._resolvedData=c,n.data=Br(n,t).resolve,r&&cy(r)&&(n.data[Dc]=r.title),null)))}(c.route,i,n,e)),(0,Kn.b)(()=>a++),Hp(1),(0,Ti.z)(c=>a===r.length?(0,It.of)(t):vo.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Kn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Kn.b)(f=>{const _=new us(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),ww(c=>{const f=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Kn.b)(D=>{_.component=D}),(0,Lt.U)(()=>{})));for(const D of _.children)w.push(...f(D));return w};return ml(f(c.targetSnapshot.root)).pipe(Ju(),bi(1))}),ww(()=>this.afterPreactivation()),(0,Lt.U)(c=>{const f=function ny(n,e,t){const i=qc(n,e._root,t?t._root:void 0);return new Wi(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:f}}),(0,Kn.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t,i)=>(0,Lt.U)(r=>(new $e(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bi(1),(0,Kn.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ta(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),td(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),jo(c=>{if(a=!0,oa(c)){qo(c)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new Ba(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),qo(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||AS(i.source)};t.scheduleNavigation(_,Dl,null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new ia(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(c))}catch(_){i.reject(_)}}return vo.E}))}))}cancelNavigationTransition(t,i,r){const a=new Ba(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AS(n){return n!==Dl}let hy=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===dn);return i}getResolvedTitleForRoute(t){return t.data[Dc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(MS)},providedIn:"root"}),n})(),MS=(()=>{class n extends hy{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(OS)},providedIn:"root"}),n})();class kS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let OS=(()=>{class n extends kS{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=new u.OlP("",{providedIn:"root",factory:()=>({})});let _m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Cw)},providedIn:"root"}),n})(),Cw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var no=(()=>((no=no||{})[no.COMPLETE=0]="COMPLETE",no[no.FAILED=1]="FAILED",no[no.REDIRECTING=2]="REDIRECTING",no))();function Dw(n,e){n.events.pipe(Si(t=>t instanceof ta||t instanceof Ba||t instanceof ia||t instanceof na),(0,Lt.U)(t=>t instanceof ta||t instanceof na?no.COMPLETE:t instanceof Ba&&(0===t.code||1===t.code)?no.REDIRECTING:no.FAILED),Si(t=>t!==no.REDIRECTING),bi(1)).subscribe(()=>{e()})}function Fi(n){throw n}function NS(n,e,t){return e.parse("/")}const PS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(nf,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||Fi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||NS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(_m),this.routeReuseStrategy=(0,u.f3M)(RS),this.titleStrategy=(0,u.f3M)(hy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(tf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(dy),this.urlSerializer=(0,u.f3M)(Mc),this.location=(0,u.f3M)(Ue),this.componentInputBindingEnabled=!!(0,u.f3M)(Gc,{optional:!0}),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ac,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Il(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Dl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(g),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:_}=i,w=_?this.currentUrlTree.fragment:c;let S,D=null;switch(f){case"merge":D={...this.currentUrlTree.queryParams,...a};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=a||null}null!==D&&(D=this.removeEmptyProps(D));try{S=tm(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),S=this.currentUrlTree.root}return sd(S,t,D,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Va(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,Dl,null,i)}navigate(t,i={skipLocationChange:!1}){return function FS(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new u.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...PS}:!1===i?{...xw}:i,Va(t))return _l(this.currentUrlTree,t,r);const a=this.parseUrl(t);return _l(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let f,_,w;c?(f=c.resolve,_=c.reject,w=c.promise):w=new Promise((S,P)=>{f=S,_=P});const D=this.pendingTasks.add();return Dw(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(S=>Promise.reject(S))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const a={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",a)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ym=(()=>{class n{constructor(t,i,r,a,c,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=c,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new Tn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(w=>{w instanceof ta&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wo),u.Y36(ra),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ye))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",u.VuI],replaceUrl:["replaceUrl","replaceUrl",u.VuI],routerLink:"routerLink"},standalone:!0,features:[u.Xq5,u.TTD]}),n})();class fy{}let rf=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof ta),eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&r.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,qn.D)(r).pipe((0,ea.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,It.of)(null);const a=r.pipe((0,Ti.z)(c=>null===c?(0,It.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,qn.D)([a,c]).pipe((0,ea.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wo),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(fy),u.LFG(Ew))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kn=new u.OlP("");let yd=(()=>{class n{constructor(t,i,r,a,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ta?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof na&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof am&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new am(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function la(n,e){return{\u0275kind:n,\u0275providers:e}}function vm(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(wo),r=n.get(jS);1===n.get(sf)&&i.initialNavigation(),n.get(gy,null,u.XFs.Optional)?.setUpPreloading(),n.get(kn,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const jS=new u.OlP("",{factory:()=>new Tn.x}),sf=new u.OlP("",{providedIn:"root",factory:()=>1}),gy=new u.OlP("");function Qc(n){return la(0,[{provide:gy,useExisting:rf},{provide:fy,useExisting:n}])}const af=new u.OlP("ROUTER_FORROOT_GUARD"),Jc=[Ue,{provide:Mc,useClass:id},wo,Uc,{provide:ra,useFactory:function py(n){return n.routerState.root},deps:[wo]},Ew,[]];function yy(){return new u.PXZ("Router",wo)}let bm=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Jc,[],{provide:tf,multi:!0,useValue:t},{provide:af,useFactory:vd,deps:[[wo,new u.FiY,new u.tp0]]},{provide:nf,useValue:i||{}},i?.useHash?{provide:ye,useClass:Je}:{provide:ye,useClass:Be},{provide:kn,useFactory:()=>{const n=(0,u.f3M)(tr),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(nf),i=(0,u.f3M)(dy),r=(0,u.f3M)(Mc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yd(r,i,n,e,t)}},i?.preloadingStrategy?Qc(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:yy},i?.initialNavigation?KS(i):[],i?.bindToComponentInputs?la(8,[Tl,{provide:Gc,useExisting:Tl}]).\u0275providers:[],[{provide:Mw,useFactory:vm},{provide:u.tb,multi:!0,useExisting:Mw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:tf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(af,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function vd(n){return"guarded"}function KS(n){return["disabled"===n.initialNavigation?la(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(wo);return()=>{e.setUpLocationChangeListener()}}},{provide:sf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?la(2,[{provide:sf,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(pe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(wo),a=e.get(jS);Dw(r,()=>{i(!0)}),e.get(dy).afterPreactivation=()=>(i(!0),a.closed?(0,It.of)(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const Mw=new u.OlP(""),ca=Object.create(null);ca.open="0",ca.close="1",ca.ping="2",ca.pong="3",ca.message="4",ca.upgrade="5",ca.noop="6";const wm=Object.create(null);Object.keys(ca).forEach(n=>{wm[ca[n]]=n});const QS={type:"error",data:"parser error"},oP="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),sP="function"==typeof ArrayBuffer,Cm=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)},Dm=({type:n,data:e},t,i)=>oP&&e instanceof Blob?t?i(e):Cm(e,i):sP&&(e instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(e))?t?i(e):Cm(new Blob([e]),i):i(ca[n]+(e||"")),eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)eu["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const xm="function"==typeof ArrayBuffer,Nw=(n,e)=>{if(xm){const t=(n=>{let i,a,c,f,_,e=.75*n.length,t=n.length,r=0;"="===n[n.length-1]&&(e--,"="===n[n.length-2]&&e--);const w=new ArrayBuffer(e),D=new Uint8Array(w);for(i=0;i<t;i+=4)a=eu[n.charCodeAt(i)],c=eu[n.charCodeAt(i+1)],f=eu[n.charCodeAt(i+2)],_=eu[n.charCodeAt(i+3)],D[r++]=a<<2|c>>4,D[r++]=(15&c)<<4|f>>2,D[r++]=(3&f)<<6|63&_;return w})(n);return Im(t,e)}return{base64:!0,data:n}},Im=(n,e)=>"blob"===e&&n instanceof ArrayBuffer?new Blob([n]):n,uf=(n,e)=>{if("string"!=typeof n)return{type:"message",data:Im(n,e)};const t=n.charAt(0);return"b"===t?{type:"message",data:Nw(n.substring(1),e)}:wm[t]?n.length>1?{type:wm[t],data:n.substring(1)}:{type:wm[t]}:QS},eT=String.fromCharCode(30);function Ki(n){if(n)return function tT(n){for(var e in Ki.prototype)n[e]=Ki.prototype[e];return n}(n)}Ki.prototype.on=Ki.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},Ki.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},Ki.prototype.off=Ki.prototype.removeListener=Ki.prototype.removeAllListeners=Ki.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if((i=t[r])===e||i.fn===e){t.splice(r,1);break}return 0===t.length&&delete this._callbacks["$"+n],this},Ki.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){i=0;for(var r=(t=t.slice(0)).length;i<r;++i)t[i].apply(this,e)}return this},Ki.prototype.emitReserved=Ki.prototype.emit,Ki.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},Ki.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Wo=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ey(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const nT=Wo.setTimeout,iT=Wo.clearTimeout;function Cy(n,e){e.useNativeTimers?(n.setTimeoutFn=nT.bind(Wo),n.clearTimeoutFn=iT.bind(Wo)):(n.setTimeoutFn=Wo.setTimeout.bind(Wo),n.clearTimeoutFn=Wo.clearTimeout.bind(Wo))}function Dy(n){return"string"==typeof n?function xy(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}(n):Math.ceil(1.33*(n.byteLength||n.size))}class oT extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class Iy extends Ki{constructor(e){super(),this.writable=!1,Cy(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new oT(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=uf(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const Sm="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),tu=64,Pw={};let Ty,Sy=0,Ol=0;function sT(n){let e="";do{e=Sm[n%tu]+e,n=Math.floor(n/tu)}while(n>0);return e}function bd(){const n=sT(+new Date);return n!==Ty?(Sy=0,Ty=n):n+"."+sT(Sy++)}for(;Ol<tu;Ol++)Pw[Sm[Ol]]=Ol;function Fw(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}let Ed=!1;try{Ed=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const aT=Ed;function Ay(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||aT))return new XMLHttpRequest}catch{}if(!e)try{return new(Wo[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function lT(){}const cT=null!=new Ay({xdomain:!1}).responseType;let df=(()=>{class n extends Ki{constructor(t,i){super(),Cy(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.async=!1!==i.async,this.data=void 0!==i.data?i.data:null,this.create()}create(){const t=Ey(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const i=this.xhr=new Ay(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(r){return void this.setTimeoutFn(()=>{this.onError(r)},0)}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=lT,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function My(){for(let n in df.requests)df.requests.hasOwnProperty(n)&&df.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",My):"function"==typeof addEventListener&&addEventListener("onpagehide"in Wo?"pagehide":"unload",My,!1));const Tm="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Nl=Wo.WebSocket||Wo.MozWebSocket,Mm=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Rm={websocket:class Cd extends Iy{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=Mm?{}:Ey(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Mm?new Nl(e,t,i):t?new Nl(e,t):new Nl(e)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=t===e.length-1;Dm(e[t],this.supportsBinary,a=>{try{this.ws.send(a)}catch{}r&&Tm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let i="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=bd()),this.supportsBinary||(e.b64=1);const r=Fw(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}check(){return!!Nl}},polling:class uT extends Iy{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const i="https:"===location.protocol;let r=location.port;r||(r=i?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==i}this.supportsBinary=cT&&!(e&&e.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((n,e)=>{const t=n.split(eT),i=[];for(let r=0;r<t.length;r++){const a=uf(t[r],e);if(i.push(a),"error"===a.type)break}return i})(e,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((n,e)=>{const t=n.length,i=new Array(t);let r=0;n.forEach((a,c)=>{Dm(a,!1,f=>{i[c]=f,++r===t&&e(i.join(eT))})})})(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let i="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=bd()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port);const r=Fw(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new df(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,a)=>{this.onError("xhr post error",r,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}},Lw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ry(n){const e=n,t=n.indexOf("["),i=n.indexOf("]");-1!=t&&-1!=i&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=Lw.exec(n||""),a={},c=14;for(;c--;)a[Vw[c]]=r[c]||"";return-1!=t&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function dT(n,e){const i=e.replace(/\/{2,9}/g,"/").split("/");return("/"==e.slice(0,1)||0===e.length)&&i.splice(0,1),"/"==e.slice(-1)&&i.splice(i.length-1,1),i}(0,a.path),a.queryKey=function hT(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,a){r&&(t[r]=a)}),t}(0,a.query),a}let Bw=(()=>{class n extends Ki{constructor(t,i={}){super(),this.writeBuffer=[],t&&"object"==typeof t&&(i=t,t=null),t?(t=Ry(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=Ry(i.host).host),Cy(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function wd(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let a=t[i].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Rm[t](r)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),r=!1;n.priorWebsocketSuccess=!1;const a=()=>{r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",P=>{if(!r)if("pong"===P.type&&"probe"===P.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(S(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const U=new Error("probe error");U.transport=i.name,this.emitReserved("upgradeError",U)}}))};function c(){r||(r=!0,S(),i.close(),i=null)}const f=P=>{const U=new Error("probe error: "+P);U.transport=i.name,c(),this.emitReserved("upgradeError",U)};function _(){f("transport closed")}function w(){f("socket closed")}function D(P){i&&P.name!==i.name&&c()}const S=()=>{i.removeListener("open",a),i.removeListener("error",f),i.removeListener("close",_),this.off("close",w),this.off("upgrading",D)};i.once("open",a),i.once("error",f),i.once("close",_),this.once("close",w),this.once("upgrading",D),i.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(i+=Dy(a)),r>0&&i>this.maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}write(t,i,r){return this.sendPacket("message",t,i,r),this}send(t,i,r){return this.sendPacket("message",t,i,r),this}sendPacket(t,i,r,a){if("function"==typeof i&&(a=i,i=void 0),"function"==typeof r&&(a=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const c={type:t,data:i,options:r};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const i=[];let r=0;const a=t.length;for(;r<a;r++)~this.transports.indexOf(t[r])&&i.push(t[r]);return i}}return n.protocol=4,n})();const Uw="function"==typeof ArrayBuffer,Dd=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,da=Object.prototype.toString,Hw="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===da.call(Blob),uP="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===da.call(File);function ky(n){return Uw&&(n instanceof ArrayBuffer||Dd(n))||Hw&&n instanceof Blob||uP&&n instanceof File}function Oy(n,e){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(Oy(n[t]))return!0;return!1}if(ky(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return Oy(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&Oy(n[t]))return!0;return!1}function dP(n){const e=[],i=n;return i.data=km(n.data,e),i.attachments=e.length,{packet:i,buffers:e}}function km(n,e){if(!n)return n;if(ky(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=km(n[i],e);return t}if("object"==typeof n&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=km(n[i],e));return t}return n}function jw(n,e){return n.data=zw(n.data,e),delete n.attachments,n}function zw(n,e){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=zw(n[t],e);else if("object"==typeof n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=zw(n[t],e));return n}const $w=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Om=5;var Gt=(()=>((Gt=Gt||{})[Gt.CONNECT=0]="CONNECT",Gt[Gt.DISCONNECT=1]="DISCONNECT",Gt[Gt.EVENT=2]="EVENT",Gt[Gt.ACK=3]="ACK",Gt[Gt.CONNECT_ERROR=4]="CONNECT_ERROR",Gt[Gt.BINARY_EVENT=5]="BINARY_EVENT",Gt[Gt.BINARY_ACK=6]="BINARY_ACK",Gt))();class Gw{constructor(e){this.replacer=e}encode(e){return e.type!==Gt.EVENT&&e.type!==Gt.ACK||!Oy(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Gt.EVENT?Gt.BINARY_EVENT:Gt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return(e.type===Gt.BINARY_EVENT||e.type===Gt.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=dP(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}}function Ny(n){return"[object Object]"===Object.prototype.toString.call(n)}class nn extends Ki{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===Gt.BINARY_EVENT;i||t.type===Gt.BINARY_ACK?(t.type=i?Gt.EVENT:Gt.ACK,this.reconstructor=new qw(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ky(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(void 0===Gt[i.type])throw new Error("unknown packet type "+i.type);if(i.type===Gt.BINARY_EVENT||i.type===Gt.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const c=e.substring(a,t);if(c!=Number(c)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(c)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(a,t)}else i.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const a=t+1;for(;++t;){const c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}i.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!nn.isPayloadValid(i.type,a))throw new Error("invalid payload");i.data=a}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Gt.CONNECT:return Ny(t);case Gt.DISCONNECT:return void 0===t;case Gt.CONNECT_ERROR:return"string"==typeof t||Ny(t);case Gt.EVENT:case Gt.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===$w.indexOf(t[0]));case Gt.ACK:case Gt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qw{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=jw(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function fs(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const hP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ww extends Ki{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[fs(e,"open",this.onopen.bind(this)),fs(e,"packet",this.onpacket.bind(this)),fs(e,"error",this.onerror.bind(this)),fs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(hP.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:Gt.EVENT,data:t,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const c=this.ids++,f=t.pop();this._registerAckCallback(c,f),i.id=c}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var i;const r=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...c)=>{this.io.clearTimeoutFn(a),t.apply(this,[null,...c])}}emitWithAck(e,...t){const i=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((r,a)=>{t.push((c,f)=>i?c?a(c):r(f):r(c)),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...a)=>i!==this._queue[0]?void 0:(null!==r?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...a)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Gt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Gt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Gt.EVENT:case Gt.BINARY_EVENT:this.onevent(e);break;case Gt.ACK:case Gt.BINARY_ACK:this.onack(e);break;case Gt.DISCONNECT:this.ondisconnect();break;case Gt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...r){i||(i=!0,t.packet({type:Gt.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Gt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function nu(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}nu.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=1&Math.floor(10*e)?n+t:n-t}return 0|Math.min(n,this.max)},nu.prototype.reset=function(){this.attempts=0},nu.prototype.setMin=function(n){this.ms=n},nu.prototype.setMax=function(n){this.max=n},nu.prototype.setJitter=function(n){this.jitter=n};class Py extends Ki{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Cy(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new nu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||T;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Bw(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=fs(t,"open",function(){i.onopen(),e&&e()}),a=fs(t,"error",c=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",c),e?e(c):i.maybeReconnectOnOpen()});if(!1!==this._timeout){const c=this._timeout;0===c&&r();const f=this.setTimeoutFn(()=>{r(),t.close(),t.emit("error",new Error("timeout"))},c);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(fs(e,"ping",this.onping.bind(this)),fs(e,"data",this.ondata.bind(this)),fs(e,"error",this.onerror.bind(this)),fs(e,"close",this.onclose.bind(this)),fs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Tm(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Ww(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const hf={};function ff(n,e){"object"==typeof n&&(e=n,n=void 0);const t=function fT(n,e="",t){let i=n;t=t||typeof location<"u"&&location,null==n&&(n=t.protocol+"//"+t.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?t.protocol+n:t.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof t<"u"?t.protocol+"//"+n:"https://"+n),i=Ry(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+e,i.href=i.protocol+"://"+a+(t&&t.port===i.port?"":":"+i.port),i}(n,(e=e||{}).path||"/socket.io"),i=t.source,r=t.id;let _;return e.forceNew||e["force new connection"]||!1===e.multiplex||hf[r]&&t.path in hf[r].nsps?_=new Py(i,e):(hf[r]||(hf[r]=new Py(i,e)),_=hf[r]),t.query&&!e.query&&(e.query=t.queryKey),_.socket(t.path,e)}function Ls(n){return null!=n&&"false"!=`${n}`}function Nm(n,e=0){return function pT(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Pm(n){return Array.isArray(n)?n:[n]}function or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ha(n){return n instanceof u.SBq?n.nativeElement:n}Object.assign(ff,{Manager:Py,Socket:Ww,io:ff,connect:ff});var Pl=N(4266);const xd=["addListener","removeListener"],Kw=["addEventListener","removeEventListener"],gT=["on","off"];function Id(n,e,t,i){if((0,_o.m)(t)&&(i=t,t=void 0),i)return Id(n,e,t).pipe(bc(i));const[r,a]=function Zw(n){return(0,_o.m)(n.addEventListener)&&(0,_o.m)(n.removeEventListener)}(n)?Kw.map(c=>f=>n[c](e,f,t)):function Fy(n){return(0,_o.m)(n.addListener)&&(0,_o.m)(n.removeListener)}(n)?xd.map(iu(n,e)):function pf(n){return(0,_o.m)(n.on)&&(0,_o.m)(n.off)}(n)?gT.map(iu(n,e)):[];if(!r&&(0,Pl.z)(n))return(0,Ti.z)(c=>Id(c,e,t))((0,gl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Gi.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function iu(n,e){return t=>i=>n[t](e,i)}var Fm=N(1954);const ru={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ru;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Ec.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ru;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ru;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Vy=N(2631);new class By extends Vy.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Ly extends Fm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ru.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(ru.cancelAnimationFrame(t),e._scheduled=void 0)}});let Lm,yT=1;const Vm={};function Yw(n){return n in Vm&&(delete Vm[n],!0)}const vT={setImmediate(n){const e=yT++;return Vm[e]=!0,Lm||(Lm=Promise.resolve()),Lm.then(()=>Yw(e)&&n()),e},clearImmediate(n){Yw(n)}},{setImmediate:Xw,clearImmediate:Qw}=vT,Bm={setImmediate(...n){const{delegate:e}=Bm;return(e?.setImmediate||Xw)(...n)},clearImmediate(n){const{delegate:e}=Bm;return(e?.clearImmediate||Qw)(n)},delegate:void 0};new class Ko extends Vy.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bT extends Fm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Bm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Bm.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var Uy=N(6321),Jw=N(671);function eE(n,e=Uy.z){return function Hy(n){return(0,Ii.e)((e,t)=>{let i=!1,r=null,a=null,c=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,rr.x)(t,w=>{i=!0,r=w,a||(0,gl.Xf)(n(w)).subscribe(a=(0,rr.x)(t,f,_))},()=>{c=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function CT(n=0,e,t=Uy.P){let i=-1;return null!=e&&((0,Jw.K)(e)?t=e:i=e),new Gi.y(r=>{let a=function ET(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}let Um;try{Um=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Um=!1}let Fl,gr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ac(n){return n===oc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Um)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nE(){if(Fl)return Fl;if("object"!=typeof document||!document)return Fl=new Set(tE),Fl;let n=document.createElement("input");return Fl=new Set(tE.filter(e=>(n.setAttribute("type",e),n.type===e))),Fl}let mf,$a,jy;function gf(n){return function DT(){if(null==mf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mf=!0}))}finally{mf=mf||!1}return mf}()?n:!!n.capture}function xT(){if(null==$a){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $a=!1,$a;if("scrollBehavior"in document.documentElement.style)$a=!0;else{const n=Element.prototype.scrollTo;$a=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return $a}function Sd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function fa(n){return n.composedPath?n.composedPath()[0]:n.target}function oE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const sE=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function aE(){return(0,u.f3M)(re)}}),lE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ou=(()=>{class n{constructor(t){this.value="ltr",this.change=new u.vpe,t&&(this.value=function cE(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?lE.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ST=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Tn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Gi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(eE(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,It.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Si(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ha(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Id(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(gr),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Td=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Tn.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(eE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b),u.LFG(re,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_f,hE,_f,hE]}),n})();var fE=N(2420);function Vs(n){return(0,Ii.e)((e,t)=>{(0,gl.Xf)(n).subscribe((0,rr.x)(t,()=>t.complete(),fE.Z)),!t.closed&&e.subscribe(t)})}class $y{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Gy extends $y{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class pE extends $y{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class kT extends $y{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class qy{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Gy?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof pE?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof kT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wy extends qy{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const f=c.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Zy=(()=>{class n extends qy{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=a=>{const c=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(f,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(c,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(a,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),$m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Gm=N(3019);const mE=xT();class gE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=or(-this._previousScrollPosition.left),e.style.top=or(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mE&&(i.scrollBehavior=a,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class PT{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Si(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FT{enable(){}disable(){}attach(){}}function qm(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Yy(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kP{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();qm(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Wm=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new FT,this.close=c=>new PT(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new gE(this._viewportRuler,this._document),this.reposition=c=>new kP(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ST),u.LFG(Td),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _E{constructor(e){if(this.scrollStrategy=new FT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class LT{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Sr=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),su=(()=>{class n extends Sr{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const f=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zm=(()=>{class n extends Sr{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=fa(a)},this._clickListener=a=>{const c=fa(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const D=_[w];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(c)||D.overlayElement.contains(f))break;const S=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(a)):S.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(gr),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),io=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||oE()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),oE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class au{constructor(e,t,i,r,a,c,f,_,w,D=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=D,this._backdropElement=null,this._backdropClick=new Tn.x,this._attachments=new Tn.x,this._detachments=new Tn.x,this._locationChanges=Ec.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Tn.x,this._outsidePointerEvents=new Tn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=or(this._config.width),e.height=or(this._config.height),e.minWidth=or(this._config.minWidth),e.minHeight=or(this._config.minHeight),e.maxWidth=or(this._config.maxWidth),e.maxHeight=or(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Pm(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Vs((0,Gm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const lu="cdk-overlay-connected-position-bounding-box",Ad=/([A-Za-z%]+)$/;class Md{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tn.x,this._resizeSubscription=Ec.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(lu),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),D=this._getOverlayFit(w,t,i,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(D,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!c||c.overlayFit.visibleArea<D.visibleArea)&&(c={overlayFit:D,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>_&&(_=D,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ps(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lu),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?c:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=uu(t);let{x:c,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(c+=_),w&&(f+=w);let P=0-f,U=f+a.height-i.height,q=this._subtractOverflows(a.width,0-c,c+a.width-i.width),J=this._subtractOverflows(a.height,P,U),ge=q*J;return{visibleArea:ge,isCompletelyWithinViewport:a.width*a.height===ge,fitsInViewportVertically:J===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,c=cu(this._overlayRef.getConfig().minHeight),f=cu(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=uu(t),a=this._viewportRect,c=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let D=0,S=0;return D=r.width<=a.width?w||-c:e.x<this._viewportMargin?a.left-i.left-e.x:0,S=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:D,y:S},{x:e.x+D,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new LT(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,c,f,D,S,P;if("top"===t.overlayY)c=e.y,a=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const U=Math.min(i.bottom-e.y+i.top,e.y),q=this._lastBoundingBoxSize.height;a=2*U,c=e.y-U,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,D=i.right-e.x;else{const U=Math.min(i.right-e.x+i.left,e.x),q=this._lastBoundingBoxSize.width;D=2*U,S=e.x-U,D>q&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-q/2)}return{top:c,left:S,bottom:f,right:P,width:D,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=or(i.height),r.top=or(i.top),r.bottom=or(i.bottom),r.width=or(i.width),r.left=or(i.left),r.right=or(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=or(a)),c&&(r.maxWidth=or(c))}this._lastBoundingBoxSize=i,ps(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ps(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ps(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const D=this._viewportRuler.getViewportScrollPosition();ps(i,this._getExactOverlayY(t,e,D)),ps(i,this._getExactOverlayX(t,e,D))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),c.maxHeight&&(r?i.maxHeight=or(c.maxHeight):a&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=or(c.maxWidth):a&&(i.maxWidth="")),ps(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=or(a.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=or(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yy(e,i),isOriginOutsideView:qm(e,i),isOverlayClipped:Yy(t,i),isOverlayOutsideView:qm(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Pm(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ps(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function cu(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ad);return t&&"px"!==t?null:parseFloat(e)}return n||null}function uu(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const du="cdk-global-overlay-wrapper";class vE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(du),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:c,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),D=this._xPosition,S=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let U="",q="",J="";_?J="flex-start":"center"===D?(J="center",P?q=S:U=S):P?"left"===D||"end"===D?(J="flex-end",U=S):("right"===D||"start"===D)&&(J="flex-start",q=S):"left"===D||"start"===D?(J="flex-start",U=S):("right"===D||"end"===D)&&(J="flex-end",q=S),e.position=this._cssPosition,e.marginLeft=_?"0":U,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":q,t.justifyContent=J,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(du),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let bE=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new vE}flexibleConnectedTo(t){return new Md(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Td),u.LFG(re),u.LFG(gr),u.LFG(io))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wE=0,hu=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,P,U){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=_,this._document=w,this._directionality=D,this._location=S,this._outsideClickDispatcher=P,this._animationsModuleType=U}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),c=new _E(t);return c.direction=c.direction||this._directionality.value,new au(a,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+wE++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new Wy(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wm),u.LFG(io),u.LFG(u._Vd),u.LFG(bE),u.LFG(su),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(re),u.LFG(ou),u.LFG(Ue),u.LFG(Zm),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xy={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[hu],useFactory:function CE(n){return()=>n.scrollStrategies.reposition()}};let DE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hu,Xy],imports:[_f,$m,jm,jm]}),n})();function zE(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $E(n){return Si((e,t)=>n<=t)}var GE=N(3997);function qE(n,e=Uy.z){return(0,Ii.e)((t,i)=>{let r=null,a=null,c=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=c+n,D=e.now();if(D<w)return r=this.schedule(void 0,w-D),void i.add(r);f()}t.subscribe((0,rr.x)(i,w=>{a=w,c=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}let Qm=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ef=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ha(t);return new Gi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Tn.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CA=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ls(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Nm(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(qE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ef),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Qm]}),n})();const WE=new Set;let Vl,KE=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DA}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Jm(n,e){if(!WE.has(n))try{Vl||(Vl=document.createElement("style"),e&&(Vl.nonce=e),Vl.setAttribute("type","text/css"),document.head.appendChild(Vl)),Vl.sheet&&(Vl.sheet.insertRule(`@media ${n} {body{ }}`,0),WE.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.Ojb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DA(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ZE=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Tn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return av(Pm(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=ml(av(Pm(t)).map(c=>this._registerQuery(c).observable));return a=ls(a.pipe(bi(1)),a.pipe($E(1),qE(0))),a.pipe((0,Lt.U)(c=>{const f={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Gi.y(c=>{const f=_=>this._zone.run(()=>c.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Pa(i),(0,Lt.U)(({matches:c})=>({query:t,matches:c})),Vs(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KE),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function av(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let eg=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function OA(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function kA(n){try{return n.frameElement}catch{return null}}(function HA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===tC(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=tC(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function BA(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function UA(n){return!function PA(n){return function LA(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function NA(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function FA(n){return function VA(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||eC(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function tC(n){if(!eC(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class jA{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(bi(1)).subscribe(e)}}let lv=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new jA(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(eg),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const nC=new u.OlP("cdk-input-modality-detector-options"),dv={ignoreKeys:[18,17,224,91,16]},ms=gf({passive:!0,capture:!0});let ZA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new yo.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(f=>f===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fa(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cv(c)?"keyboard":"mouse"),this._mostRecentTarget=fa(c))},this._onTouchstart=c=>{uv(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fa(c))},this._options={...dv,...a},this.modalityDetected=this._modality.pipe($E(1)),this.modalityChanged=this.modalityDetected.pipe((0,GE.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ms),r.addEventListener("mousedown",this._onMousedown,ms),r.addEventListener("touchstart",this._onTouchstart,ms)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ms),document.removeEventListener("mousedown",this._onMousedown,ms),document.removeEventListener("touchstart",this._onTouchstart,ms))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b),u.LFG(re),u.LFG(nC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rC=new u.OlP("cdk-focus-monitor-default-options"),fv=gf({passive:!0,capture:!0});let Ht=(()=>{class n{constructor(t,i,r,a,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tn.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=fa(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=ha(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,It.of)(null);const a=function rE(n){if(function iE(){if(null==jy){const n=typeof document<"u"?document.head:null;jy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return jy}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const f={checkChildren:i,subject:new Tn.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=ha(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=ha(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=fa(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,fv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,fv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vs(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(gr),u.LFG(ZA),u.LFG(re,8),u.LFG(rC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oC="cdk-high-contrast-black-on-white",sC="cdk-high-contrast-white-on-black",Bl="cdk-high-contrast-active";let aC=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,u.f3M)(ZE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Bl,oC,sC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(Bl,oC):2===i&&t.add(Bl,sC)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tg=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(aC))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sv]}),n})();function ng(n,e){}class ci{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let pv=(()=>{class n extends qy{constructor(t,i,r,a,c,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=c,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Sd(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Sd();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Sd())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(lv),u.Y36(re,8),u.Y36(ci),u.Y36(eg),u.Y36(u.R0b),u.Y36(au),u.Y36(Ht))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&u.Gf(Zy,7),2&t){let r;u.iGM(r=u.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&u.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&u.YNc(0,ng,0,0,"ng-template",0)},dependencies:[Zy],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ig{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Tn.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!zE(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const lC=new u.OlP("DialogScrollStrategy"),cC=new u.OlP("DialogData"),uC=new u.OlP("DefaultDialogConfig"),hC={provide:lC,deps:[hu],useFactory:function dC(n){return()=>n.scrollStrategies.block()}};let XA=0,fC=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,a,c,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tn.x,this._afterOpenedAtThisLevel=new Tn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=wc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pa(void 0))),this._scrollStrategy=f}open(t,i){(i={...this._defaultOptions||new ci,...i}).id=i.id||"cdk-dialog-"+XA++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),c=this._overlay.create(a),f=new ig(c,i),_=this._attachContainer(c,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){mv(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){mv(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),mv(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new _E({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector||r.viewContainerRef?.injector,c=[{provide:ci,useValue:r},{provide:ig,useValue:i},{provide:au,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,c.push(...r.container.providers(r))):f=pv;const _=new Gy(f,r.viewContainerRef,u.zs3.create({parent:a||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){if(t instanceof u.Rgc){const c=this._createInjector(a,i,r,void 0);let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new pE(t,null,f,c))}else{const c=this._createInjector(a,i,r,this._injector),f=r.attachComponentPortal(new Gy(t,a.viewContainerRef,c,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r,a){const c=t.injector||t.viewContainerRef?.injector,f=[{provide:cC,useValue:t.data},{provide:ig,useValue:i}];return t.providers&&("function"==typeof t.providers?f.push(...t.providers(i,t,r)):f.push(...t.providers)),t.direction&&(!c||!c.get(ou,null,{optional:!0}))&&f.push({provide:ou,useValue:{value:t.direction,change:(0,It.of)()}}),u.zs3.create({parent:c||a,providers:f})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,c)=>{a?c.setAttribute("aria-hidden",a):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hu),u.LFG(u.zs3),u.LFG(uC,8),u.LFG(n,12),u.LFG(io),u.LFG(lC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mv(n,e){let t=n.length;for(;t--;)e(n[t])}let Df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[fC,hC],imports:[DE,$m,tg,$m]}),n})();const mC=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function tM(){return!0}});let sr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!oE()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(aC),u.LFG(mC,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[_f,_f]}),n})();function rM(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ls(e)}constructor(...e){super(...e),this._disabled=!1}}}function gC(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function OF(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ls(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function NF(n){return class extends n{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let aM=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cM{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _v=gf({passive:!0,capture:!0});class uM{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=fa(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const c=a.get(i);c?c.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,_v)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,_v)))}}const yv={enterDuration:225,exitDuration:150},vv=gf({passive:!0,capture:!0}),_C=["mousedown","touchstart"],lg=["mouseup","mouseleave","touchend","touchcancel"];class Pd{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ha(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...yv,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function yC(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=f-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=i.color&&(D.style.backgroundColor=i.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const S=window.getComputedStyle(D),U=S.transitionDuration,q="none"===S.transitionProperty||"0s"===U||"0s, 0s"===U||0===r.width&&0===r.height,J=new cM(this,D,i,q);D.style.transform="scale3d(1, 1, 1)",J.state=0,i.persistent||(this._mostRecentTransientRipple=J);let ge=null;return!q&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Xe=()=>this._finishRippleTransition(J),pt=()=>this._destroyRipple(J);D.addEventListener("transitionend",Xe),D.addEventListener("transitioncancel",pt),ge={onTransitionEnd:Xe,onTransitionCancel:pt}}),this._activeRipples.set(J,ge),(q||!w)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...yv,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ha(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,_C.forEach(i=>{Pd._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lg.forEach(t=>{this._triggerElement.addEventListener(t,this,vv)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=cv(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(_C.forEach(t=>Pd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&lg.forEach(t=>e.removeEventListener(t,this,vv)))}}Pd._eventManager=new uM;const bv=new u.OlP("mat-ripple-global-options");let hM=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Pd(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(gr),u.Y36(bv,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,sr]}),n})();class bC{}class wC{}const Ka="*";function EC(n,e){return{type:7,name:n,definitions:e,options:{}}}function wv(n,e=null){return{type:4,styles:e,timings:n}}function ug(n,e=null){return{type:2,steps:n,options:e}}function Za(n){return{type:6,styles:n,offset:null}}function If(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ev(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function xC(n){Promise.resolve().then(n)}class dg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class hg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?xC(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function vM(n,e){}class Tf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const fg="mdc-dialog--open",IC="mdc-dialog--opening",Cv="mdc-dialog--closing";let TC=(()=>{class n extends pv{constructor(t,i,r,a,c,f,_,w){super(t,i,r,a,c,f,_,w),this._animationStateChanged=new u.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(lv),u.Y36(re,8),u.Y36(Tf),u.Y36(eg),u.Y36(u.R0b),u.Y36(au),u.Y36(Ht))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],features:[u.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();const xv="--mat-dialog-transition-duration";function Iv(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Nm(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Nm(n.substring(0,n.length-1)):"0"===n?0:null}let bM=(()=>{class n extends TC{constructor(t,i,r,a,c,f,_,w,D){super(t,i,r,a,c,f,_,D),this._animationMode=w,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Iv(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Iv(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(xv,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(IC,fg)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fg),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(fg),this._animationsEnabled?(this._hostElement.style.setProperty(xv,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Cv)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(IC,Cv)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(lv),u.Y36(re,8),u.Y36(Tf),u.Y36(eg),u.Y36(u.R0b),u.Y36(au),u.Y36(u.QbO,8),u.Y36(Ht))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,i){2&t&&(u.Ikx("id",i._config.id),u.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),u.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[u.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,vM,0,0,"ng-template",2),u.qZA()())},dependencies:[Zy],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class pg{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Tn.x,this._beforeClosed=new Tn.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Si(r=>"opened"===r.state),bi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Si(r=>"closed"===r.state),bi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Gm.T)(this.backdropClick(),this.keydownEvents().pipe(Si(r=>27===r.keyCode&&!this.disableClose&&!zE(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),AC(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Si(t=>"closing"===t.state),bi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function AC(n,e,t){return n._closeInteractionType=e,n.close(t)}const MC=new u.OlP("MatMdcDialogData"),RC=new u.OlP("mat-mdc-dialog-default-options"),wM=new u.OlP("mat-mdc-dialog-scroll-strategy"),EM={provide:wM,deps:[hu],useFactory:function kC(n){return()=>n.scrollStrategies.block()}};let tL=0,CM=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,a,c,f,_,w,D,S){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tn.x,this._afterOpenedAtThisLevel=new Tn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Tf,this.afterAllClosed=wc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pa(void 0))),this._scrollStrategy=f,this._dialog=i.get(fC)}open(t,i){let r;(i={...this._defaultOptions||new Tf,...i}).id=i.id||`${this._idPrefix}${tL++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:ci,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,f,_)=>(r=new this._dialogRefConstructor(c,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mg=(()=>{class n extends CM{constructor(t,i,r,a,c,f,_,w){super(t,i,a,f,_,c,pg,bM,MC,w),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hu),u.LFG(u.zs3),u.LFG(Ue,8),u.LFG(RC,8),u.LFG(wM),u.LFG(n,12),u.LFG(io),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),DM=0,xM=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=FC(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){AC(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pg,8),u.Y36(u.SBq),u.Y36(mg))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&u.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.TTD]}),n})(),OC=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+DM++}ngOnInit(){this._dialogRef||(this._dialogRef=FC(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(pg,8),u.Y36(u.SBq),u.Y36(mg))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){2&t&&u.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),PC=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function FC(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let IM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mg,EM],imports:[Df,DE,$m,sr,sr]}),n})();const SM=["mat-button",""],Af=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],VC=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],BC={capture:!0},UC=["focus","click","mouseenter","touchstart"],Mf="mat-button-ripple-uninitialized";let kM=(()=>{class n{constructor(){this._document=(0,u.f3M)(re,{optional:!0}),this._animationMode=(0,u.f3M)(u.QbO,{optional:!0}),this._globalRippleOptions=(0,u.f3M)(bv,{optional:!0}),this._platform=(0,u.f3M)(gr),this._ngZone=(0,u.f3M)(u.R0b),this._onInteraction=t=>{if(t.target===this._document)return;const r=t.target.closest(`[${Mf}]`);r&&(r.removeAttribute(Mf),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const t of UC)this._document?.addEventListener(t,this._onInteraction,BC)})}ngOnDestroy(){for(const t of UC)this._document?.removeEventListener(t,this._onInteraction,BC)}_appendRipple(t){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new Rf(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new Pd(r,this._ngZone,i,this._platform).setupTriggerEvents(t),t.append(i)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(Mf);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new hM(new u.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,t.append(i),r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rf{constructor(e,t,i){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,i)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const ga=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],OM=gC(rM(OF(class{constructor(n){this._elementRef=n}})));let Sv=(()=>{class n extends OM{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,u.f3M)(Ht),this._rippleLoader=(0,u.f3M)(kM),this._isFab=!1;const c=t.nativeElement.classList;for(const f of ga)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{c.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,features:[u.qOj,u.TTD]}),n})(),gg=(()=>{class n extends Sv{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("disabled",i.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:SM,ngContentSelectors:VC,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(u.F$t(Af),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)),2&t&&u.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Of=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,fM,sr]}),n})(),VM=(()=>{class n{constructor(t){this.media=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(MC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-media-modal"]],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"]],template:function(t,i){1&t&&(u.TgZ(0,"h2",0),u._uU(1,"M\xe9dia dos Valores"),u.qZA(),u.TgZ(2,"mat-dialog-content"),u._uU(3),u.qZA(),u.TgZ(4,"mat-dialog-actions")(5,"button",1),u._uU(6,"Fechar"),u.qZA()()),2&t&&(u.xp6(3),u.hij(" A m\xe9dia dos valores \xe9: ",i.media," "),u.xp6(2),u.Q6J("mat-dialog-close",!0))},dependencies:[gg,xM,OC,NC,PC],encapsulation:2}),n})();let Av=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ul=(()=>{class n extends Av{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const gs=new u.OlP("NgValueAccessor"),qC={provide:gs,useExisting:(0,u.Gpc)(()=>_g),multi:!0},BM=new u.OlP("CompositionEventMode");let _g=(()=>{class n extends Av{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WC(){const n=Q()?Q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(BM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([qC]),u.qOj]}),n})();function _a(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yg(n){return null!=n&&"number"==typeof n.length}const Tr=new u.OlP("NgValidators"),ya=new u.OlP("NgAsyncValidators"),Mv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class KC{static min(e){return function ZC(n){return e=>{if(_a(e.value)||_a(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function YC(n){return e=>{if(_a(e.value)||_a(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return XC(e)}static requiredTrue(e){return function Rv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function vg(n){return _a(n.value)||Mv.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kv(n){return e=>_a(e.value)||!yg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ov(n){return e=>yg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Nv(n){if(!n)return Nf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(_a(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Ur(e)}static composeAsync(e){return tD(e)}}function XC(n){return _a(n.value)?{required:!0}:null}function Nf(n){return null}function QC(n){return null!=n}function Pv(n){return(0,u.QGY)(n)?(0,qn.D)(n):n}function Fv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function JC(n,e){return e.map(t=>t(n))}function Lv(n){return n.map(e=>function eD(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ur(n){if(!n)return null;const e=n.filter(QC);return 0==e.length?null:function(t){return Fv(JC(t,e))}}function Hl(n){return null!=n?Ur(Lv(n)):null}function tD(n){if(!n)return null;const e=n.filter(QC);return 0==e.length?null:function(t){return function zC(...n){const e=(0,ss.jO)(n),{args:t,keys:i}=Bh(n),r=new Gi.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let _=c,w=c;for(let D=0;D<c;D++){let S=!1;(0,gl.Xf)(t[D]).subscribe((0,rr.x)(a,P=>{S||(S=!0,w--),f[D]=P},()=>_--,void 0,()=>{(!_||!S)&&(w||a.next(i?Bp(i,f):f),a.complete())}))}});return e?r.pipe(bc(e)):r}(JC(t,e).map(Pv)).pipe((0,Lt.U)(Fv))}}function Vv(n){return null!=n?tD(Lv(n)):null}function UM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HM(n){return n._rawValidators}function Bv(n){return n._rawAsyncValidators}function Pf(n){return n?Array.isArray(n)?n:[n]:[]}function jl(n,e){return Array.isArray(n)?n.includes(e):n===e}function nD(n,e){const t=Pf(e);return Pf(n).forEach(r=>{jl(t,r)||t.push(r)}),t}function bg(n,e){return Pf(e).filter(t=>!jl(n,t))}class iD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hr extends iD{get formDirective(){return null}get path(){return null}}class Ya extends iD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uv=(()=>{class n extends rD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ya,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),sD=(()=>{class n extends rD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hr,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const Vd="VALID",Eg="INVALID",mu="PENDING",Bd="DISABLED";function Hv(n){return(Lf(n)?n.validators:n)||null}function Cg(n,e){return(Lf(e)?e.asyncValidators:n)||null}function Lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function jv(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")}function zv(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})}class Vf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vd}get invalid(){return this.status===Eg}get pending(){return this.status==mu}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(nD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bg(e,this._rawAsyncValidators))}hasValidator(e){return jl(this._rawValidators,e)}hasAsyncValidator(e){return jl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vd,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vd||this.status===mu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:Vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mu,this._hasOwnPendingAsyncValidator=!0;const t=Pv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?Eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mu)?mu:this._anyControlsHaveStatus(Eg)?Eg:Vd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function qM(n){return Array.isArray(n)?Hl(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function WM(n){return Array.isArray(n)?Vv(n):n||null}(this._rawAsyncValidators)}}class Bf extends Vf{constructor(e,t,i){super(Hv(t),Cg(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zv(this,0,e),Object.keys(e).forEach(i=>{jv(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class $v extends Bf{}const Ud=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Dg}),Dg="always";function xg(n,e,t=Dg){cD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Kv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&dD(n,e)})}(n,e),function Ig(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&dD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function EL(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qv(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Uf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cD(n,e){const t=HM(n);null!==e.validator?n.setValidators(UM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Bv(n);null!==e.asyncValidator?n.setAsyncValidators(UM(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Wv(e._rawValidators,r),Wv(e._rawAsyncValidators,r)}function Uf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=HM(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Bv(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Wv(e._rawValidators,i),Wv(e._rawAsyncValidators,i),t}function dD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hD(n,e){cD(n,e)}function fD(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Bs={provide:Hr,useExisting:(0,u.Gpc)(()=>Hd)},Hf=(()=>Promise.resolve())();let Hd=(()=>{class n extends Hr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Bf({},Hl(t),Vv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hf.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),xg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hf.then(()=>{const i=this._findContainer(t.path),r=new Bf({});hD(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hf.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Hf.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,fD(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tr,10),u.Y36(ya,10),u.Y36(Ud,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Bs]),u.qOj]}),n})();function Yv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ag=class extends Vf{constructor(e=null,t,i){super(Hv(t),Cg(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mD(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const CD=new u.OlP("NgModelWithFormControlWarning"),QM={provide:Hr,useExisting:(0,u.Gpc)(()=>jf)};let jf=(()=>{class n extends Hr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return xg(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){qv(t.control||null,t,!1),function pD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,fD(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(qv(i||null,t),(n=>n instanceof Ag)(r)&&(xg(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);hD(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function CL(n,e){return Uf(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cD(this.form,this),this._oldForm&&Uf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tr,10),u.Y36(ya,10),u.Y36(Ud,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([QM]),u.qOj,u.TTD]}),n})();const SD={provide:Ya,useExisting:(0,u.Gpc)(()=>TD)};let TD=(()=>{class n extends Ya{set isDisabled(t){}constructor(t,i,r,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Tg(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===_g?t=a:function SL(n){return Object.getPrototypeOf(n.constructor)===Ul}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function Zv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Gv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Hr,13),u.Y36(Tr,10),u.Y36(ya,10),u.Y36(gs,10),u.Y36(CD,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([SD]),u.qOj,u.TTD]}),n})(),zl=(()=>{class n{constructor(){this._validator=Nf}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const kL={provide:Tr,useExisting:(0,u.Gpc)(()=>Fg),multi:!0};let Fg=(()=>{class n extends zl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.VuI,this.createValidator=t=>XC}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([kL]),u.qOj]}),n})(),$l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Xa]}),n})();class ob extends Vf{constructor(e,t,i){super(Hv(t),Cg(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zv(this,0,e),e.forEach((i,r)=>{jv(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function VD(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let sb=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return VD(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Bf(r,a)}record(t,i=null){const r=this._reduceControls(t);return new $v(r,i)}control(t,i,r){let a={};return this.useNonNullable?(VD(i)?a=i:(a.validators=i,a.asyncValidators=r),new Ag(t,{...a,nonNullable:!0})):new Ag(t,i,r)}array(t,i,r){const a=t.map(c=>this._createControl(c));return new ob(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Ag||t instanceof Vf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ud,useValue:t.callSetDisabledState??Dg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$l]}),n})(),VL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ud,useValue:t.callSetDisabledState??Dg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$l]}),n})();const lb=gf({passive:!0});let dR=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return vo.E;const i=ha(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Tn.x,c="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,lb),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,lb)}}),a}stopMonitoring(t){const i=ha(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const UD=["matFormFieldNotchedOutline",""],HD=["*"],jD=["textField"],fR=["iconPrefixContainer"],pR=["textPrefixContainer"];function zD(n,e){1&n&&u._UZ(0,"span",19)}function cb(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",17),u.NdJ("cdkObserveContent",function(){u.CHM(t);const r=u.oxw(2);return u.KtG(r._refreshOutlineNotchWidth())}),u.Hsn(1,1),u.YNc(2,zD,1,0,"span",18),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function HL(n,e){if(1&n&&u.YNc(0,cb,3,6,"label",16),2&n){const t=u.oxw();u.Q6J("ngIf",t._hasFloatingLabel())}}function $D(n,e){1&n&&u._UZ(0,"div",20)}function ub(n,e){}function mR(n,e){if(1&n&&u.YNc(0,ub,0,0,"ng-template",22),2&n){u.oxw(2);const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function gR(n,e){if(1&n&&(u.TgZ(0,"div",21),u.YNc(1,mR,1,1,"ng-template",9),u.qZA()),2&n){const t=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),u.xp6(1),u.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function jL(n,e){1&n&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function zL(n,e){1&n&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function _R(n,e){}function yR(n,e){if(1&n&&u.YNc(0,_R,0,0,"ng-template",22),2&n){u.oxw();const t=u.MAs(1);u.Q6J("ngTemplateOutlet",t)}}function vR(n,e){1&n&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function bR(n,e){1&n&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function GD(n,e){1&n&&u._UZ(0,"div",29)}function qD(n,e){if(1&n&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function $L(n,e){if(1&n&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function wR(n,e){if(1&n&&(u.TgZ(0,"div",31),u.YNc(1,$L,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const db=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],WD=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let hb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})();const fb=new u.OlP("MatError");let ER=0,pb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+ER++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(u.Ikx("id",i.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const KD=new u.OlP("MatPrefix"),CR=new u.OlP("MatSuffix");let DR=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function xR(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const IR="mdc-line-ripple--active",gb="mdc-line-ripple--deactivating";let ZD=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,c=a.contains(gb);"opacity"===r.propertyName&&c&&a.remove(IR,gb)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(gb),t.add(IR)}deactivate(){this._elementRef.nativeElement.classList.add(gb)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),SR=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:UD,ngContentSelectors:HD,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(1),u.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const WL={transitionMessages:EC("transitionMessages",[If("enter",Za({opacity:1,transform:"translateY(0%)"})),Ev("void => enter",[Za({opacity:0,transform:"translateY(-5px)"}),wv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let TR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const AR=new u.OlP("MatFormField"),ZL=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let MR=0,o=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ls(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,a,c,f,_,w){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=c,this._defaults=f,this._animationMode=_,this._document=w,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+MR++,this._hintLabelId="mat-mdc-hint-"+MR++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Tn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Vs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Gm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Vs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(ou),u.Y36(gr),u.Y36(ZL,8),u.Y36(u.QbO,8),u.Y36(re))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,hb,5),u.Suo(r,hb,7),u.Suo(r,TR,5),u.Suo(r,KD,5),u.Suo(r,CR,5),u.Suo(r,fb,5),u.Suo(r,pb,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(i._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(i._formFieldControl=a.first),u.iGM(a=u.CRH())&&(i._prefixChildren=a),u.iGM(a=u.CRH())&&(i._suffixChildren=a),u.iGM(a=u.CRH())&&(i._errorChildren=a),u.iGM(a=u.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(u.Gf(jD,5),u.Gf(fR,5),u.Gf(pR,5),u.Gf(DR,5),u.Gf(SR,5),u.Gf(ZD,5)),2&t){let r;u.iGM(r=u.CRH())&&(i._textField=r.first),u.iGM(r=u.CRH())&&(i._iconPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._textPrefixContainer=r.first),u.iGM(r=u.CRH())&&(i._floatingLabel=r.first),u.iGM(r=u.CRH())&&(i._notchedOutline=r.first),u.iGM(r=u.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:AR,useExisting:n}])],ngContentSelectors:WD,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(u.F$t(db),u.YNc(0,HL,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(a){return i._control.onContainerClick(a)}),u.YNc(4,$D,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,gR,2,3,"div",5),u.YNc(7,jL,3,0,"div",6),u.YNc(8,zL,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,yR,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,vR,2,0,"div",10),u.YNc(13,bR,2,0,"div",11),u.qZA(),u.YNc(14,GD,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,qD,2,1,"div",14),u.YNc(17,wR,5,2,"div",15),u.qZA()),2&t&&(u.xp6(2),u.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),u.xp6(2),u.Q6J("ngIf",i._hasOutline()),u.xp6(1),u.Q6J("ngIf",i._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",i._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",i._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",i._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!i._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),u.Q6J("ngSwitch",i._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[Mo,Yt,ws,Es,CA,pb,DR,SR,ZD],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[WL.transitionMessages]},changeDetection:0}),n})(),s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,Fo,sv,sr]}),n})();const d=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),h=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let m=0;const y=NF(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Tn.x}});let E=(()=>{class n extends y{get disabled(){return this._disabled}set disabled(t){this._disabled=Ls(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(KC.required)??!1}set required(t){this._required=Ls(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&nE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ls(t)}constructor(t,i,r,a,c,f,_,w,D,S){super(f,a,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=S,this._uid="mat-input-"+m++,this.focused=!1,this.stateChanges=new Tn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>nE().has(q)),this._iOSKeyupListener=q=>{const J=q.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,U=P.nodeName.toLowerCase();this._inputValueAccessor=_||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){h.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(Ya,10),u.Y36(Hd,8),u.Y36(jf,8),u.Y36(aM),u.Y36(d,10),u.Y36(dR),u.Y36(u.R0b),u.Y36(AR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&u.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(u.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),u.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),u.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:TR,useExisting:n}]),u.qOj,u.TTD]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,s,s,hR,sr]}),n})(),I=(()=>{class n{constructor(t,i){this.formBuilder=t,this.dialogRef=i}ngOnInit(){this.participantForm=this.formBuilder.group({name:["",KC.required]})}onSubmit(){this.participantForm.invalid||this.dialogRef.close({name:this.participantForm.value.name,selectedCard:null,id:"",key:""})}onCancelClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sb),u.Y36(pg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-participant-modal"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],["matInput","","placeholder","Name","formControlName","name","required",""],["mat-button","",3,"click"],["mat-button","","color","primary",3,"disabled","click"]],template:function(t,i){1&t&&(u.TgZ(0,"h2",0),u._uU(1,"Adicionar Participante"),u.qZA(),u.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field"),u._UZ(5,"input",2),u.qZA()()(),u.TgZ(6,"mat-dialog-actions")(7,"button",3),u.NdJ("click",function(){return i.onCancelClick()}),u._uU(8,"Close"),u.qZA(),u.TgZ(9,"button",4),u.NdJ("click",function(){return i.onSubmit()}),u._uU(10,"Add"),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("formGroup",i.participantForm),u.xp6(6),u.Q6J("disabled",i.participantForm.invalid))},dependencies:[gg,E,o,OC,NC,PC,Jv,_g,Uv,sD,Fg,jf,TD]}),n})();const F={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let W;const ie=new Uint8Array(16);function Ae(){if(!W&&(W=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!W))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W(ie)}const Oe=[];for(let n=0;n<256;++n)Oe.push((n+256).toString(16).slice(1));const Cn=function rn(n,e,t){if(F.randomUUID&&!e&&!n)return F.randomUUID();const i=(n=n||{}).random||(n.rng||Ae)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function it(n,e=0){return(Oe[n[e+0]]+Oe[n[e+1]]+Oe[n[e+2]]+Oe[n[e+3]]+"-"+Oe[n[e+4]]+Oe[n[e+5]]+"-"+Oe[n[e+6]]+Oe[n[e+7]]+"-"+Oe[n[e+8]]+Oe[n[e+9]]+"-"+Oe[n[e+10]]+Oe[n[e+11]]+Oe[n[e+12]]+Oe[n[e+13]]+Oe[n[e+14]]+Oe[n[e+15]]).toLowerCase()}(i)};var xn=N(3182),jr=N(5855);const jd_firebaseConfig={apiKey:"AIzaSyDhZL7oUCPye4Cm3Gx--fj5N0AcBn_p-zs",authDomain:"poker-time-6d639.firebaseapp.com",databaseURL:"https://poker-time-6d639-default-rtdb.firebaseio.com",projectId:"poker-time-6d639",storageBucket:"poker-time-6d639.appspot.com",messagingSenderId:"939258331628",appId:"1:939258331628:web:1af97f573f96330240c0c9",measurementId:"G-PKPXN3ZD7T"},kR=(0,xn.ZF)(jd_firebaseConfig);(0,jr.IH)(kR);var ro=N(8883);function OR(){return(0,Ii.e)((n,e)=>{let t,i=!1;n.subscribe((0,rr.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}var ft,Qa=N(6304),T3=(N(5967),N(3106)),Ie=N(5861),$f=N(534),XD=N(4537),zd=N(7879),zn=N(9058),A3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ja={},NR=NR||{},hn=A3||self;function QD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _b(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var PR="closure_uid_"+(1e9*Math.random()>>>0),R3=0;function k3(n,e,t){return n.call.apply(n.bind,arguments)}function O3(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Co(n,e,t){return(Co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k3:O3).apply(null,arguments)}function JD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function zr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[r].apply(i,c)}}function $d(){this.s=this.s,this.o=this.o}$d.prototype.s=!1,$d.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function M3(n){Object.prototype.hasOwnProperty.call(n,PR)&&n[PR]||(n[PR]=++R3)}(this)},$d.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function FR(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function e2(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(QD(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function Do(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Do.prototype.h=function(){this.defaultPrevented=!0};var P3=function(){if(!hn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hn.addEventListener("test",()=>{},e),hn.removeEventListener("test",()=>{},e)}catch{}return n}();function yb(n){return/^[\s\xa0]*$/.test(n)}function ex(){var n=hn.navigator;return n&&(n=n.userAgent)?n:""}function Gl(n){return-1!=ex().indexOf(n)}function LR(n){return LR[" "](n),n}LR[" "]=function(){};var BR,n,L3=Gl("Opera"),Lg=Gl("Trident")||Gl("MSIE"),t2=Gl("Edge"),VR=t2||Lg,n2=Gl("Gecko")&&!(-1!=ex().toLowerCase().indexOf("webkit")&&!Gl("Edge"))&&!(Gl("Trident")||Gl("MSIE"))&&!Gl("Edge"),V3=-1!=ex().toLowerCase().indexOf("webkit")&&!Gl("Edge");function r2(){var n=hn.document;return n?n.documentMode:void 0}e:{var UR="",HR=(n=ex(),n2?/rv:([^\);]+)(\)|;)/.exec(n):t2?/Edge\/([\d\.]+)/.exec(n):Lg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):V3?/WebKit\/(\S+)/.exec(n):L3?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HR&&(UR=HR?HR[1]:""),Lg){var jR=r2();if(null!=jR&&jR>parseFloat(UR)){BR=String(jR);break e}}BR=UR}var B3=hn.document&&Lg&&(r2()||parseInt(BR,10))||void 0;function vb(n,e){if(Do.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(n2){e:{try{LR(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:U3[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vb.$.h.call(this)}}zr(vb,Do);var U3={2:"touch",3:"pen",4:"mouse"};vb.prototype.h=function(){vb.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bb="closure_listenable_"+(1e6*Math.random()|0),H3=0;function j3(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++H3,this.fa=this.ia=!1}function tx(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function $R(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function s2(n){const e={};for(const t in n)e[t]=n[t];return e}const a2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l2(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<a2.length;a++)t=a2[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function nx(n){this.src=n,this.g={},this.h=0}function GR(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=JL(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(tx(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qR(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}nx.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=qR(n,e,i,r);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new j3(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var WR="closure_lm_"+(1e6*Math.random()|0),KR={};function c2(n,e,t,i,r){if(i&&i.once)return d2(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)c2(n,e[a],t,i,r);return null}return t=QR(t),n&&n[bb]?n.O(e,t,_b(i)?!!i.capture:!!i,r):u2(n,e,t,!1,i,r)}function u2(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=_b(r)?!!r.capture:!!r,f=YR(n);if(f||(n[WR]=f=new nx(n)),(t=f.add(e,t,i,c,a)).proxy)return t;if(i=function $3(){const e=G3;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)P3||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(f2(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function d2(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)d2(n,e[a],t,i,r);return null}return t=QR(t),n&&n[bb]?n.P(e,t,_b(i)?!!i.capture:!!i,r):u2(n,e,t,!0,i,r)}function h2(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)h2(n,e[a],t,i,r);else i=_b(i)?!!i.capture:!!i,t=QR(t),n&&n[bb]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qR(a=n.g[e],t,i,r))&&(tx(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=YR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qR(e,t,i,r)),(t=-1<n?e[n]:null)&&ZR(t))}function ZR(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[bb])GR(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(f2(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=YR(e))?(GR(t,n),0==t.h&&(t.src=null,e[WR]=null)):tx(n)}}}function f2(n){return n in KR?KR[n]:KR[n]="on"+n}function G3(n,e){if(n.fa)n=!0;else{e=new vb(e,this);var t=n.listener,i=n.la||n.src;n.ia&&ZR(n),n=t.call(i,e)}return n}function YR(n){return(n=n[WR])instanceof nx?n:null}var XR="__closure_events_fn_"+(1e9*Math.random()>>>0);function QR(n){return"function"==typeof n?n:(n[XR]||(n[XR]=function(e){return n.handleEvent(e)}),n[XR])}function $r(){$d.call(this),this.i=new nx(this),this.S=this,this.J=null}function oo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Do(e,n);else if(e instanceof Do)e.target=e.target||n;else{var r=e;l2(e=new Do(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=ix(c,i,!0,e)&&r}if(r=ix(c=e.g=n,i,!0,e)&&r,r=ix(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ix(c=e.g=t[a],i,!1,e)&&r}function ix(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var f=c.listener,_=c.la||c.src;c.ia&&GR(n.i,c),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}zr($r,$d),$r.prototype[bb]=!0,$r.prototype.removeEventListener=function(n,e,t,i){h2(this,n,e,t,i)},$r.prototype.N=function(){if($r.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)tx(t[i]);delete n.g[e],n.h--}}this.J=null},$r.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},$r.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var JR=hn.JSON.stringify;function W3(){var n=ek;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var p2=new class q3{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Z3,n=>n.reset());class Z3{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Y3(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function X3(n){hn.setTimeout(()=>{throw n},0)}let wb,Eb=!1,ek=new class K3{constructor(){this.h=this.g=null}add(e,t){const i=p2.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},m2=()=>{const n=hn.Promise.resolve(void 0);wb=()=>{n.then(Q3)}};var Q3=()=>{for(var n;n=W3();){try{n.h.call(n.g)}catch(t){X3(t)}var e=p2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Eb=!1};function rx(n,e){$r.call(this),this.h=n||1,this.g=e||hn,this.j=Co(this.qb,this),this.l=Date.now()}function tk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nk(n,e,t){if("function"==typeof n)t&&(n=Co(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Co(n.handleEvent,n)}return 2147483647<Number(e)?-1:hn.setTimeout(n,e||0)}function g2(n){n.g=nk(()=>{n.g=null,n.i&&(n.i=!1,g2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zr(rx,$r),(ft=rx.prototype).ga=!1,ft.T=null,ft.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oo(this,"tick"),this.ga&&(tk(this),this.start()))}},ft.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ft.N=function(){rx.$.N.call(this),tk(this),delete this.g};class J3 extends $d{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g2(this)}N(){super.N(),this.g&&(hn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cb(n){$d.call(this),this.h=n,this.g={}}zr(Cb,$d);var _2=[];function y2(n,e,t,i){Array.isArray(t)||(t&&(_2[0]=t.toString()),t=_2);for(var r=0;r<t.length;r++){var a=c2(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function v2(n){$R(n.g,function(e,t){this.g.hasOwnProperty(t)&&ZR(e)},n),n.g={}}function ox(){this.g=!0}function Vg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function i$(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return JR(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Cb.prototype.N=function(){Cb.$.N.call(this),v2(this)},Cb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ox.prototype.Ea=function(){this.g=!1},ox.prototype.info=function(){};var Gf={},b2=null;function sx(){return b2=b2||new $r}function w2(n){Do.call(this,Gf.Ta,n)}function Db(n){const e=sx();oo(e,new w2(e))}function E2(n,e){Do.call(this,Gf.STAT_EVENT,n),this.stat=e}function Yo(n){const e=sx();oo(e,new E2(e,n))}function C2(n,e){Do.call(this,Gf.Ua,n),this.size=e}function xb(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hn.setTimeout(function(){n()},e)}Gf.Ta="serverreachability",zr(w2,Do),Gf.STAT_EVENT="statevent",zr(E2,Do),Gf.Ua="timingevent",zr(C2,Do);var ax={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ik(){}function I2(){}ik.prototype.h=null;var sk,Ib={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rk(){Do.call(this,"d")}function ok(){Do.call(this,"c")}function lx(){}function Sb(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Cb(this),this.P=r$,this.V=new rx(n=VR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new S2}function S2(){this.i=null,this.g="",this.h=!1}zr(rk,Do),zr(ok,Do),zr(lx,ik),lx.prototype.g=function(){return new XMLHttpRequest},lx.prototype.i=function(){return{}},sk=new lx;var r$=45e3,ak={},cx={};function lk(n,e,t){n.L=1,n.v=fx(_u(e)),n.s=t,n.S=!0,T2(n,null)}function T2(n,e){n.G=Date.now(),Tb(n),n.A=_u(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),V2(t.i,"t",i),n.C=0,t=n.l.J,n.h=new S2,n.g=lV(n.l,t?e:null,!n.s),0<n.O&&(n.M=new J3(Co(n.Pa,n,n.g),n.O)),y2(n.U,n.g,"readystatechange",n.nb),e=n.I?s2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Db(),function e$(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var D=w[0];w=w[1];var S=D.split("_");c=2<=S.length&&"type"==S[1]?c+(D+"=")+w+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function A2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function M2(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=o$(n,t),r==cx){4==e&&(n.o=4,Yo(14),i=!1),Vg(n.j,n.m,null,"[Incomplete Response]");break}if(r==ak){n.o=4,Yo(15),Vg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Vg(n.j,n.m,r,null),ck(n,r)}A2(n)&&r!=cx&&r!=ak&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Yo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),gk(e),e.M=!0,Yo(11))):(Vg(n.j,n.m,t,"[Invalid Chunked Response]"),qf(n),Ab(n))}function o$(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?cx:(t=Number(e.substring(t,i)),isNaN(t)?ak:(i+=1)+t>e.length?cx:(e=e.slice(i,i+t),n.C=i+t,e))}function Tb(n){n.Y=Date.now()+n.P,R2(n,n.P)}function R2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xb(Co(n.lb,n),e)}function ux(n){n.B&&(hn.clearTimeout(n.B),n.B=null)}function Ab(n){0==n.l.H||n.J||rV(n.l,n)}function qf(n){ux(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tk(n.V),v2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function ck(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||uk(t.i,n)))if(!n.K&&uk(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;vx(t),_x(t)}mk(t),Yo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=xb(Co(t.ib,t),6e3));if(1>=H2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kf(t,11)}else if((n.K||t.g==n)&&vx(t),!yb(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const D=w[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const S=w[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.L=i=1.5*P,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.i;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(dk(a,a.h),a.h=null))}if(i.F){const J=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.Da=J,wi(i.I,i.F,J))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((i=t).wa=aV(i,i.J?i.pa:null,i.Y),c.K){j2(i.i,c);var f=c,_=i.L;_&&f.setTimeout(_),f.B&&(ux(f),Tb(f)),i.g=c}else nV(i);0<t.j.length&&yx(t)}else"stop"!=w[0]&&"close"!=w[0]||Kf(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Kf(t,7):pk(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Db()}catch{}}function k2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(QD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function a$(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(QD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function s$(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(QD(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(ft=Sb.prototype).setTimeout=function(n){this.P=n},ft.nb=function(n){n=n.target;const e=this.M;e&&3==ql(n)?e.l():this.Pa(n)},ft.Pa=function(n){try{if(n==this.g)e:{const D=ql(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||VR||this.g&&(this.h.h||this.g.ja()||Y2(this.g)))){this.J||4!=D||7==e||Db(),ux(this);var t=this.g.da();this.ca=t;t:if(A2(this)){var i=Y2(this.g);n="";var r=i.length,a=4==ql(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qf(this),Ab(this);var c="";break t}this.h.i=new hn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function t$(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yb(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Yo(12),qf(this),Ab(this);break e}Vg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ck(this,t)}this.S?(M2(this,D,c),VR&&this.i&&3==D&&(y2(this.U,this.V,"tick",this.mb),this.V.start())):(Vg(this.j,this.m,c,null),ck(this,c)),4==D&&qf(this),this.i&&!this.J&&(4==D?rV(this.l,this):(this.i=!1,Tb(this)))}else(function x$(n){const e={};n=(n.g&&2<=ql(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(yb(n[i]))continue;var t=Y3(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[r]||[];e[r]=a,a.push(t)}!function z3(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Yo(12)):(this.o=0,Yo(13)),qf(this),Ab(this)}}}catch{}},ft.mb=function(){if(this.g){var n=ql(this.g),e=this.g.ja();this.C<e.length&&(ux(this),M2(this,n,e),this.i&&4!=n&&Tb(this))}},ft.cancel=function(){this.J=!0,qf(this)},ft.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function n$(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Db(),Yo(17)),qf(this),this.o=2,Ab(this)):R2(this,this.Y-n)};var O2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wf){this.h=n.h,dx(this,n.j),this.s=n.s,this.g=n.g,hx(this,n.m),this.l=n.l;var e=n.i,t=new kb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),N2(this,t),this.o=n.o}else n&&(e=String(n).match(O2))?(this.h=!1,dx(this,e[1]||"",!0),this.s=Mb(e[2]||""),this.g=Mb(e[3]||"",!0),hx(this,e[4]),this.l=Mb(e[5]||"",!0),N2(this,e[6]||"",!0),this.o=Mb(e[7]||"")):(this.h=!1,this.i=new kb(null,this.h))}function _u(n){return new Wf(n)}function dx(n,e,t){n.j=t?Mb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hx(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function N2(n,e,t){e instanceof kb?(n.i=e,function p$(n,e){e&&!n.j&&(Gd(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(F2(this,i),V2(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rb(e,h$)),n.i=new kb(e,n.h))}function wi(n,e,t){n.i.set(e,t)}function fx(n){return wi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,c$),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function c$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rb(e,P2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rb(e,P2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rb(t,"/"==t.charAt(0)?d$:u$,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rb(t,f$)),n.join("")};var P2=/[#\/\?@]/g,u$=/[#\?:]/g,d$=/[#\?]/g,h$=/[#\?@]/g,f$=/#/g;function kb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Gd(n){n.g||(n.g=new Map,n.h=0,n.i&&function l$(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function F2(n,e){Gd(n),e=Bg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function L2(n,e){return Gd(n),e=Bg(n,e),n.g.has(e)}function V2(n,e,t){F2(n,e),0<t.length&&(n.i=null,n.g.set(Bg(n,e),FR(t)),n.h+=t.length)}function Bg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function B2(n){this.l=n||g$,n=hn.PerformanceNavigationTiming?0<(n=hn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hn.g&&hn.g.Ka&&hn.g.Ka()&&hn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ft=kb.prototype).add=function(n,e){Gd(this),this.i=null,n=Bg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ft.forEach=function(n,e){Gd(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ft.ta=function(){Gd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},ft.Z=function(n){Gd(this);let e=[];if("string"==typeof n)L2(this,n)&&(e=e.concat(this.g.get(Bg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ft.set=function(n,e){return Gd(this),this.i=null,L2(this,n=Bg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ft.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var g$=10;function U2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function H2(n){return n.h?1:n.g?n.g.size:0}function uk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dk(n,e){n.g?n.g.add(e):n.h=e}function j2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function z2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return FR(n.i)}B2.prototype.cancel=function(){if(this.i=z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var _$=class{stringify(n){return hn.JSON.stringify(n,void 0)}parse(n){return hn.JSON.parse(n,void 0)}};function y$(){this.g=new _$}function v$(n,e,t){const i=t||"";try{k2(n,function(r,a){let c=r;_b(r)&&(c=JR(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function px(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ob(n){this.l=n.fc||null,this.j=n.ob||!1}function mx(n,e){$r.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=hk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zr(Ob,ik),Ob.prototype.g=function(){return new mx(this.l,this.j)},Ob.prototype.i=function(n){return function(){return n}}({}),zr(mx,$r);var hk=0;function $2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Nb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pb(n)}function Pb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ft=mx.prototype).open=function(n,e){if(this.readyState!=hk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pb(this)},ft.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nb(this)),this.readyState=hk},ft.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pb(this)),this.g&&(this.readyState=3,Pb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ft.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nb(this):Pb(this),3==this.readyState&&$2(this)}},ft.Za=function(n){this.g&&(this.response=this.responseText=n,Nb(this))},ft.Ya=function(n){this.g&&(this.response=n,Nb(this))},ft.ka=function(){this.g&&Nb(this)},ft.setRequestHeader=function(n,e){this.v.append(n,e)},ft.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ft.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var w$=hn.JSON.parse;function Zi(n){$r.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=G2,this.L=this.M=!1}zr(Zi,$r);var G2="",E$=/^https?$/i,C$=["POST","PUT"];function q2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,W2(n),gx(n)}function W2(n){n.F||(n.F=!0,oo(n,"complete"),oo(n,"error"))}function K2(n){if(n.h&&typeof NR<"u"&&(!n.C[1]||4!=ql(n)||2!=n.da()))if(n.v&&4==ql(n))nk(n.La,0,n);else if(oo(n,"readystatechange"),4==ql(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.I).match(O2)[1]||null;!r&&hn.self&&hn.self.location&&(r=hn.self.location.protocol.slice(0,-1)),i=!E$.test(r?r.toLowerCase():"")}t=i}if(t)oo(n,"complete"),oo(n,"success");else{n.m=6;try{var a=2<ql(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",W2(n)}}finally{gx(n)}}}function gx(n,e){if(n.g){Z2(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||oo(n,"ready");try{t.onreadystatechange=i}catch{}}}function Z2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hn.clearTimeout(n.A),n.A=null)}function ql(n){return n.g?n.g.readyState:0}function Y2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case G2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function X2(n){let e="";return $R(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function fk(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=X2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wi(n,e,t))}function Fb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Q2(n){this.Ga=0,this.j=[],this.l=new ox,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fb("baseRetryDelayMs",5e3,n),this.hb=Fb("retryDelaySeedMs",1e4,n),this.eb=Fb("forwardChannelMaxRetries",2,n),this.xa=Fb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new B2(n&&n.concurrentRequestLimit),this.Ja=new y$,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pk(n){if(J2(n),3==n.H){var e=n.W++,t=_u(n.I);if(wi(t,"SID",n.K),wi(t,"RID",e),wi(t,"TYPE","terminate"),Lb(n,t),(e=new Sb(n,n.l,e)).L=2,e.v=fx(_u(t)),t=!1,hn.navigator&&hn.navigator.sendBeacon)try{t=hn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hn.Image&&((new Image).src=e.v,t=!0),t||(e.g=lV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tb(e)}sV(n)}function _x(n){n.g&&(gk(n),n.g.cancel(),n.g=null)}function J2(n){_x(n),n.u&&(hn.clearTimeout(n.u),n.u=null),vx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hn.clearTimeout(n.m),n.m=null)}function yx(n){if(!U2(n.i)&&!n.m){n.m=!0;var e=n.Na;wb||m2(),Eb||(wb(),Eb=!0),ek.add(e,n),n.C=0}}function eV(n,e){var t;t=e?e.m:n.W++;const i=_u(n.I);wi(i,"SID",n.K),wi(i,"RID",t),wi(i,"AID",n.V),Lb(n,i),n.o&&n.s&&fk(i,n.o,n.s),t=new Sb(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=tV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dk(n.i,t),lk(t,i,e)}function Lb(n,e){n.na&&$R(n.na,function(t,i){wi(e,i,t)}),n.h&&k2({},function(t,i){wi(e,i,t)})}function tV(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Co(n.h.Va,n.h,n):null;e:{var r=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].g;const D=r[_].map;if(w-=a,0>w)a=Math.max(0,r[_].g-100),f=!1;else try{v$(D,c,"req"+w+"_")}catch{i&&i(D)}}if(f){i=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function nV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;wb||m2(),Eb||(wb(),Eb=!0),ek.add(e,n),n.A=0}}function mk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xb(Co(n.Ma,n),oV(n,n.A)),n.A++,0))}function gk(n){null!=n.B&&(hn.clearTimeout(n.B),n.B=null)}function iV(n){n.g=new Sb(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_u(n.wa);wi(e,"RID","rpc"),wi(e,"SID",n.K),wi(e,"AID",n.V),wi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wi(e,"TO",n.qa),wi(e,"TYPE","xmlhttp"),Lb(n,e),n.o&&n.s&&fk(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=fx(_u(e)),t.s=null,t.S=!0,T2(t,n)}function vx(n){null!=n.v&&(hn.clearTimeout(n.v),n.v=null)}function rV(n,e){var t=null;if(n.g==e){vx(n),gk(n),n.g=null;var i=2}else{if(!uk(n.i,e))return;t=e.F,j2(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;oo(i=sx(),new C2(i,t)),yx(n)}else nV(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function I$(n,e){return!(H2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xb(Co(n.Na,n,e),oV(n,n.C)),n.C++,0)))}(n,e)||2==i&&mk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Kf(n,5);break;case 4:Kf(n,10);break;case 3:Kf(n,6);break;default:Kf(n,2)}}function oV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Co(n.pb,n);t||(t=new Wf("//www.google.com/images/cleardot.gif"),hn.location&&"http"==hn.location.protocol||dx(t,"https"),fx(t)),function b$(n,e){const t=new ox;if(hn.Image){const i=new Image;i.onload=JD(px,t,i,"TestLoadImage: loaded",!0,e),i.onerror=JD(px,t,i,"TestLoadImage: error",!1,e),i.onabort=JD(px,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=JD(px,t,i,"TestLoadImage: timeout",!1,e),hn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Yo(2);n.H=0,n.h&&n.h.za(e),sV(n),J2(n)}function sV(n){if(n.H=0,n.ma=[],n.h){const e=z2(n.i);(0!=e.length||0!=n.j.length)&&(e2(n.ma,e),e2(n.ma,n.j),n.i.i.length=0,FR(n.j),n.j.length=0),n.h.ya()}}function aV(n,e,t){var i=t instanceof Wf?_u(t):new Wf(t);if(""!=i.g)e&&(i.g=e+"."+i.g),hx(i,i.m);else{var r=hn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Wf(null);i&&dx(a,i),e&&(a.g=e),r&&hx(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&wi(i,t,e),wi(i,"VER",n.ra),Lb(n,i),i}function lV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zi(t&&n.Ha&&!n.va?new Ob({ob:!0}):n.va)).Oa(n.J),e}function cV(){}function bx(){if(Lg&&!(10<=Number(B3)))throw Error("Environmental error: no available transport.")}function Us(n,e){$r.call(this),this.g=new Q2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yb(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yb(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ug(this)}function uV(n){rk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dV(){ok.call(this),this.status=1}function Ug(n){this.g=n}function el(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _k(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;c=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=a+((c=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function Jn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(ft=Zi.prototype).Oa=function(n){this.M=n},ft.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sk.g(),this.C=function x2(n){return n.h||(n.h=n.i())}(this.u?this.u:sk),this.g.onreadystatechange=Co(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void q2(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=hn.FormData&&n instanceof hn.FormData,!(0<=JL(C$,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z2(this),0<this.B&&((this.L=function D$(n){return Lg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Co(this.ua,this)):this.A=nk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){q2(this,a)}},ft.ua=function(){typeof NR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oo(this,"timeout"),this.abort(8))},ft.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oo(this,"complete"),oo(this,"abort"),gx(this))},ft.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gx(this,!0)),Zi.$.N.call(this)},ft.La=function(){this.s||(this.G||this.v||this.l?K2(this):this.kb())},ft.kb=function(){K2(this)},ft.isActive=function(){return!!this.g},ft.da=function(){try{return 2<ql(this)?this.g.status:-1}catch{return-1}},ft.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ft.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),w$(e)}},ft.Ia=function(){return this.m},ft.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ft=Q2.prototype).ra=8,ft.H=1,ft.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Sb(this,this.l,n);let a=this.s;if(this.U&&(a?(a=s2(a),l2(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=tV(this,r,e),wi(t=_u(this.I),"RID",n),wi(t,"CVER",22),this.F&&wi(t,"X-HTTP-Session-Id",this.F),Lb(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(X2(a)))+"&"+e:this.o&&fk(t,this.o,a)),dk(this.i,r),this.bb&&wi(t,"TYPE","init"),this.P?(wi(t,"$req",e),wi(t,"SID","null"),r.aa=!0,lk(r,t,null)):lk(r,t,e),this.H=2}}else 3==this.H&&(n?eV(this,n):0==this.j.length||U2(this.i)||eV(this))},ft.Ma=function(){if(this.u=null,iV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xb(Co(this.jb,this),n)}},ft.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yo(10),_x(this),iV(this))},ft.ib=function(){null!=this.v&&(this.v=null,_x(this),mk(this),Yo(19))},ft.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Yo(2)):(this.l.info("Failed to ping google.com"),Yo(1))},ft.isActive=function(){return!!this.h&&this.h.isActive(this)},(ft=cV.prototype).Ba=function(){},ft.Aa=function(){},ft.za=function(){},ft.ya=function(){},ft.isActive=function(){return!0},ft.Va=function(){},bx.prototype.g=function(n,e){return new Us(n,e)},zr(Us,$r),Us.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Yo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=aV(n,null,n.Y),yx(n)},Us.prototype.close=function(){pk(this.g)},Us.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=JR(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yx(e)},Us.prototype.N=function(){this.g.h=null,delete this.j,pk(this.g),delete this.g,Us.$.N.call(this)},zr(uV,rk),zr(dV,ok),zr(Ug,cV),Ug.prototype.Ba=function(){oo(this.g,"a")},Ug.prototype.Aa=function(n){oo(this.g,new uV(n))},Ug.prototype.za=function(n){oo(this.g,new dV)},Ug.prototype.ya=function(){oo(this.g,"b")},zr(el,function S$(){this.blockSize=-1}),el.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},el.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)_k(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){_k(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){_k(this,i),r=0;break}}this.h=r,this.i+=e},el.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var T$={};function yk(n){return-128<=n&&128>n?function F3(n,e){var t=T$;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Jn([0|e],0>e?-1:0)}):new Jn([0|n],0>n?-1:0)}function Wl(n){if(isNaN(n)||!isFinite(n))return Hg;if(0>n)return so(Wl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=vk;return new Jn(e,0)}var vk=4294967296,Hg=yk(0),bk=yk(1),fV=yk(16777216);function yu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function va(n){return-1==n.h}function so(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Jn(t,~n.h).add(bk)}function wx(n,e){return n.add(so(e))}function Ex(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Vb(n,e){this.g=n,this.h=e}function Cx(n,e){if(yu(e))throw Error("division by zero");if(yu(n))return new Vb(Hg,Hg);if(va(n))return e=Cx(so(n),e),new Vb(so(e.g),so(e.h));if(va(e))return e=Cx(n,so(e)),new Vb(so(e.g),e.h);if(30<n.g.length){if(va(n)||va(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bk,i=e;0>=i.X(n);)t=pV(t),i=pV(i);var r=jg(t,1),a=jg(i,1);for(i=jg(i,2),t=jg(t,2);!yu(i);){var c=a.add(i);0>=c.X(n)&&(r=r.add(t),a=c),i=jg(i,1),t=jg(t,1)}return e=wx(n,r.R(e)),new Vb(r,e)}for(r=Hg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),c=(a=Wl(t)).R(e);va(c)||0<c.X(n);)c=(a=Wl(t-=i)).R(e);yu(a)&&(a=bk),r=r.add(a),n=wx(n,c)}return new Vb(r,n)}function pV(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Jn(t,n.h)}function jg(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Jn(r,n.h)}(ft=Jn.prototype).ea=function(){if(va(this))return-so(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:vk+i)*e,e*=vk}return n},ft.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(yu(this))return"0";if(va(this))return"-"+so(this).toString(n);for(var e=Wl(Math.pow(n,6)),t=this,i="";;){var r=Cx(t,e).g,a=((0<(t=wx(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(yu(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},ft.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ft.X=function(n){return va(n=wx(this,n))?-1:yu(n)?0:1},ft.abs=function(){return va(this)?so(this):this},ft.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),c=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,t[r]=(c&=65535)<<16|(a&=65535)}return new Jn(t,-2147483648&t[t.length-1]?-1:0)},ft.R=function(n){if(yu(this)||yu(n))return Hg;if(va(this))return va(n)?so(this).R(so(n)):so(so(this).R(n));if(va(n))return so(this.R(so(n)));if(0>this.X(fV)&&0>n.X(fV))return Wl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,c=65535&this.D(i),f=n.D(r)>>>16,_=65535&n.D(r);t[2*i+2*r]+=c*_,Ex(t,2*i+2*r),t[2*i+2*r+1]+=a*_,Ex(t,2*i+2*r+1),t[2*i+2*r+1]+=c*f,Ex(t,2*i+2*r+1),t[2*i+2*r+2]+=a*f,Ex(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Jn(t,0)},ft.gb=function(n){return Cx(this,n).h},ft.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Jn(t,this.h&n.h)},ft.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Jn(t,this.h|n.h)},ft.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Jn(t,this.h^n.h)},bx.prototype.createWebChannel=bx.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,ax.NO_ERROR=0,ax.TIMEOUT=8,ax.HTTP_ERROR=6,D2.COMPLETE="complete",I2.EventType=Ib,Ib.OPEN="a",Ib.CLOSE="b",Ib.ERROR="c",Ib.MESSAGE="d",$r.prototype.listen=$r.prototype.O,Zi.prototype.listenOnce=Zi.prototype.P,Zi.prototype.getLastError=Zi.prototype.Sa,Zi.prototype.getLastErrorCode=Zi.prototype.Ia,Zi.prototype.getStatus=Zi.prototype.da,Zi.prototype.getResponseJson=Zi.prototype.Wa,Zi.prototype.getResponseText=Zi.prototype.ja,Zi.prototype.send=Zi.prototype.ha,Zi.prototype.setWithCredentials=Zi.prototype.Oa,el.prototype.digest=el.prototype.l,el.prototype.reset=el.prototype.reset,el.prototype.update=el.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=Wl,Jn.fromString=function hV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return so(hV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Wl(Math.pow(e,8)),i=Hg,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+a),e);8>a?(a=Wl(Math.pow(e,a)),i=i.R(a).add(Wl(c))):i=(i=i.R(t)).add(Wl(c))}return i};var A$=Ja.createWebChannelTransport=function(){return new bx},M$=Ja.getStatEventTarget=function(){return sx()},wk=Ja.ErrorCode=ax,R$=Ja.EventType=D2,k$=Ja.Event=Gf,mV=Ja.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},O$=Ja.FetchXmlHttpFactory=Ob,Dx=Ja.WebChannel=I2,N$=Ja.XhrIo=Zi,P$=Ja.Md5=el,zg=Ja.Integer=Jn;const gV="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let $g="9.22.2";const qd=new zd.Yd("@firebase/firestore");function Ek(){return qd.logLevel}function Ke(n,...e){if(qd.logLevel<=zd.in.DEBUG){const t=e.map(Ck);qd.debug(`Firestore (${$g}): ${n}`,...t)}}function ar(n,...e){if(qd.logLevel<=zd.in.ERROR){const t=e.map(Ck);qd.error(`Firestore (${$g}): ${n}`,...t)}}function ba(n,...e){if(qd.logLevel<=zd.in.WARN){const t=e.map(Ck);qd.warn(`Firestore (${$g}): ${n}`,...t)}}function Ck(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xt(n="Unexpected state"){const e=`FIRESTORE (${$g}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function Ft(n,e){n||xt()}function ct(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends zn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _V{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class B${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U${constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=c;e.enqueueRetryable((0,Ie.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new _V(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Gr(e)}}class H${constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j${constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new H$(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z${constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.T=t.token,new yV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class vV{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=$$(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[a]%62))}return i}}function cn(n,e){return n<e?-1:n>e?1:0}function Gg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function bV(n){return n+"\0"}class Mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mi.fromMillis(Date.now())}static fromDate(e){return Mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Mi(0,0))}static max(){return new Vt(new Mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bb{constructor(e,t,i){void 0===t?t=0:t>e.length&&xt(),void 0===i?i=e.length-t:i>e.length-t&&xt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Bb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends Bb{construct(e,t,i){return new On(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ze(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new On(t)}static emptyPath(){return new On([])}}const G$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Bb{construct(e,t,i){return new Yi(e,t,i)}static isValidIdentifier(e){return G$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ze(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new ze(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ze(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(c=!c,r++):"."!==f||c?(i+=f,r++):(a(),r++)}if(a(),c)throw new ze(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(t)}static emptyPath(){return new Yi([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(On.fromString(e))}static fromName(e){return new ot(On.fromString(e).popFirst(5))}static empty(){return new ot(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===On.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new On(e.slice()))}}class xx{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Dk(n){return n.fields.find(e=>2===e.kind)}function Zf(n){return n.fields.filter(e=>2!==e.kind)}xx.UNKNOWN_ID=-1;class Ix{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ub{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ub(0,Hs.min())}}function wV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Vt.fromTimestamp(1e9===i?new Mi(t+1,0):new Mi(t,i));return new Hs(r,ot.empty(),e)}function EV(n){return new Hs(n.readTime,n.key,-1)}class Hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hs(Vt.min(),ot.empty(),-1)}static max(){return new Hs(Vt.max(),ot.empty(),-1)}}function xk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:cn(n.largestBatchId,e.largestBatchId))}const CV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wd(n){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Ie.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==CV)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),Ik.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,a=0,c=!1;e.forEach(f=>{++r,f.next(()=>{++a,c&&a===r&&t()},_=>i(_))}),c=!0,a===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const a=e.length,c=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(D=>{c[w]=D,++f,f===a&&i(c)},D=>r(D))}})}static doWhile(e,t){return new de((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Sx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ar,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Hb(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Sk(i.target.error);this.v.reject(new Hb(e,r))}}static open(e,t,i,r){try{return new Sx(t,e.transaction(r,i))}catch(a){throw new Hb(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Z$(t)}}class tl{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===tl.S((0,zn.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),Yf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,zn.hl)())return!1;if(tl.C())return!0;const e=(0,zn.z$)(),t=tl.S(e),i=0<t&&t<10,r=tl.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new Hb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;r("VersionError"===f.name?new ze(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ze(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Hb(e,f))},a.onupgradeneeded=c=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ie.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=Sx.open(a.db,e,c?"readonly":"readwrite",i),w=r(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),de.reject(D))).toPromise();return w.catch(()=>{}),yield _.R,w}catch(_){const w=_,D="FirebaseError"!==w.name&&f<3;if(Ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class K${constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Yf(this.L.delete())}}class Hb extends ze{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kd(n){return"IndexedDbTransactionError"===n.name}class Z${constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Yf(i)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),Yf(this.store.add(e))}get(e){return Yf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),Yf(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),Yf(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(c,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new de((a,c)=>{r.onerror=f=>{c(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,c,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=a=>{const c=Sk(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():i()}):i()}})}W(e,t){const i=[];return new de((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void r();const _=new K$(f),w=t(f.primaryKey,f.value,_);if(w instanceof de){const D=w.catch(S=>(_.done(),de.reject(S)));i.push(D)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yf(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Sk(i.target.error);t(r)}})}let xV=!1;function Sk(n){const e=tl.S((0,zn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xV||(xV=!0,setTimeout(()=>{throw i},0)),i}}return n}class Y${constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Kd(i)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Wd(i)}yield t.et(6e4)}))}}class X${constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return de.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Ke("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(f=>{r-=f,i.add(c)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,a)).next(f=>(Ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=EV(a);xk(c,i)>0&&(i=c)}),new Hs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let js=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jb(n){return null==n}function zb(n){return 0===n&&1/n==-1/0}function IV(n){return"number"==typeof n&&Number.isInteger(n)&&!zb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function xo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SV(e)),e=Q$(n.get(t),e);return SV(e)}function Q$(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function SV(n){return n+"\x01\x01"}function Kl(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&xt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:xt()}a=c+2}return new On(i)}const TV=["userId","batchId"];function Tx(n,e){return[n,xo(e)]}function AV(n,e,t){return[n,xo(e),t]}const J$={},e4=["prefixPath","collectionGroup","readTime","documentId"],t4=["prefixPath","collectionGroup","documentId"],n4=["collectionGroup","readTime","prefixPath","documentId"],i4=["canonicalId","targetId"],r4=["targetId","path"],o4=["path","targetId"],s4=["collectionId","parent"],a4=["indexId","uid"],l4=["uid","sequenceNumber"],c4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],u4=["indexId","uid","orderedDocumentKey"],d4=["userId","collectionPath","documentId"],h4=["userId","collectionPath","largestBatchId"],f4=["userId","collectionGroup","largestBatchId"],MV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],p4=[...MV,"documentOverlays"],RV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kV=RV,m4=[...kV,"indexConfiguration","indexState","indexEntries"];class Tk extends DV{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function qr(n,e){const t=ct(n);return tl.M(t.ht,e)}function OV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pi{constructor(e,t){this.comparator=e,this.root=t||ao.EMPTY}insert(e,t){return new pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ax(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ax(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ax(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ax(this.root,e,this.comparator,!0)}}class Ax{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ao{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??ao.RED,this.left=r??ao.EMPTY,this.right=a??ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new ao(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ao.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new ao(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PV(this.data.getIterator())}getIteratorFrom(e){return new PV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class PV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qg(n){return n.hasNext()?n.getNext():void 0}class _s{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new _s([])}unionWith(e){let t=new Ei(Yi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class FV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new FV("Invalid base64 string: "+r):r}}(e);return new Mr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const _4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yd(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=_4.exec(n);if(Ft(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xi(n.seconds),nanos:Xi(n.nanos)}}function Xi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vu(n){return"string"==typeof n?Mr.fromBase64String(n):Mr.fromUint8Array(n)}function Mx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rx(n){const e=n.mapValue.fields.__previous_value__;return Mx(e)?Rx(e):e}function $b(n){const e=Yd(n.mapValue.fields.__local_write_time__.timestampValue);return new Mi(e.seconds,e.nanos)}class y4{constructor(e,t,i,r,a,c,f,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=w}}class Xd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xd&&e.projectId===this.projectId&&e.database===this.database}}const Qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kx={nullValue:"NULL_VALUE"};function Jd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mx(n)?4:UV(n)?9007199254740991:10:xt()}function Zl(n,e){if(n===e)return!0;const t=Jd(n);if(t!==Jd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $b(n).isEqual($b(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Yd(i.timestampValue),c=Yd(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,vu(n.bytesValue).isEqual(vu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Xi(i.geoPointValue.latitude)===Xi(r.geoPointValue.latitude)&&Xi(i.geoPointValue.longitude)===Xi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Xi(i.integerValue)===Xi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Xi(i.doubleValue),c=Xi(r.doubleValue);return a===c?zb(a)===zb(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Gg(n.arrayValue.values||[],e.arrayValue.values||[],Zl);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(OV(a)!==OV(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Zl(a[f],c[f])))return!1;return!0}(n,e);default:return xt()}var r}function Gb(n,e){return void 0!==(n.values||[]).find(t=>Zl(t,e))}function eh(n,e){if(n===e)return 0;const t=Jd(n),i=Jd(e);if(t!==i)return cn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Xi(r.integerValue||r.doubleValue),f=Xi(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return LV(n.timestampValue,e.timestampValue);case 4:return LV($b(n),$b(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(r,a){const c=vu(r),f=vu(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),f=a.split("/");for(let _=0;_<c.length&&_<f.length;_++){const w=cn(c[_],f[_]);if(0!==w)return w}return cn(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=cn(Xi(r.latitude),Xi(a.latitude));return 0!==c?c:cn(Xi(r.longitude),Xi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],f=a.values||[];for(let _=0;_<c.length&&_<f.length;++_){const w=eh(c[_],f[_]);if(w)return w}return cn(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Qd.mapValue&&a===Qd.mapValue)return 0;if(r===Qd.mapValue)return 1;if(a===Qd.mapValue)return-1;const c=r.fields||{},f=Object.keys(c),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const S=cn(f[D],w[D]);if(0!==S)return S;const P=eh(c[f[D]],_[w[D]]);if(0!==P)return P}return cn(f.length,w.length)}(n.mapValue,e.mapValue);default:throw xt()}}function LV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cn(n,e);const t=Yd(n),i=Yd(e),r=cn(t.seconds,i.seconds);return 0!==r?r:cn(t.nanos,i.nanos)}function Wg(n){return Ak(n)}function Ak(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vu(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=Ak(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const f of r)c?c=!1:a+=",",a+=`${f}:${Ak(i.fields[f])}`;return a+"}"}(n.mapValue):xt();var e}function Xf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mk(n){return!!n&&"integerValue"in n}function qb(n){return!!n&&"arrayValue"in n}function VV(n){return!!n&&"nullValue"in n}function BV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nx(n){return!!n&&"mapValue"in n}function Wb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Wb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function v4(n){return"nullValue"in n?kx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xf(Xd.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xt()}function b4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xf(Xd.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qd:xt()}function HV(n,e){const t=eh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function jV(n,e){const t=eh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class lo{constructor(e){this.value=e}static empty(){return new lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Nx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wb(t)}setAll(e){let t=Yi.emptyPath(),i={},r=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}c?i[f.lastSegment()]=Wb(c):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Nx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Nx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zd(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new lo(Wb(this.value))}}function zV(n){const e=[];return Zd(n.fields,(t,i)=>{const r=new Yi([t]);if(Nx(i)){const a=zV(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new _s(e)}class Ci{constructor(e,t,i,r,a,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Ci(e,0,Vt.min(),Vt.min(),Vt.min(),lo.empty(),0)}static newFoundDocument(e,t,i,r){return new Ci(e,1,t,Vt.min(),i,r,0)}static newNoDocument(e,t){return new Ci(e,2,t,Vt.min(),Vt.min(),lo.empty(),0)}static newUnknownDocument(e,t){return new Ci(e,3,t,Vt.min(),Vt.min(),lo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,t){this.position=e,this.inclusive=t}}function $V(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?ot.comparator(ot.fromName(c.referenceValue),t.key):eh(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function GV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zl(n.position[t],e.position[t]))return!1;return!0}class Kg{constructor(e,t="asc"){this.field=e,this.dir=t}}function w4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qV{}class Mn extends qV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new E4(e,t,i):"array-contains"===t?new x4(e,i):"in"===t?new QV(e,i):"not-in"===t?new I4(e,i):"array-contains-any"===t?new S4(e,i):new Mn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new C4(e,i):new D4(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eh(t,this.value)):null!==t&&Jd(this.value)===Jd(t)&&this.matchesComparison(eh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ei extends qV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ei(e,t)}matches(e){return Zg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zg(n){return"and"===n.op}function Rk(n){return"or"===n.op}function kk(n){return WV(n)&&Zg(n)}function WV(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function Ok(n){if(n instanceof Mn)return n.field.canonicalString()+n.op.toString()+Wg(n.value);if(kk(n))return n.filters.map(e=>Ok(e)).join(",");{const e=n.filters.map(t=>Ok(t)).join(",");return`${n.op}(${e})`}}function KV(n,e){return n instanceof Mn?(t=n,(i=e)instanceof Mn&&t.op===i.op&&t.field.isEqual(i.field)&&Zl(t.value,i.value)):n instanceof ei?function(t,i){return i instanceof ei&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,c)=>r&&KV(a,i.filters[c]),!0)}(n,e):void xt();var t,i}function ZV(n,e){const t=n.filters.concat(e);return ei.create(t,n.op)}function YV(n){return n instanceof Mn?`${(e=n).field.canonicalString()} ${e.op} ${Wg(e.value)}`:n instanceof ei?function(e){return e.op.toString()+" {"+e.getFilters().map(YV).join(" ,")+"}"}(n):"Filter";var e}class E4 extends Mn{constructor(e,t,i){super(e,t,i),this.key=ot.fromName(i.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class C4 extends Mn{constructor(e,t){super(e,"in",t),this.keys=XV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class D4 extends Mn{constructor(e,t){super(e,"not-in",t),this.keys=XV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ot.fromName(i.referenceValue))}class x4 extends Mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qb(t)&&Gb(t.arrayValue,this.value)}}class QV extends Mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gb(this.value.arrayValue,t)}}class I4 extends Mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gb(this.value.arrayValue,t)}}class S4 extends Mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gb(this.value.arrayValue,i))}}class T4{constructor(e,t=null,i=[],r=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=f,this.dt=null}}function Nk(n,e=null,t=[],i=[],r=null,a=null,c=null){return new T4(n,e,t,i,r,a,c)}function Qf(n){const e=ct(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ok(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),jb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wg(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wg(i)).join(",")),e.dt=t}return e.dt}function Kb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!w4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GV(n.startAt,e.startAt)&&GV(n.endAt,e.endAt)}function Px(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fx(n,e){return n.filters.filter(t=>t instanceof Mn&&t.field.isEqual(e))}function JV(n,e,t){let i=kx,r=!0;for(const a of Fx(n,e)){let c=kx,f=!0;switch(a.op){case"<":case"<=":c=v4(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,f=!1;break;case"!=":case"not-in":c=kx}HV({value:i,inclusive:r},{value:c,inclusive:f})<0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];HV({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function eB(n,e,t){let i=Qd,r=!0;for(const a of Fx(n,e)){let c=Qd,f=!0;switch(a.op){case">=":case">":c=b4(a.value),f=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,f=!1;break;case"!=":case"not-in":c=Qd}jV({value:i,inclusive:r},{value:c,inclusive:f})>0&&(i=c,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];jV({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class bu{constructor(e,t=null,i=[],r=[],a=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=_,this.wt=null,this._t=null}}function tB(n,e,t,i,r,a,c,f){return new bu(n,e,t,i,r,a,c,f)}function Yg(n){return new bu(n)}function nB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Lx(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fk(n){return null!==n.collectionGroup}function Jf(n){const e=ct(n);if(null===e.wt){e.wt=[];const t=Lx(e),i=Pk(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Kg(t)),e.wt.push(new Kg(Yi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Kg(Yi.keyField(),a))}}}return e.wt}function Xo(n){const e=ct(n);if(!e._t)if("F"===e.limitType)e._t=Nk(e.path,e.collectionGroup,Jf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Jf(e))t.push(new Kg(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new th(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new th(e.startAt.position,e.startAt.inclusive):null;e._t=Nk(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Lk(n,e){e.getFirstInequalityField(),Lx(n);const t=n.filters.concat([e]);return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vx(n,e,t){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zb(n,e){return Kb(Xo(n),Xo(e))&&n.limitType===e.limitType}function iB(n){return`${Qf(Xo(n))}|lt:${n.limitType}`}function Vk(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>YV(i)).join(", ")}]`),jb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wg(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wg(i)).join(",")),`Target(${t})`}(Xo(n))}; limitType=${n.limitType})`}function Yb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ot.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Jf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const f=$V(r,a,c);return r.inclusive?f<=0:f<0}(t.startAt,Jf(t),i)||t.endAt&&!function(r,a,c){const f=$V(r,a,c);return r.inclusive?f>=0:f>0}(t.endAt,Jf(t),i)));var t,i}function rB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oB(n){return(e,t)=>{let i=!1;for(const r of Jf(n)){const a=A4(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function A4(n,e,t){const i=n.field.isKeyField()?ot.comparator(e.key,t.key):function(r,a,c){const f=a.data.field(r),_=c.data.field(r);return null!==f&&null!==_?eh(f,_):xt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt()}}class wu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zd(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return NV(this.inner)}size(){return this.innerSize}}const M4=new pi(ot.comparator);function ys(){return M4}const sB=new pi(ot.comparator);function Xb(...n){let e=sB;for(const t of n)e=e.insert(t.key,t);return e}function aB(n){let e=sB;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Yl(){return Qb()}function lB(){return Qb()}function Qb(){return new wu(n=>n.toString(),(n,e)=>n.isEqual(e))}const R4=new pi(ot.comparator),k4=new Ei(ot.comparator);function vn(...n){let e=k4;for(const t of n)e=e.add(t);return e}const O4=new Ei(cn);function Bk(){return O4}function cB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zb(e)?"-0":e}}function uB(n){return{integerValue:""+n}}function dB(n,e){return IV(e)?uB(e):cB(n,e)}class Bx{constructor(){this._=void 0}}function N4(n,e,t){return n instanceof Xg?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Mx(r)&&(r=Rx(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof ep?fB(n,e):n instanceof tp?pB(n,e):function(i,r){const a=hB(i,r),c=mB(a)+mB(i.gt);return Mk(a)&&Mk(i.gt)?uB(c):cB(i.serializer,c)}(n,e)}function P4(n,e,t){return n instanceof ep?fB(n,e):n instanceof tp?pB(n,e):t}function hB(n,e){return n instanceof Qg?Mk(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Xg extends Bx{}class ep extends Bx{constructor(e){super(),this.elements=e}}function fB(n,e){const t=gB(e);for(const i of n.elements)t.some(r=>Zl(r,i))||t.push(i);return{arrayValue:{values:t}}}class tp extends Bx{constructor(e){super(),this.elements=e}}function pB(n,e){let t=gB(e);for(const i of n.elements)t=t.filter(r=>!Zl(r,i));return{arrayValue:{values:t}}}class Qg extends Bx{constructor(e,t){super(),this.serializer=e,this.gt=t}}function mB(n){return Xi(n.integerValue||n.doubleValue)}function gB(n){return qb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jb{constructor(e,t){this.field=e,this.transform=t}}class L4{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ux(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Hx{}function _B(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new e_(n.key,Ri.none()):new Jg(n.key,n.data,Ri.none());{const t=n.data,i=lo.empty();let r=new Ei(Yi.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new Eu(n.key,i,new _s(r.toArray()),Ri.none())}}function V4(n,e,t){n instanceof Jg?function(i,r,a){const c=i.value.clone(),f=bB(i.fieldTransforms,r,a.transformResults);c.setAll(f),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Eu?function(i,r,a){if(!Ux(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=bB(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(vB(i)),f.setAll(c),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function e0(n,e,t,i){return n instanceof Jg?function(r,a,c,f){if(!Ux(r.precondition,a))return c;const _=r.value.clone(),w=wB(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Eu?function(r,a,c,f){if(!Ux(r.precondition,a))return c;const _=wB(r.fieldTransforms,f,a),w=a.data;return w.setAll(vB(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(D=>D.field))}(n,e,t,i):(c=t,Ux(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function B4(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=hB(i.transform,r||null);null!=a&&(null===t&&(t=lo.empty()),t.set(i.field,a))}return t||null}function yB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Gg(t,i,(r,a)=>function F4(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ep&&i instanceof ep||t instanceof tp&&i instanceof tp?Gg(t.elements,i.elements,Zl):t instanceof Qg&&i instanceof Qg?Zl(t.gt,i.gt):t instanceof Xg&&i instanceof Xg);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Jg extends Hx{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Eu extends Hx{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bB(n,e,t){const i=new Map;Ft(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,f=e.data.field(a.field);i.set(a.field,P4(c,f,t[r]))}return i}function wB(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,N4(a,c,e))}return i}class e_ extends Hx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uk extends Hx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hk{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&V4(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=e0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=e0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=lB();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(r.key)?null:f;const _=_B(c,f);null!==_&&i.set(r.key,_),c.isValidDocument()||c.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&Gg(this.mutations,e.mutations,(t,i)=>yB(t,i))&&Gg(this.baseMutations,e.baseMutations,(t,i)=>yB(t,i))}}class jk{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ft(e.mutations.length===i.length);let r=R4;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new jk(e,t,i,r)}}class zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class H4{constructor(e,t){this.count=e,this.unchangedNames=t}}var yr,Nn;function EB(n){switch(n){default:return xt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function CB(n){if(void 0===n)return ar("GRPC error has no .code"),me.UNKNOWN;switch(n){case yr.OK:return me.OK;case yr.CANCELLED:return me.CANCELLED;case yr.UNKNOWN:return me.UNKNOWN;case yr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case yr.INTERNAL:return me.INTERNAL;case yr.UNAVAILABLE:return me.UNAVAILABLE;case yr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case yr.NOT_FOUND:return me.NOT_FOUND;case yr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case yr.ABORTED:return me.ABORTED;case yr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case yr.DATA_LOSS:return me.DATA_LOSS;default:return xt()}}(Nn=yr||(yr={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";class $k{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return jx}static getOrCreateInstance(){return null===jx&&(jx=new $k),jx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let jx=null;function DB(){return new TextEncoder}const j4=new zg([4294967295,4294967295],0);function xB(n){const e=DB().encode(n),t=new P$;return t.update(e),new Uint8Array(t.digest())}function IB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zg([t,i],0),new zg([r,a],0)]}class Gk{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new t0(`Invalid padding: ${t}`);if(i<0)throw new t0(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new t0(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new t0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=zg.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(zg.fromNumber(i)));return 1===r.compare(j4)&&(r=new zg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=xB(e),[i,r]=IB(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(i,r,a);if(!this.At(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Gk(a,r,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const t=xB(e),[i,r]=IB(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(i,r,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class t0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class n0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,r0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n0(Vt.min(),r,new pi(cn),ys(),vn())}}class r0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new r0(i,t,vn(),vn(),vn())}}class zx{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class SB{constructor(e,t){this.targetId=e,this.Vt=t}}class TB{constructor(e,t,i=Mr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class AB{constructor(){this.St=0,this.Dt=RB(),this.Ct=Mr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=vn(),t=vn(),i=vn();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xt()}}),new r0(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=RB()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class z4{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ys(),this.zt=MB(),this.Wt=new pi(cn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,a=this.se(i);if(a){const c=a.target;if(Px(c))if(0===r){const f=new ot(c.path);this.Yt(i,f,Ci.newNoDocument(f,Vt.min()))}else Ft(1===r);else{const f=this.ie(i);if(f!==r){const _=this.re(e,f);0!==_&&(this.ee(i),this.Wt=this.Wt.insert(i,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=$k.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,D,S){var P,U,q,J,ge,Xe;const pt={localCacheCount:D,existenceFilterCount:S.count},gt=S.unchangedNames;return gt&&(pt.bloomFilter={applied:0===w,hashCount:null!==(P=gt?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(J=null===(q=null===(U=gt?.bits)||void 0===U?void 0:U.bitmap)||void 0===q?void 0:q.length)&&void 0!==J?J:0,padding:null!==(Xe=null===(ge=gt?.bits)||void 0===ge?void 0:ge.padding)&&void 0!==Xe?Xe:0}),pt}(_,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:f=0}=i;let _,w;try{_=vu(a).toUint8Array()}catch(D){if(D instanceof FV)return ba("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{w=new Gk(_,c,f)}catch(D){return ba(D instanceof t0?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===w.It?1:r!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const f=this.se(c);if(f){if(a.current&&Px(f.target)){const _=new ot(f.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,Ci.newNoDocument(_,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let i=vn();this.zt.forEach((a,c)=>{let f=!0;c.forEachWhile(_=>{const w=this.se(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const r=new n0(e,t,this.Wt,this.jt,i);return this.jt=ys(),this.zt=MB(),this.Wt=new pi(cn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new AB,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ei(cn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new AB),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function MB(){return new pi(ot.comparator)}function RB(){return new pi(ot.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},G4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class W4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qk(n,e){return n.useProto3Json||jb(e)?e:{value:e}}function t_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K4(n,e){return t_(n,e.toTimestamp())}function lr(n){return Ft(!!n),Vt.fromTimestamp(function(e){const t=Yd(e);return new Mi(t.seconds,t.nanos)}(n))}function Wk(n,e){return(t=n,new On(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OB(n){const e=On.fromString(n);return Ft(jB(e)),e}function o0(n,e){return Wk(n.databaseId,e.path)}function Xl(n,e){const t=OB(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(PB(t))}function Kk(n,e){return Wk(n.databaseId,e)}function NB(n){const e=OB(n);return 4===e.length?On.emptyPath():PB(e)}function s0(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PB(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FB(n,e,t){return{name:o0(n,e),fields:t.value.mapValue.fields}}function LB(n,e,t){const i=Xl(n,e.name),r=lr(e.updateTime),a=e.createTime?lr(e.createTime):Vt.min(),c=new lo({mapValue:{fields:e.fields}}),f=Ci.newFoundDocument(i,r,a,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function a0(n,e){let t;if(e instanceof Jg)t={update:FB(n,e.key,e.value)};else if(e instanceof e_)t={delete:o0(n,e.key)};else if(e instanceof Eu)t={update:FB(n,e.key,e.data),updateMask:n6(e.fieldMask)};else{if(!(e instanceof Uk))return xt();t={verify:o0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Xg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ep)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof tp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qg)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw xt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:K4(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:xt()),t;var r}function Zk(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ri.updateTime(lr(r.updateTime)):void 0!==r.exists?Ri.exists(r.exists):Ri.none():Ri.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let f=null;"setToServerValue"in c?(Ft("REQUEST_TIME"===c.setToServerValue),f=new Xg):"appendMissingElements"in c?f=new ep(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new tp(c.removeAllFromArray.values||[]):"increment"in c?f=new Qg(a,c.increment):xt();const _=Yi.fromServerFormat(c.fieldPath);return new Jb(_,f)}(n,r)):[];var r;if(e.update){const r=Xl(n,e.update.name),a=new lo({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new _s((e.updateMask.fieldPaths||[]).map(w=>Yi.fromServerFormat(w)));return new Eu(r,a,c,t,i)}return new Jg(r,a,t,i)}if(e.delete){const r=Xl(n,e.delete);return new e_(r,t)}if(e.verify){const r=Xl(n,e.verify);return new Uk(r,t)}return xt()}function VB(n,e){return{documents:[Kk(n,e.path)]}}function Yk(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Kk(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kk(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return HB(ei.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:nh((D=w).field),direction:J4(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=qk(n,e.limit);var f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function BB(n){let e=NB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ft(1===i);const D=t.from[0];D.allDescendants?r=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const S=UB(D);return S instanceof ei&&kk(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new Kg(n_((S=D).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let f=null;t.limit&&(f=function(D){let S;return S="object"==typeof D?D.value:D,jb(S)?null:S}(t.limit));let _=null;var D;t.startAt&&(_=new th((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new th(D.values||[],!D.before)}(t.endAt)),tB(e,r,c,a,f,"F",_,w)}function UB(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=n_(e.unaryFilter.field);return Mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=n_(e.unaryFilter.field);return Mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=n_(e.unaryFilter.field);return Mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=n_(e.unaryFilter.field);return Mn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(n):void 0!==n.fieldFilter?Mn.create(n_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ei.create(e.compositeFilter.filters.map(t=>UB(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(n):xt();var e}function J4(n){return $4[n]}function e6(n){return G4[n]}function t6(n){return q4[n]}function nh(n){return{fieldPath:n.canonicalString()}}function n_(n){return Yi.fromServerFormat(n.fieldPath)}function HB(n){return n instanceof Mn?function(e){if("=="===e.op){if(BV(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NAN"}};if(VV(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BV(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NAN"}};if(VV(e.value))return{unaryFilter:{field:nh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nh(e.field),op:e6(e.op),value:e.value}}}(n):n instanceof ei?function(e){const t=e.getFilters().map(i=>HB(i));return 1===t.length?t[0]:{compositeFilter:{op:t6(e.op),filters:t}}}(n):xt()}function n6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cu{constructor(e,t,i,r,a=Vt.min(),c=Vt.min(),f=Mr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zB{constructor(e){this.fe=e}}function $B(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$x(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:o0(r=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:t_(r,a.version.toTimestamp()),createTime:t_(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:np(e.version)};else{if(!e.isUnknownDocument())return xt();i.unknownDocument={path:t.path.toArray(),version:np(e.version)}}var r,a;return i}function $x(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function np(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ip(n){const e=new Mi(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function rp(n,e){const t=(e.baseMutations||[]).map(a=>Zk(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>Zk(n.fe,a)),r=Mi.fromMillis(e.localWriteTimeMs);return new Hk(e.batchId,r,t,i)}function l0(n){const e=ip(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ip(n.lastLimboFreeSnapshotVersion):Vt.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=Xo(Yg(NB(r.documents[0])))):i=Xo(BB(n.query)),new Cu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Mr.fromBase64String(n.resumeToken))}function GB(n,e){const t=np(e.snapshotVersion),i=np(e.lastLimboFreeSnapshotVersion);let r;r=Px(e.target)?VB(n.fe,e.target):Yk(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Xk(n){const e=BB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vx(e,e.limit,"L"):e}function Qk(n,e){return new zk(e.largestBatchId,Zk(n.fe,e.overlayMutation))}function qB(n,e){const t=e.path.lastSegment();return[n,xo(e.path.popLast()),t]}function WB(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:np(i.readTime),documentKey:xo(i.documentKey.path),largestBatchId:i.largestBatchId}}class r6{getBundleMetadata(e,t){return KB(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ip(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return KB(e).put({bundleId:(i=t).id,createTime:np(lr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return ZB(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Xk(r.bundledQuery),readTime:ip(r.readTime)};var r})}saveNamedQuery(e,t){return ZB(e).put({name:(i=t).name,readTime:np(lr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function KB(n){return qr(n,"bundles")}function ZB(n){return qr(n,"namedQueries")}class Gx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Gx(e,t.uid||"")}getOverlay(e,t){return c0(e).get(qB(this.userId,t)).next(i=>i?Qk(this.serializer,i):null)}getOverlays(e,t){const i=Yl();return de.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const f=new zk(t,c);r.push(this.we(e,f))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(xo(c.getCollectionPath())));const a=[];return r.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(c0(e).J("collectionPathOverlayIndex",f))}),de.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Yl(),a=xo(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return c0(e).j("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const w=Qk(this.serializer,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Yl();let c;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return c0(e).X({index:"collectionGroupOverlayIndex",range:f},(_,w,D)=>{const S=Qk(this.serializer,w);a.size()<r||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):D.done()}).next(()=>a)}we(e,t){return c0(e).put(function(i,r,a){const[c,f,_]=qB(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:a0(i.fe,a.mutation)}}(this.serializer,this.userId,t))}}function c0(n){return qr(n,"documentOverlays")}class op{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Xi(e.integerValue));else if("doubleValue"in e){const i=Xi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),zb(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?UV(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):xt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ot.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function o6(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function YB(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=o6(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}op.Ve=new op;class s6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=YB(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=YB(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class a6{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class l6{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class u0{constructor(){this.je=new s6,this.ze=new a6(this.je),this.We=new l6(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class sp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new sp(this.indexId,this.documentKey,this.arrayValue,i)}}function ih(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XB(n.arrayValue,e.arrayValue),0!==t?t:(t=XB(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function XB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class c6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Ft(e.collectionGroup===this.collectionId);const t=Dk(e);if(void 0!==t&&!this.en(t))return!1;const i=Zf(e);let r=new Set,a=0,c=0;for(;a<i.length&&this.en(i[a]);++a)r=r.add(i[a].fieldPath.canonicalString());if(a===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const f=i[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[c++],f))return!1}++a}for(;a<i.length;++a)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function QB(n){var e,t;if(Ft(n instanceof Mn||n instanceof ei),n instanceof Mn){if(n instanceof QV){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Mn.create(n.field,"==",a)))||[];return ei.create(r,"or")}return n}const i=n.filters.map(r=>QB(r));return ei.create(i,n.op)}function u6(n){if(0===n.getFilters().length)return[];const e=tO(QB(n));return Ft(JB(e)),Jk(e)||eO(e)?[e]:e.getFilters()}function Jk(n){return n instanceof Mn}function eO(n){return n instanceof ei&&kk(n)}function JB(n){return Jk(n)||eO(n)||function(e){if(e instanceof ei&&Rk(e)){for(const t of e.getFilters())if(!Jk(t)&&!eO(t))return!1;return!0}return!1}(n)}function tO(n){if(Ft(n instanceof Mn||n instanceof ei),n instanceof Mn)return n;if(1===n.filters.length)return tO(n.filters[0]);const e=n.filters.map(i=>tO(i));let t=ei.create(e,n.op);return t=qx(t),JB(t)?t:(Ft(t instanceof ei),Ft(Zg(t)),Ft(t.filters.length>1),t.filters.reduce((i,r)=>nO(i,r)))}function nO(n,e){let t;return Ft(n instanceof Mn||n instanceof ei),Ft(e instanceof Mn||e instanceof ei),t=n instanceof Mn?e instanceof Mn?ei.create([n,e],"and"):eU(n,e):e instanceof Mn?eU(e,n):function(i,r){if(Ft(i.filters.length>0&&r.filters.length>0),Zg(i)&&Zg(r))return ZV(i,r.getFilters());const a=Rk(i)?i:r,c=Rk(i)?r:i,f=a.filters.map(_=>nO(_,c));return ei.create(f,"or")}(n,e),qx(t)}function eU(n,e){if(Zg(e))return ZV(e,n.getFilters());{const t=e.filters.map(i=>nO(n,i));return ei.create(t,"or")}}function qx(n){if(Ft(n instanceof Mn||n instanceof ei),n instanceof Mn)return n;const e=n.getFilters();if(1===e.length)return qx(e[0]);if(WV(n))return n;const t=e.map(r=>qx(r)),i=[];return t.forEach(r=>{r instanceof Mn?i.push(r):r instanceof ei&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:ei.create(i,n.op)}class d6{constructor(){this.rn=new iO}addToCollectionParentIndex(e,t){return this.rn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Hs.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class iO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ei(On.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ei(On.comparator)).toArray()}}const Wx=new Uint8Array(0);class h6{constructor(e,t){this.user=e,this.databaseId=t,this.on=new iO,this.un=new wu(i=>Qf(i),(i,r)=>Kb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:i,parent:xo(r)};return tU(e).put(a)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[bV(t),""],!1,!0);return tU(e).j(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(Kl(c.parent))}return i})}addFieldIndex(e,t){const i=Kx(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=h0(e);return a.next(f=>{c.put(WB(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Kx(e),r=h0(e),a=d0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=d0(e);let r=!0;const a=new Map;return de.forEach(this.cn(t),c=>this.an(e,c).next(f=>{r&&(r=!!f),a.set(c,f)})).next(()=>{if(r){let c=vn();const f=[];return de.forEach(a,(_,w)=>{var D;Ke("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Qf(t)}`);const S=function(gt,Ct){const qt=Dk(Ct);if(void 0===qt)return null;for(const on of Fx(gt,qt.fieldPath))switch(on.op){case"array-contains-any":return on.value.arrayValue.values||[];case"array-contains":return[on.value]}return null}(w,_),P=function(gt,Ct){const qt=new Map;for(const on of Zf(Ct))for(const $n of Fx(gt,on.fieldPath))switch($n.op){case"==":case"in":qt.set(on.fieldPath.canonicalString(),$n.value);break;case"not-in":case"!=":return qt.set(on.fieldPath.canonicalString(),$n.value),Array.from(qt.values())}return null}(w,_),U=function(gt,Ct){const qt=[];let on=!0;for(const $n of Zf(Ct)){const fo=0===$n.kind?JV(gt,$n.fieldPath,gt.startAt):eB(gt,$n.fieldPath,gt.startAt);qt.push(fo.value),on&&(on=fo.inclusive)}return new th(qt,on)}(w,_),q=function(gt,Ct){const qt=[];let on=!0;for(const $n of Zf(Ct)){const fo=0===$n.kind?eB(gt,$n.fieldPath,gt.endAt):JV(gt,$n.fieldPath,gt.endAt);qt.push(fo.value),on&&(on=fo.inclusive)}return new th(qt,on)}(w,_),J=this.hn(_,w,U),ge=this.hn(_,w,q),Xe=this.ln(_,w,P),pt=this.fn(_.indexId,S,J,U.inclusive,ge,q.inclusive,Xe);return de.forEach(pt,gt=>i.H(gt,t.limit).next(Ct=>{Ct.forEach(qt=>{const on=ot.fromSegments(qt.documentKey);c.has(on)||(c=c.add(on),f.push(on))})}))}).next(()=>f)}return de.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:u6(ei.create(e.filters,"and")).map(i=>Nk(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,a,c,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),D=[];for(let S=0;S<_;++S){const P=t?this.dn(t[S/w]):Wx,U=this.wn(e,P,i[S%w],r),q=this._n(e,P,a[S%w],c),J=f.map(ge=>this.wn(e,P,ge,!0));D.push(...this.createRange(U,q,J))}return D}wn(e,t,i,r){const a=new sp(e,ot.empty(),t,i);return r?a:a.Je()}_n(e,t,i,r){const a=new sp(e,ot.empty(),t,i);return r?a.Je():a}an(e,t){const i=new c6(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const f of a)i.tn(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let i=2;const r=this.cn(t);return de.forEach(r,a=>this.an(e,a).next(c=>{c?0!==i&&c.fields.length<function(f){let _=new Ei(Yi.comparator),w=!1;for(const D of f.filters)for(const S of D.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:_=_.add(S.field));for(const D of f.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(w?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new u0;for(const r of Zf(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.He(r.kind);op.Ve._e(a,c)}return i.Qe()}dn(e){const t=new u0;return op.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new u0;return op.Ve._e(Xf(this.databaseId,t),i.He(function(r){const a=Zf(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new u0);let a=0;for(const c of Zf(e)){const f=i[a++];for(const _ of r)if(this.yn(t,c.fieldPath)&&qb(f))r=this.pn(r,c,f);else{const w=_.He(c.kind);op.Ve._e(f,w)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const f of r){const _=new u0;_.seed(f.Qe()),op.Ve._e(c,_.He(t.kind)),a.push(_)}return a}yn(e,t){return!!e.filters.find(i=>i instanceof Mn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Kx(e),r=h0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const c=[];return de.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{c.push(function(w,D){const S=D?new Ub(D.sequenceNumber,new Hs(ip(D.readTime),new ot(Kl(D.documentKey)),D.largestBatchId)):Ub.empty(),P=w.fields.map(([U,q])=>new Ix(Yi.fromServerFormat(U),q));return new xx(w.indexId,w.collectionGroup,P,S)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:cn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Kx(e),a=h0(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>de.forEach(f,_=>a.put(WB(_.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?de.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),de.forEach(f,_=>this.En(e,r,_).next(w=>{const D=this.An(a,_);return w.isEqual(D)?de.resolve():this.vn(e,a,_,w,D)}))))})}Rn(e,t,i,r){return d0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return d0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=d0(e);let a=new Ei(ih);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(c,f)=>{a=a.add(new sp(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let i=new Ei(ih);const r=this.mn(t,e);if(null==r)return i;const a=Dk(t);if(null!=a){const c=e.data.field(a.fieldPath);if(qb(c))for(const f of c.arrayValue.values||[])i=i.add(new sp(t.indexId,e.key,this.dn(f),r))}else i=i.add(new sp(t.indexId,e.key,Wx,r));return i}vn(e,t,i,r,a){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,w,D,S){const P=f.getIterator(),U=_.getIterator();let q=qg(P),J=qg(U);for(;q||J;){let ge=!1,Xe=!1;if(q&&J){const pt=w(q,J);pt<0?Xe=!0:pt>0&&(ge=!0)}else null!=q?Xe=!0:ge=!0;ge?(D(J),J=qg(U)):Xe?(S(q),q=qg(P)):(q=qg(P),J=qg(U))}}(r,a,ih,f=>{c.push(this.Rn(e,t,i,f))},f=>{c.push(this.Pn(e,t,i,f))}),de.waitFor(c)}Tn(e){let t=1;return h0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,f)=>ih(c,f)).filter((c,f,_)=>!f||0!==ih(c,_[f-1]));const r=[];r.push(e);for(const c of i){const f=ih(c,e),_=ih(c,t);if(0===f)r[0]=e.Je();else if(f>0&&_<0)r.push(c),r.push(c.Je());else if(_>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Wx,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Wx,[]]))}return a}bn(e,t){return ih(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nU)}getMinOffset(e,t){return de.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||xt())).next(nU)}}function tU(n){return qr(n,"collectionParents")}function d0(n){return qr(n,"indexEntries")}function Kx(n){return qr(n,"indexConfiguration")}function h0(n){return qr(n,"indexState")}function nU(n){Ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;xk(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Hs(e.readTime,e.documentKey,t)}const iU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rU(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=i.X({range:c},(D,S,P)=>(f++,P.delete()));a.push(_.next(()=>{Ft(1===f)}));const w=[];for(const D of t.mutations){const S=AV(e,D.key.path,t.batchId);a.push(r.delete(S)),w.push(D.key)}return de.waitFor(a).next(()=>w)}function Zx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xt();e=n.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class Yx{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Ft(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Yx(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rh(e).X({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=i_(e),c=rh(e);return c.add({}).next(f=>{Ft("number"==typeof f);const _=new Hk(f,t,i,r),w=function(P,U,q){const J=q.baseMutations.map(Xe=>a0(P.fe,Xe)),ge=q.mutations.map(Xe=>a0(P.fe,Xe));return{userId:U,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:J,mutations:ge}}(this.serializer,this.userId,_),D=[];let S=new Ei((P,U)=>cn(P.canonicalString(),U.canonicalString()));for(const P of r){const U=AV(this.userId,P.key.path,f);S=S.add(P.key.path.popLast()),D.push(c.put(w)),D.push(a.put(U,J$))}return S.forEach(P=>{D.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.Vn[f]=_.keys()}),de.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return rh(e).get(t).next(i=>i?(Ft(i.userId===this.userId),rp(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?de.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return rh(e).X({index:"userMutationsIndex",range:r},(c,f,_)=>{f.userId===this.userId&&(Ft(f.batchId>=i),a=rp(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return rh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rh(e).j("userMutationsIndex",t).next(i=>i.map(r=>rp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Tx(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return i_(e).X({range:r},(c,f,_)=>{const[w,D,S]=c,P=Kl(D);if(w===this.userId&&t.path.isEqual(P))return rh(e).get(S).next(U=>{if(!U)throw xt();Ft(U.userId===this.userId),a.push(rp(this.serializer,U))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ei(cn);const r=[];return t.forEach(a=>{const c=Tx(this.userId,a.path),f=IDBKeyRange.lowerBound(c),_=i_(e).X({range:f},(w,D,S)=>{const[P,U,q]=w,J=Kl(U);P===this.userId&&a.path.isEqual(J)?i=i.add(q):S.done()});r.push(_)}),de.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Tx(this.userId,i),c=IDBKeyRange.lowerBound(a);let f=new Ei(cn);return i_(e).X({range:c},(_,w,D)=>{const[S,P,U]=_,q=Kl(P);S===this.userId&&i.isPrefixOf(q)?q.length===r&&(f=f.add(U)):D.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(rh(e).get(a).next(c=>{if(null===c)throw xt();Ft(c.userId===this.userId),i.push(rp(this.serializer,c))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return rU(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return i_(e).X({range:i},(a,c,f)=>{if(a[0]===this.userId){const _=Kl(a[1]);r.push(_)}else f.done()}).next(()=>{Ft(0===r.length)})})}containsKey(e,t){return oU(e,this.userId,t)}xn(e){return sU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oU(n,e,t){const i=Tx(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return i_(n).X({range:a,Y:!0},(f,_,w)=>{const[D,S,P]=f;D===e&&S===r&&(c=!0),w.done()}).next(()=>c)}function rh(n){return qr(n,"mutations")}function i_(n){return qr(n,"documentMutations")}function sU(n){return qr(n,"mutationQueues")}class ap{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ap(0)}static Mn(){return new ap(-1)}}class f6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new ap(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Vt.fromTimestamp(new Mi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>r_(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return r_(e).X((c,f)=>{const _=l0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>de.waitFor(a)).next(()=>r)}forEachTarget(e,t){return r_(e).X((i,r)=>{const a=l0(r);t(a)})}$n(e){return aU(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}On(e,t){return aU(e).put("targetGlobalKey",t)}Fn(e,t){return r_(e).put(GB(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return r_(e).X({range:r,index:"queryTargetsIndex"},(c,f,_)=>{const w=l0(f);Kb(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=oh(e);return t.forEach(c=>{const f=xo(c.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,c))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=oh(e);return de.forEach(t,a=>{const c=xo(a.path);return de.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=oh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=oh(e);let a=vn();return r.X({range:i,Y:!0},(c,f,_)=>{const w=Kl(c[1]),D=new ot(w);a=a.add(D)}).next(()=>a)}containsKey(e,t){const i=xo(t.path),r=IDBKeyRange.bound([i],[bV(i)],!1,!0);let a=0;return oh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,f],_,w)=>{0!==c&&(a++,w.done())}).next(()=>a>0)}le(e,t){return r_(e).get(t).next(i=>i?l0(i):null)}}function r_(n){return qr(n,"targets")}function aU(n){return qr(n,"targetGlobal")}function oh(n){return qr(n,"targetDocuments")}function lU([n,e],[t,i]){const r=cn(n,t);return 0===r?cn(e,i):r}class p6{constructor(e){this.Ln=e,this.buffer=new Ei(lU),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lU(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Kd(i)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Wd(i)}yield t.Qn(3e5)}))}}class m6{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(js.ct);const i=new p6(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(iU)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iU):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,a,c,f,_,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,f=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(w=Date.now(),Ek()<=zd.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${r} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${S} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:S})))}}class g6{constructor(e,t){this.db=e,this.garbageCollector=function uU(n,e){return new m6(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Xx(e,i)}removeReference(e,t,i){return Xx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Xx(e,t)}Xn(e,t){return function(i,r){let a=!1;return sU(i).Z(c=>oU(i,c,r).next(f=>(f&&(a=!0),de.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Yn(e,(c,f)=>{if(f<=t){const _=this.Xn(e,c).next(w=>{if(!w)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Vt.min()),oh(e).delete([0,xo(c.path)])))});r.push(_)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Xx(e,t)}Yn(e,t){const i=oh(e);let r,a=js.ct;return i.X({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:w})=>{0===c?(a!==js.ct&&t(new ot(Kl(r)),a),a=w,r=_):a=js.ct}).next(()=>{a!==js.ct&&t(new ot(Kl(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xx(n,e){return oh(n).put((i=n.currentSequenceNumber,{targetId:0,path:xo(e.path),sequenceNumber:i}));var i}class dU{constructor(){this.changes=new wu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return lp(e).put(i)}removeEntry(e,t,i){return lp(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],$x(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Ci.newInvalidDocument(t);return lp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(f0(t))},(r,a)=>{i=this.ts(t,a)}).next(()=>i)}es(e,t){let i={size:0,document:Ci.newInvalidDocument(t)};return lp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(f0(t))},(r,a)=>{i={document:this.ts(t,a),size:Zx(a)}}).next(()=>i)}getEntries(e,t){let i=ys();return this.ns(e,t,(r,a)=>{const c=this.ts(r,a);i=i.insert(r,c)}).next(()=>i)}ss(e,t){let i=ys(),r=new pi(ot.comparator);return this.ns(e,t,(a,c)=>{const f=this.ts(a,c);i=i.insert(a,f),r=r.insert(a,Zx(c))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return de.resolve();let r=new Ei(mU);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(f0(r.first()),f0(r.last())),c=r.getIterator();let f=c.getNext();return lp(e).X({index:"documentKeyIndex",range:a},(_,w,D)=>{const S=ot.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&mU(f,S)<0;)i(f,null),f=c.getNext();f&&f.isEqual(S)&&(i(f,w),f=c.hasNext()?c.getNext():null),f?D.G(f0(f)):D.done()}).next(()=>{for(;f;)i(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),$x(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lp(e).j(IDBKeyRange.bound(c,f,!0)).next(_=>{let w=ys();for(const D of _){const S=this.ts(ot.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);S.isFoundDocument()&&(Yb(t,S)||r.has(S.key))&&(w=w.insert(S.key,S))}return w})}getAllFromCollectionGroup(e,t,i,r){let a=ys();const c=pU(t,i),f=pU(t,Hs.max());return lp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,w,D)=>{const S=this.ts(ot.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(S.key,S),a.size===r&&D.done()}).next(()=>a)}newChangeBuffer(e){return new y6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fU(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Zn(e,t){return fU(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function i6(n,e){let t;if(e.document)t=LB(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ot.fromSegments(e.noDocument.path),r=ip(e.noDocument.readTime);t=Ci.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const i=ot.fromSegments(e.unknownDocument.path),r=ip(e.unknownDocument.version);t=Ci.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Mi(i[0],i[1]);return Vt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Vt.min()))return i}return Ci.newInvalidDocument(e)}}function hU(n){return new _6(n)}class y6 extends dU{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new wu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Ei((a,c)=>cn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),c.isValidDocument()){const _=$B(this.os.serializer,c);r=r.add(a.path.popLast());const w=Zx(_);i+=w-f.size,t.push(this.os.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=$B(this.os.serializer,c.convertToNoDocument(Vt.min()));t.push(this.os.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((a,c)=>{this.us.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function fU(n){return qr(n,"remoteDocumentGlobal")}function lp(n){return qr(n,"remoteDocumentsV14")}function f0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pU(n,e){const t=e.documentKey.path.toArray();return[n,$x(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mU(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=cn(t[a],i[a]),r)return r;return r=cn(t.length,i.length),r||(r=cn(t[t.length-2],i[i.length-2]),r||cn(t[t.length-1],i[i.length-1]))}class v6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gU{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&e0(i.mutation,r,_s.empty(),Mi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,vn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=vn()){const r=Yl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Xb();return a.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Yl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,vn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,r){let a=ys();const c=Qb(),f=Qb();return t.forEach((_,w)=>{const D=i.get(w.key);r.has(w.key)&&(void 0===D||D.mutation instanceof Eu)?a=a.insert(w.key,w):void 0!==D?(c.set(w.key,D.mutation.getFieldMask()),e0(D.mutation,w,D.mutation.getFieldMask(),Mi.now())):c.set(w.key,_s.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,D)=>c.set(w,D)),t.forEach((w,D)=>{var S;return f.set(w,new v6(D,null!==(S=c.get(w))&&void 0!==S?S:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Qb();let r=new pi((c,f)=>c-f),a=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let D=i.get(_)||_s.empty();D=f.applyToLocalView(w,D),i.set(_,D);const S=(r.get(f.batchId)||vn()).add(_);r=r.insert(f.batchId,S)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,D=_.value,S=lB();D.forEach(P=>{if(!a.has(P)){const U=_B(t.get(P),i.get(P));null!==U&&S.set(P,U),a=a.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,w,S))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ot.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):de.resolve(Yl());let f=-1,_=a;return c.next(w=>de.forEach(w,(D,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),a.get(D)?de.resolve():this.remoteDocumentCache.getEntry(e,D).next(P=>{_=_.insert(D,P)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,vn())).next(D=>({batchId:f,changes:aB(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(i=>{let r=Xb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Xb();return this.indexManager.getCollectionParents(e,r).next(c=>de.forEach(c,f=>{const _=(w=t,D=f.child(r),new bu(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((D,S)=>{a=a.insert(D,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const w=_.getKey();null===a.get(w)&&(a=a.insert(w,Ci.newInvalidDocument(w)))});let c=Xb();return a.forEach((f,_)=>{const w=r.get(f);void 0!==w&&e0(w.mutation,_,_s.empty(),Mi.now()),Yb(t,_)&&(c=c.insert(f,_))}),c})}}class b6{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return de.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:lr(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Xk(i.bundledQuery),readTime:lr(i.readTime)}),de.resolve();var i}}class w6{constructor(){this.overlays=new pi(ot.comparator),this.ls=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Yl();return de.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.we(e,t,a)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=Yl(),a=t.length+1,c=new ot(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new pi((w,D)=>w-D);const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let D=a.get(w.largestBatchId);null===D&&(D=Yl(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=Yl(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=r)););return de.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new zk(t,i));let a=this.ls.get(t);void 0===a&&(a=vn(),this.ls.set(t,a)),this.ls.set(t,a.add(i.key))}}class rO{constructor(){this.fs=new Ei(Wr.ds),this.ws=new Ei(Wr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Wr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Wr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ot(new On([])),i=new Wr(t,e),r=new Wr(t,e+1),a=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ot(new On([])),i=new Wr(t,e),r=new Wr(t,e+1);let a=vn();return this.ws.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Wr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Wr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ot.comparator(e.key,t.key)||cn(e.As,t.As)}static _s(e,t){return cn(e.As,t.As)||ot.comparator(e.key,t.key)}}class E6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ei(Wr.ds)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.vs;this.vs++;const c=new Hk(a,t,i,r);this.mutationQueue.push(c);for(const f of r)this.Rs=this.Rs.add(new Wr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),a=r<0?0:r;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wr(t,0),r=new Wr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],c=>{const f=this.Ps(c.As);a.push(f)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ei(cn);return t.forEach(r=>{const a=new Wr(r,0),c=new Wr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],f=>{i=i.add(f.As)})}),de.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;ot.isDocumentKey(a)||(a=a.child(""));const c=new Wr(new ot(a),0);let f=new Ei(cn);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.As)),!0)},c),de.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ft(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return de.forEach(t.mutations,r=>{const a=new Wr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Wr(t,0),r=this.Rs.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class C6{constructor(e){this.Ds=e,this.docs=new pi(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():Ci.newInvalidDocument(t))}getEntries(e,t){let i=ys();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Ci.newInvalidDocument(r))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ys();const c=t.path,f=new ot(c.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:D}}=_.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||xk(EV(D),i)<=0||(r.has(D.key)||Yb(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,t,i,r){xt()}Cs(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new D6(this)}getSize(e){return de.resolve(this.size)}}class D6 extends dU{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class x6{constructor(e){this.persistence=e,this.xs=new wu(t=>Qf(t),Kb),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rO,this.targetCount=0,this.Ms=ap.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),de.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ap(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Fn(t),de.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),de.waitFor(a).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.ks.containsKey(t))}}class oO{constructor(e,t){this.$s={},this.overlays={},this.Os=new js(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x6(this),this.indexManager=new d6,this.remoteDocumentCache=new C6(i=>this.referenceDelegate.Ls(i)),this.serializer=new zB(t),this.qs=new b6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new E6(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ke("MemoryPersistence","Starting transaction:",e);const r=new I6(this.Os.next());return this.referenceDelegate.Us(),i(r).next(a=>this.referenceDelegate.Ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Gs(e,t){return de.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class I6 extends DV{constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Qs=new rO,this.js=null}static zs(e){return new Qx(e)}get Ws(){if(this.js)return this.js;throw xt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),de.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ws.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ws,i=>{const r=ot.fromPath(i);return this.Hs(e,r).next(a=>{a||t.removeEntry(r,Vt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return de.or([()=>de.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class S6{constructor(e){this.serializer=e}O(e,t,i,r){const a=new Sx("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TV,{unique:!0}),f.createObjectStore("documentMutations"),_U(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=de.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),_U(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(f,_){return _.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TV,{unique:!0});const D=_.store("mutations"),S=w.map(P=>D.put(P));return de.waitFor(S)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(a))),i<6&&r>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(a))),i<8&&r>=8&&(c=c.next(()=>this.ti(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.ei(a))),i<11&&r>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:d4});_.createIndex("collectionPathOverlayIndex",h4,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",f4,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:e4});_.createIndex("documentKeyIndex",t4),_.createIndex("collectionGroupIndex",n4)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(e,a))),i<15&&r>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:a4}).createIndex("sequenceNumberIndex",l4,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:c4}).createIndex("documentKeyIndex",u4,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Zx(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>de.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(f=>de.forEach(f,_=>{Ft(_.userId===a.userId);const w=rp(this.serializer,_);return rU(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((c,f)=>{const _=new On(c),w=[0,xo(_)];a.push(t.get(w).next(D=>D?de.resolve():t.put({targetId:0,path:xo(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:s4});const i=t.store("collectionParents"),r=new iO,a=c=>{if(r.add(c)){const f=c.lastSegment(),_=c.popLast();return i.put({collectionId:f,parent:xo(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,f)=>{const _=new On(c);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,f,_],w)=>{const D=Kl(f);return a(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const a=l0(r),c=GB(this.serializer,a);return t.put(c)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,c)=>{const f=t.store("remoteDocumentsV14"),_=(w=c,w.document?new ot(On.fromString(w.document.name).popFirst(5)):w.noDocument?ot.fromSegments(w.noDocument.path):w.unknownDocument?ot.fromSegments(w.unknownDocument.path):xt()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(f.put(D))}).next(()=>de.waitFor(r))}si(e,t){const i=t.store("mutations"),r=hU(this.serializer),a=new oO(Qx.zs,this.serializer.fe);return i.j().next(c=>{const f=new Map;return c.forEach(_=>{var w;let D=null!==(w=f.get(_.userId))&&void 0!==w?w:vn();rp(this.serializer,_).keys().forEach(S=>D=D.add(S)),f.set(_.userId,D)}),de.forEach(f,(_,w)=>{const D=new Gr(w),S=Gx.de(this.serializer,D),P=a.getIndexManager(D),U=Yx.de(D,this.serializer,P,a.referenceDelegate);return new gU(r,U,S,P).recalculateAndSaveOverlaysForDocumentKeys(new Tk(t,js.ct),_).next()})})}}function _U(n){n.createObjectStore("targetDocuments",{keyPath:r4}).createIndex("documentTargetsIndex",o4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",i4,{unique:!0}),n.createObjectStore("targetGlobal")}const sO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aO{constructor(e,t,i,r,a,c,f,_,w,D,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=a,this.window=c,this.document=f,this.ri=w,this.oi=D,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=P=>Promise.resolve(),!aO.D())throw new ze(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g6(this,r),this.di=t+"main",this.serializer=new zB(_),this.wi=new tl(this.di,this.ui,new S6(this.serializer)),this.Bs=new f6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hU(this.serializer),this.qs=new r6,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(me.FAILED_PRECONDITION,sO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new js(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Ie.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Kd(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return p0(e).get("owner").next(t=>de.resolve(this.Ri(t)))}Pi(e){return eI(e).delete(this.clientId)}bi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=qr(i,"clientMetadata");return r.j().next(a=>{const c=e.Si(a,18e5),f=a.filter(_=>-1===c.indexOf(_));return de.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?de.resolve(!0):p0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ze(me.FAILED_PRECONDITION,sO);return!1}}return!(!this.networkEnabled||!this.inForeground)||eI(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Tk(t,js.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>eI(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Yx.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h6(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Gx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.ui)?m4:14===c?kV:13===c?RV:12===c?p4:11===c?MV:void xt();var c;let f;return this.wi.runTransaction(e,r,a,_=>(f=new Tk(_,this.Os?this.Os.next():js.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ze(me.FAILED_PRECONDITION,CV);return i(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return p0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ze(me.FAILED_PRECONDITION,sO)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return p0(e).put("owner",t)}static D(){return tl.D()}Ai(e){const t=p0(e);return t.get("owner").next(i=>this.Ri(i)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ar(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,zn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ar("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function p0(n){return qr(n,"owner")}function eI(n){return qr(n,"clientMetadata")}function lO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cO{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=vn(),r=vn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new cO(e,t.fromCache,i,r)}}class yU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(a=>a||this.Gi(e,t,r,i)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(nB(t))return de.resolve(null);let i=Xo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Vx(t,null,"F"),i=Xo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=vn(...a);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.ji(t,f);return this.zi(t,w,c,_.readTime)?this.Ki(e,Vx(t,null,"F")):this.Wi(e,w,t,_)}))})))}Gi(e,t,i,r){return nB(t)||r.isEqual(Vt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(a=>{const c=this.ji(t,a);return this.zi(t,c,i,r)?this.Qi(e,t):(Ek()<=zd.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vk(t)),this.Wi(e,c,t,wV(r,-1)))})}ji(e,t){let i=new Ei(oB(e));return t.forEach((r,a)=>{Yb(e,a)&&(i=i.add(a))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,t){return Ek()<=zd.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Vk(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class T6{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new pi(cn),this.Yi=new wu(a=>Qf(a),Kb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function vU(n,e,t,i){return new T6(n,e,t,i)}function bU(n,e){return uO.apply(this,arguments)}function uO(){return uO=(0,Ie.Z)(function*(n,e){const t=ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let _=vn();for(const w of r){c.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(i,_).next(w=>({er:w,removedBatchIds:c,addedBatchIds:f}))})})}),uO.apply(this,arguments)}function wU(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function EU(n,e,t){let i=vn(),r=vn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ys();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Vt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{nr:c,sr:r}})}function R6(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function o_(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(a=>a?(r=a,de.resolve(r)):t.Bs.allocateTargetId(i).next(c=>(r=new Cu(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function s_(n,e,t){return dO.apply(this,arguments)}function dO(){return dO=(0,Ie.Z)(function*(n,e,t){const i=ct(n),r=i.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Kd(c))throw c;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),dO.apply(this,arguments)}function tI(n,e,t){const i=ct(n);let r=Vt.min(),a=vn();return i.persistence.runTransaction("Execute query","readonly",c=>function(f,_,w){const D=ct(f),S=D.Yi.get(w);return void 0!==S?de.resolve(D.Ji.get(S)):D.Bs.getTargetData(_,w)}(i,c,Xo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{a=_})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,e,t?r:Vt.min(),t?a:vn())).next(f=>(xU(i,rB(e),f),{documents:f,ir:a})))}function CU(n,e){const t=ct(n),i=ct(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.le(a,e).next(c=>c?c.target:null))}function DU(n,e){const t=ct(n),i=t.Xi.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,wV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(xU(t,e,r),r))}function xU(n,e,t){let i=n.Xi.get(e)||Vt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Xi.set(e,i)}function hO(){return hO=(0,Ie.Z)(function*(n,e,t,i){const r=ct(n);let a=vn(),c=ys();for(const w of t){const D=e.rr(w.metadata.name);w.document&&(a=a.add(D));const S=e.ur(w);S.setReadTime(e.cr(w.metadata.readTime)),c=c.insert(D,S)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),_=yield o_(r,(w=i,Xo(Yg(On.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>EU(w,f,c).next(D=>(f.apply(w),D)).next(D=>r.Bs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Bs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,D.nr,D.sr)).next(()=>D.nr)))}),hO.apply(this,arguments)}function O6(n,e){return fO.apply(this,arguments)}function fO(){return fO=(0,Ie.Z)(function*(n,e,t=vn()){const i=yield o_(n,Xo(Xk(e.bundledQuery))),r=ct(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=lr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(a,e);const f=i.withResumeToken(Mr.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(a,f).next(()=>r.Bs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Bs.addMatchingKeys(a,t,i.targetId)).next(()=>r.qs.saveNamedQuery(a,e))})}),fO.apply(this,arguments)}function IU(n,e){return`firestore_clients_${n}_${e}`}function SU(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function pO(n,e){return`firestore_targets_${n}_${e}`}class nI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new ze(r.error.code,r.error.message))),c?new nI(e,t,r.state,a):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ze(i.error.code,i.error.message))),a?new m0(e,i.state,r):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Bk();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=IV(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new iI(e,a):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mO{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mO(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gO{constructor(){this.activeTargetIds=Bk()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _O{constructor(e,t,i,r,a){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new pi(cn),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=IU(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new gO),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const a=e.getItem(IU(e.persistenceKey,r));if(a){const c=iI.ar(r,a);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(pO(this.persistenceKey,e));if(i){const r=m0.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pO(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(a){let c=js.ct;if(null!=a)try{const f=JSON.parse(a);Ft("number"==typeof f),c=f}catch(f){ar("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(i.newValue);r!==js.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new nI(this.currentUser,e,t,i),a=SU(this.persistenceKey,this.currentUser,e);this.setItem(a,r.hr())}Cr(e){const t=SU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=pO(this.persistenceKey,e),a=new m0(e,t,i);this.setItem(r,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return iI.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return nI.ar(new Gr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return m0.ar(r,t)}br(e){return mO.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),a=this.Sr(i),c=[],f=[];return a.forEach(_=>{r.has(_)||c.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Wr(c,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Bk();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class TU{constructor(){this.Hr=new gO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new gO,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N6{Yr(e){}shutdown(){}}class AU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rI=null;function yO(){return null===rI?rI=268435456+Math.round(2147483648*Math.random()):rI++,"0x"+rI.toString(16)}const P6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F6{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const So="WebChannelConnection";class L6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,a){const c=yO(),f=this.To(e,t);Ke("RestConnection",`Sending RPC '${e}' ${c}:`,f,i);const _={};return this.Eo(_,r,a),this.Ao(e,f,_,i).then(w=>(Ke("RestConnection",`Received RPC '${e}' ${c}: `,w),w),w=>{throw ba("RestConnection",`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}vo(e,t,i,r,a,c){return this.Io(e,t,i,r,a)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+$g,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}To(e,t){return`${this.mo}/v1/${t}:${P6[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const a=yO();return new Promise((c,f)=>{const _=new N$;_.setWithCredentials(!0),_.listenOnce(R$.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case wk.NO_ERROR:const D=_.getResponseJson();Ke(So,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),c(D);break;case wk.TIMEOUT:Ke(So,`RPC '${e}' ${a} timed out`),f(new ze(me.DEADLINE_EXCEEDED,"Request time out"));break;case wk.HTTP_ERROR:const S=_.getStatus();if(Ke(So,`RPC '${e}' ${a} failed with status:`,S,"response text:",_.getResponseText()),S>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P?.error;if(U&&U.status&&U.message){const q=function(J){const ge=J.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ge)>=0?ge:me.UNKNOWN}(U.status);f(new ze(q,U.message))}else f(new ze(me.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new ze(me.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Ke(So,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(r);Ke(So,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",w,i,15)})}Ro(e,t,i){const r=yO(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=A$(),f=M$(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(_.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(_.xmlHttpFactory=new O$({})),this.Eo(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const D=a.join("");Ke(So,`Creating RPC '${e}' stream ${r}: ${D}`,_);const S=c.createWebChannel(D,_);let P=!1,U=!1;const q=new F6({ro:ge=>{U?Ke(So,`Not sending because RPC '${e}' stream ${r} is closed:`,ge):(P||(Ke(So,`Opening RPC '${e}' stream ${r} transport.`),S.open(),P=!0),Ke(So,`RPC '${e}' stream ${r} sending:`,ge),S.send(ge))},oo:()=>S.close()}),J=(ge,Xe,pt)=>{ge.listen(Xe,gt=>{try{pt(gt)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return J(S,Dx.EventType.OPEN,()=>{U||Ke(So,`RPC '${e}' stream ${r} transport opened.`)}),J(S,Dx.EventType.CLOSE,()=>{U||(U=!0,Ke(So,`RPC '${e}' stream ${r} transport closed`),q.wo())}),J(S,Dx.EventType.ERROR,ge=>{U||(U=!0,ba(So,`RPC '${e}' stream ${r} transport errored:`,ge),q.wo(new ze(me.UNAVAILABLE,"The operation could not be completed")))}),J(S,Dx.EventType.MESSAGE,ge=>{var Xe;if(!U){const pt=ge.data[0];Ft(!!pt);const Ct=pt.error||(null===(Xe=pt[0])||void 0===Xe?void 0:Xe.error);if(Ct){Ke(So,`RPC '${e}' stream ${r} received error:`,Ct);const qt=Ct.status;let on=function(fo){const Da=yr[fo];if(void 0!==Da)return CB(Da)}(qt),$n=Ct.message;void 0===on&&(on=me.INTERNAL,$n="Unknown error status: "+qt+" with message "+Ct.message),U=!0,q.wo(new ze(on,$n)),S.close()}else Ke(So,`RPC '${e}' stream ${r} received:`,pt),q._o(pt)}}),J(f,k$.STAT_EVENT,ge=>{ge.stat===mV.PROXY?Ke(So,`RPC '${e}' stream ${r} detected buffering proxy`):ge.stat===mV.NOPROXY&&Ke(So,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function MU(){return typeof window<"u"?window:null}function oI(){return typeof document<"u"?document:null}function g0(n){return new W4(n,!0)}class vO{constructor(e,t,i=1e3,r=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class RU{constructor(e,t,i,r,a,c,f,_){this.ii=e,this.$o=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new vO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ie.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ie.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new ze(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ie.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V6 extends RU{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Y4(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:xt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.useProto3Json?(Ft(void 0===w||"string"==typeof w),Mr.fromBase64String(w||"")):(Ft(void 0===w||w instanceof Uint8Array),Mr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const w=void 0===_.code?me.UNKNOWN:CB(_.code);return new ze(w,_.message||"")}(c);t=new TB(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Xl(n,i.document.name),a=lr(i.document.updateTime),c=i.document.createTime?lr(i.document.createTime):Vt.min(),f=new lo({mapValue:{fields:i.document.fields}}),_=Ci.newFoundDocument(r,a,c,f);t=new zx(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Xl(n,i.document),a=i.readTime?lr(i.readTime):Vt.min(),c=Ci.newNoDocument(r,a);t=new zx([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Xl(n,i.document);t=new zx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xt();{const i=e.filter,{count:r=0,unchangedNames:a}=i,c=new H4(r,a);t=new SB(i.targetId,c)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Vt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?lr(a.readTime):Vt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=s0(this.serializer),t.addTarget=function(r,a){let c;const f=a.target;if(c=Px(f)?{documents:VB(r,f)}:{query:Yk(r,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=kB(r,a.resumeToken);const _=qk(r,a.expectedCount);null!==_&&(c.expectedCount=_)}else if(a.snapshotVersion.compareTo(Vt.min())>0){c.readTime=t_(r,a.snapshotVersion.toTimestamp());const _=qk(r,a.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const i=function Q4(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=s0(this.serializer),t.removeTarget=e,this.Wo(t)}}class B6 extends RU{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function X4(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(i,r){let a=lr(i.updateTime?i.updateTime:r);return a.isEqual(Vt.min())&&(a=lr(r)),new L4(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.cu(i,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=s0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>a0(this.serializer,i))};this.Wo(t)}}class U6 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ze(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Io(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ze(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ze(me.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class j6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):Ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class z6{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{i.enqueueAndForget((0,Ie.Z)(function*(){var _;sh(c)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ie.Z)(function*(w){const D=ct(w);D.vu.add(4),yield a_(D),D.bu.set("Unknown"),D.vu.delete(4),yield _0(D)}),function(w){return _.apply(this,arguments)})(c))}))}),this.bu=new j6(i,r)}}function _0(n){return wO.apply(this,arguments)}function wO(){return wO=(0,Ie.Z)(function*(n){if(sh(n))for(const e of n.Ru)yield e(!0)}),wO.apply(this,arguments)}function a_(n){return EO.apply(this,arguments)}function EO(){return EO=(0,Ie.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),EO.apply(this,arguments)}function sI(n,e){const t=ct(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),xO(t)?DO(t):c_(t).Ko()&&CO(t,e))}function y0(n,e){const t=ct(n),i=c_(t);t.Au.delete(e),i.Ko()&&kU(t,e),0===t.Au.size&&(i.Ko()?i.jo():sh(t)&&t.bu.set("Unknown"))}function CO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}c_(n).su(e)}function kU(n,e){n.Vu.qt(e),c_(n).iu(e)}function DO(n){n.Vu=new z4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),c_(n).start(),n.bu.gu()}function xO(n){return sh(n)&&!c_(n).Uo()&&n.Au.size>0}function sh(n){return 0===ct(n).vu.size}function OU(n){n.Vu=void 0}function $6(n){return IO.apply(this,arguments)}function IO(){return IO=(0,Ie.Z)(function*(n){n.Au.forEach((e,t)=>{CO(n,e)})}),IO.apply(this,arguments)}function G6(n,e){return SO.apply(this,arguments)}function SO(){return SO=(0,Ie.Z)(function*(n,e){OU(n),xO(n)?(n.bu.Iu(e),DO(n)):n.bu.set("Unknown")}),SO.apply(this,arguments)}function q6(n,e,t){return TO.apply(this,arguments)}function TO(){return TO=(0,Ie.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof TB&&2===e.state&&e.cause)try{yield(i=(0,Ie.Z)(function*(r,a){const c=a.cause;for(const f of a.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,c),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield aI(n,i)}else if(e instanceof zx?n.Vu.Ht(e):e instanceof SB?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Vt.min()))try{const i=yield wU(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.Vu.ce(a);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.Au.get(_);w&&r.Au.set(_,w.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,_)=>{const w=r.Au.get(f);if(!w)return;r.Au.set(f,w.withResumeToken(Mr.EMPTY_BYTE_STRING,w.snapshotVersion)),kU(r,f);const D=new Cu(w.target,f,_,w.sequenceNumber);CO(r,D)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ke("RemoteStore","Failed to raise snapshot:",i),yield aI(n,i)}var i}),TO.apply(this,arguments)}function aI(n,e,t){return AO.apply(this,arguments)}function AO(){return AO=(0,Ie.Z)(function*(n,e,t){if(!Kd(e))throw e;n.vu.add(1),yield a_(n),n.bu.set("Offline"),t||(t=()=>wU(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield _0(n)}))}),AO.apply(this,arguments)}function NU(n,e){return e().catch(t=>aI(n,t,e))}function l_(n){return MO.apply(this,arguments)}function MO(){return MO=(0,Ie.Z)(function*(n){const e=ct(n),t=ah(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;W6(e);)try{const r=yield R6(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,K6(e,r)}catch(r){yield aI(e,r)}PU(e)&&FU(e)}),MO.apply(this,arguments)}function W6(n){return sh(n)&&n.Eu.length<10}function K6(n,e){n.Eu.push(e);const t=ah(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function PU(n){return sh(n)&&!ah(n).Uo()&&n.Eu.length>0}function FU(n){ah(n).start()}function Z6(n){return RO.apply(this,arguments)}function RO(){return RO=(0,Ie.Z)(function*(n){ah(n).hu()}),RO.apply(this,arguments)}function Y6(n){return kO.apply(this,arguments)}function kO(){return kO=(0,Ie.Z)(function*(n){const e=ah(n);for(const t of n.Eu)e.uu(t.mutations)}),kO.apply(this,arguments)}function X6(n,e,t){return OO.apply(this,arguments)}function OO(){return OO=(0,Ie.Z)(function*(n,e,t){const i=n.Eu.shift(),r=jk.from(i,e,t);yield NU(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield l_(n)}),OO.apply(this,arguments)}function Q6(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,Ie.Z)(function*(n,e){var t;e&&ah(n).ou&&(yield(t=(0,Ie.Z)(function*(i,r){if(EB(a=r.code)&&a!==me.ABORTED){const c=i.Eu.shift();ah(i).Qo(),yield NU(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield l_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),PU(n)&&FU(n)}),NO.apply(this,arguments)}function LU(n,e){return PO.apply(this,arguments)}function PO(){return PO=(0,Ie.Z)(function*(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const i=sh(t);t.vu.add(3),yield a_(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield _0(t)}),PO.apply(this,arguments)}function FO(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,Ie.Z)(function*(n,e){const t=ct(n);e?(t.vu.delete(2),yield _0(t)):e||(t.vu.add(2),yield a_(t),t.bu.set("Unknown"))}),LO.apply(this,arguments)}function c_(n){return n.Su||(n.Su=function(e,t,i){const r=ct(e);return r.fu(),new V6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:$6.bind(null,n),ao:G6.bind(null,n),nu:q6.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Su.Qo(),xO(n)?DO(n):n.bu.set("Unknown")):(yield n.Su.stop(),OU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ah(n){return n.Du||(n.Du=function(e,t,i){const r=ct(e);return r.fu(),new B6(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Z6.bind(null,n),ao:Q6.bind(null,n),au:Y6.bind(null,n),cu:X6.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Du.Qo(),yield l_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class VO{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,f=new VO(e,t,c,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Kd(n))return new ze(me.UNAVAILABLE,`${e}: ${n}`);throw n}class d_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ot.comparator(t.key,i.key):(t,i)=>ot.comparator(t.key,i.key),this.keyedMap=Xb(),this.sortedSet=new pi(this.comparator)}static emptySet(e){return new d_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof d_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new d_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class VU{constructor(){this.Cu=new pi(ot.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):xt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class h_{constructor(e,t,i,r,a,c,f,_,w){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new h_(e,t,d_.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class J6{constructor(){this.Nu=void 0,this.listeners=[]}}class eG{constructor(){this.queries=new wu(e=>iB(e),Zb),this.onlineState="Unknown",this.ku=new Set}}function BO(n,e){return UO.apply(this,arguments)}function UO(){return UO=(0,Ie.Z)(function*(n,e){const t=ct(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new J6),r)try{a.Nu=yield t.onListen(i)}catch(c){const f=u_(c,`Initialization of query '${Vk(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&zO(t)}),UO.apply(this,arguments)}function HO(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,Ie.Z)(function*(n,e){const t=ct(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),jO.apply(this,arguments)}function tG(n,e){const t=ct(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const f of c.listeners)f.$u(r)&&(i=!0);c.Nu=r}}i&&zO(t)}function nG(n,e,t){const i=ct(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function zO(n){n.ku.forEach(e=>{e.next()})}class $O{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new h_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=h_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class iG{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class BU{constructor(e){this.serializer=e}rr(e){return Xl(this.serializer,e)}ur(e){return e.metadata.exists?LB(this.serializer,e.document,!1):Ci.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return lr(e)}}class rG{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UU(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=On.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new BU(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.rr(r.metadata.name);for(const c of r.metadata.queries){const f=(t.get(c)||vn()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function k6(n,e,t,i){return hO.apply(this,arguments)}(e.localStore,new BU(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield O6(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function UU(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class HU{constructor(e){this.key=e}}class jU{constructor(e){this.key=e}}class zU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=vn(),this.mutatedKeys=vn(),this.tc=oB(e),this.ec=new d_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new VU,r=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((D,S)=>{const P=r.get(D),U=Yb(this.query,S)?S:null,q=!!P&&this.mutatedKeys.has(P.key),J=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ge=!1;P&&U?P.data.isEqual(U.data)?q!==J&&(i.track({type:3,doc:U}),ge=!0):this.rc(P,U)||(i.track({type:2,doc:U}),ge=!0,(_&&this.tc(U,_)>0||w&&this.tc(U,w)<0)&&(f=!0)):!P&&U?(i.track({type:0,doc:U}),ge=!0):P&&!U&&(i.track({type:1,doc:P}),ge=!0,(_||w)&&(f=!0)),ge&&(U?(c=c.add(U),a=J?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),i.track({type:1,doc:D})}return{ec:c,ic:i,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,D)=>function(S,P){const U=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return U(S)-U(P)}(w.type,D.type)||this.tc(w.doc,D.doc)),this.oc(i);const c=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,_=f!==this.Xu;return this.Xu=f,0!==a.length||_?{snapshot:new h_(this.query,e.ec,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new VU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=vn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new jU(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new HU(i))}),t}hc(e){this.Yu=e.ir,this.Zu=vn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return h_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class oG{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sG{constructor(e){this.key=e,this.fc=!1}}class aG{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new wu(f=>iB(f),Zb),this._c=new Map,this.mc=new Set,this.gc=new pi(ot.comparator),this.yc=new Map,this.Ic=new rO,this.Tc={},this.Ec=new Map,this.Ac=ap.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function lG(n,e){return GO.apply(this,arguments)}function GO(){return GO=(0,Ie.Z)(function*(n,e){const t=m1(n);let i,r;const a=t.wc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.lc();else{const c=yield o_(t.localStore,Xo(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield qO(t,e,i,"current"===f,c.resumeToken),t.isPrimaryClient&&sI(t.remoteStore,c)}return r}),GO.apply(this,arguments)}function qO(n,e,t,i,r){return WO.apply(this,arguments)}function WO(){return WO=(0,Ie.Z)(function*(n,e,t,i,r){n.Rc=(S,P,U)=>{return(q=(0,Ie.Z)(function*(J,ge,Xe,pt){let gt=ge.view.sc(Xe);gt.zi&&(gt=yield tI(J.localStore,ge.query,!1).then(({documents:on})=>ge.view.sc(on,gt)));const Ct=pt&&pt.targetChanges.get(ge.targetId),qt=ge.view.applyChanges(gt,J.isPrimaryClient,Ct);return r1(J,ge.targetId,qt.cc),qt.snapshot}),function(J,ge,Xe,pt){return q.apply(this,arguments)})(n,S,P,U);var q};const a=yield tI(n.localStore,e,!0),c=new zU(e,a.ir),f=c.sc(a.documents),_=r0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),w=c.applyChanges(f,n.isPrimaryClient,_);r1(n,t,w.cc);const D=new oG(e,t,c);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),WO.apply(this,arguments)}function cG(n,e){return KO.apply(this,arguments)}function KO(){return KO=(0,Ie.Z)(function*(n,e){const t=ct(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!Zb(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield s_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),y0(t.remoteStore,i.targetId),f_(t,i.targetId)}).catch(Wd))):(f_(t,i.targetId),yield s_(t.localStore,i.targetId,!0))}),KO.apply(this,arguments)}function ZO(){return ZO=(0,Ie.Z)(function*(n,e,t){const i=g1(n);try{const r=yield function(a,c){const f=ct(a),_=Mi.now(),w=c.reduce((P,U)=>P.add(U.key),vn());let D,S;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let U=ys(),q=vn();return f.Zi.getEntries(P,w).next(J=>{U=J,U.forEach((ge,Xe)=>{Xe.isValidDocument()||(q=q.add(ge))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,U)).next(J=>{D=J;const ge=[];for(const Xe of c){const pt=B4(Xe,D.get(Xe.key).overlayedDocument);null!=pt&&ge.push(new Eu(Xe.key,pt,zV(pt.value.mapValue),Ri.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,ge,c)}).next(J=>{S=J;const ge=J.applyToLocalDocumentSet(D,q);return f.documentOverlayCache.saveOverlays(P,J.batchId,ge)})}).then(()=>({batchId:S.batchId,changes:aB(D)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,f){let _=a.Tc[a.currentUser.toKey()];_||(_=new pi(cn)),_=_.insert(c,f),a.Tc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Du(i,r.changes),yield l_(i.remoteStore)}catch(r){const a=u_(r,"Failed to persist write");t.reject(a)}}),ZO.apply(this,arguments)}function $U(n,e){return YO.apply(this,arguments)}function YO(){return YO=(0,Ie.Z)(function*(n,e){const t=ct(n);try{const i=yield function M6(n,e){const t=ct(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((D,S)=>{const P=r.get(S);if(!P)return;f.push(t.Bs.removeMatchingKeys(a,D.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(a,D.addedDocuments,S)));let U=P.withSequenceNumber(a.currentSequenceNumber);var q,J,ge;null!==e.targetMismatches.get(S)?U=U.withResumeToken(Mr.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):D.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(D.resumeToken,i)),r=r.insert(S,U),J=U,ge=D,(0===(q=P).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,U))});let _=ys(),w=vn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(EU(a,c,e.documentUpdates).next(D=>{_=D.nr,w=D.sr})),!i.isEqual(Vt.min())){const D=t.Bs.getLastRemoteSnapshotVersion(a).next(S=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(D)}return de.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.Ji=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.yc.get(a);c&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?Ft(c.fc):r.removedDocuments.size>0&&(Ft(c.fc),c.fc=!1))}),yield Du(t,i,e)}catch(i){yield Wd(i)}}),YO.apply(this,arguments)}function GU(n,e,t){const i=ct(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((a,c)=>{const f=c.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(a,c){const f=ct(a);f.onlineState=c;let _=!1;f.queries.forEach((w,D)=>{for(const S of D.listeners)S.Mu(c)&&(_=!0)}),_&&zO(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dG(n,e,t){return XO.apply(this,arguments)}function XO(){return XO=(0,Ie.Z)(function*(n,e,t){const i=ct(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),a=r&&r.key;if(a){let c=new pi(ot.comparator);c=c.insert(a,Ci.newNoDocument(a,Vt.min()));const f=vn().add(a),_=new n0(Vt.min(),new Map,new pi(cn),c,f);yield $U(i,_),i.gc=i.gc.remove(a),i.yc.delete(e),o1(i)}else yield s_(i.localStore,e,!1).then(()=>f_(i,e,t)).catch(Wd)}),XO.apply(this,arguments)}function hG(n,e){return QO.apply(this,arguments)}function QO(){return QO=(0,Ie.Z)(function*(n,e){const t=ct(n),i=e.batch.batchId;try{const r=yield function A6(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,w){const D=_.batch,S=D.keys();let P=de.resolve();return S.forEach(U=>{P=P.next(()=>w.getEntry(f,U)).next(q=>{const J=_.docVersions.get(U);Ft(null!==J),q.version.compareTo(J)<0&&(D.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(f,D))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=vn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);n1(t,i,null),t1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Du(t,r)}catch(r){yield Wd(r)}}),QO.apply(this,arguments)}function fG(n,e,t){return JO.apply(this,arguments)}function JO(){return JO=(0,Ie.Z)(function*(n,e,t){const i=ct(n);try{const r=yield function(a,c){const f=ct(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,c).next(D=>(Ft(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(_,D))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);n1(i,e,t),t1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Du(i,r)}catch(r){yield Wd(r)}}),JO.apply(this,arguments)}function e1(){return e1=(0,Ie.Z)(function*(n,e){const t=ct(n);sh(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=ct(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=u_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),e1.apply(this,arguments)}function t1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function n1(n,e,t){const i=ct(n);let r=i.Tc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function f_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||qU(n,i)})}function qU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(y0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),o1(n))}function r1(n,e,t){for(const i of t)i instanceof HU?(n.Ic.addReference(i.key,e),mG(n,i)):i instanceof jU?(Ke("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||qU(n,i.key)):xt()}function mG(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ke("SyncEngine","New document in limbo: "+t),n.mc.add(i),o1(n))}function o1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ot(On.fromString(e)),i=n.Ac.next();n.yc.set(i,new sG(t)),n.gc=n.gc.insert(t,i),sI(n.remoteStore,new Cu(Xo(Yg(t.path)),i,"TargetPurposeLimboResolution",js.ct))}}function Du(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=(0,Ie.Z)(function*(n,e,t){const i=ct(n),r=[],a=[],c=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,_)=>{c.push(i.Rc(_,e,t).then(w=>{if((w||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){r.push(w);const D=cO.Li(_.targetId,w);a.push(D)}}))}),yield Promise.all(c),i.dc.nu(r),yield(f=(0,Ie.Z)(function*(_,w){const D=ct(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>de.forEach(w,P=>de.forEach(P.Fi,U=>D.persistence.referenceDelegate.addReference(S,P.targetId,U)).next(()=>de.forEach(P.Bi,U=>D.persistence.referenceDelegate.removeReference(S,P.targetId,U)))))}catch(S){if(!Kd(S))throw S;Ke("LocalStore","Failed to update sequence numbers: "+S)}for(const S of w){const P=S.targetId;if(!S.fromCache){const U=D.Ji.get(P),J=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);D.Ji=D.Ji.insert(P,J)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),s1.apply(this,arguments)}function gG(n,e){return a1.apply(this,arguments)}function a1(){return a1=(0,Ie.Z)(function*(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const i=yield bU(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(c=>{c.forEach(f=>{f.reject(new ze(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Du(t,i.er)}var r}),a1.apply(this,arguments)}function _G(n,e){const t=ct(n),i=t.yc.get(e);if(i&&i.fc)return vn().add(i.key);{let r=vn();const a=t._c.get(e);if(!a)return r;for(const c of a){const f=t.wc.get(c);r=r.unionWith(f.view.nc)}return r}}function yG(n,e){return l1.apply(this,arguments)}function l1(){return l1=(0,Ie.Z)(function*(n,e){const t=ct(n),i=yield tI(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&r1(t,e.targetId,r.cc),r}),l1.apply(this,arguments)}function vG(n,e){return c1.apply(this,arguments)}function c1(){return c1=(0,Ie.Z)(function*(n,e){const t=ct(n);return DU(t.localStore,e).then(i=>Du(t,i))}),c1.apply(this,arguments)}function bG(n,e,t,i){return u1.apply(this,arguments)}function u1(){return u1=(0,Ie.Z)(function*(n,e,t,i){const r=ct(n),a=yield function(c,f){const _=ct(c),w=ct(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Sn(D,f).next(S=>S?_.localDocuments.getDocuments(D,S):de.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield l_(r.remoteStore):"acknowledged"===t||"rejected"===t?(n1(r,e,i||null),t1(r,e),f=e,ct(ct(r.localStore).mutationQueue).Cn(f)):xt(),yield Du(r,a)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),u1.apply(this,arguments)}function d1(){return d1=(0,Ie.Z)(function*(n,e){const t=ct(n);if(m1(t),g1(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield WU(t,i.toArray());t.vc=!0,yield FO(t.remoteStore,!0);for(const a of r)sI(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(f_(t,c),s_(t.localStore,c,!0))),y0(t.remoteStore,c)}),yield r,yield WU(t,i),function(a){const c=ct(a);c.yc.forEach((f,_)=>{y0(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new pi(ot.comparator)}(t),t.vc=!1,yield FO(t.remoteStore,!1)}}),d1.apply(this,arguments)}function WU(n,e,t){return h1.apply(this,arguments)}function h1(){return h1=(0,Ie.Z)(function*(n,e,t){const i=ct(n),r=[],a=[];for(const c of e){let f;const _=i._c.get(c);if(_&&0!==_.length){f=yield o_(i.localStore,Xo(_[0]));for(const w of _){const D=i.wc.get(w),S=yield yG(i,D);S.snapshot&&a.push(S.snapshot)}}else{const w=yield CU(i.localStore,c);f=yield o_(i.localStore,w),yield qO(i,KU(w),c,!1,f.resumeToken)}r.push(f)}return i.dc.nu(a),r}),h1.apply(this,arguments)}function KU(n){return tB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EG(n){const e=ct(n);return ct(ct(e.localStore).persistence).$i()}function CG(n,e,t,i){return f1.apply(this,arguments)}function f1(){return f1=(0,Ie.Z)(function*(n,e,t,i){const r=ct(n);if(r.vc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield DU(r.localStore,rB(a[0])),f=n0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Mr.EMPTY_BYTE_STRING);yield Du(r,c,f);break}case"rejected":yield s_(r.localStore,e,!0),f_(r,e,i);break;default:xt()}}),f1.apply(this,arguments)}function DG(n,e,t){return p1.apply(this,arguments)}function p1(){return p1=(0,Ie.Z)(function*(n,e,t){const i=m1(n);if(i.vc){for(const r of e){if(i._c.has(r)){Ke("SyncEngine","Adding an already active target "+r);continue}const a=yield CU(i.localStore,r),c=yield o_(i.localStore,a);yield qO(i,KU(a),c.targetId,!1,c.resumeToken),sI(i.remoteStore,c)}for(const r of t)i._c.has(r)&&(yield s_(i.localStore,r,!1).then(()=>{y0(i.remoteStore,r),f_(i,r)}).catch(Wd))}}),p1.apply(this,arguments)}function m1(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$U.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_G.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dG.bind(null,e),e.dc.nu=tG.bind(null,e.eventManager),e.dc.Pc=nG.bind(null,e.eventManager),e}function g1(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fG.bind(null,e),e}class v0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.serializer=g0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vU(this.persistence,new yU,e.initialUser,this.serializer)}createPersistence(e){return new oO(Qx.zs,this.serializer)}createSharedClientState(e){return new TU}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _1 extends v0{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield g1(i.Vc.syncEngine),yield l_(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vU(this.persistence,new yU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new X$(t,this.persistence);return new Y$(e.asyncQueue,i)}createPersistence(e){const t=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new aO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,MU(),oI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TU}}class ZU extends _1{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof _O&&(i.sharedClientState.syncEngine={jr:bG.bind(null,r),zr:CG.bind(null,r),Wr:DG.bind(null,r),$i:EG.bind(null,r),Qr:vG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var a=(0,Ie.Z)(function*(c){yield function wG(n,e){return d1.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=MU();if(!_O.D(t))throw new ze(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=lO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _O(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class p_{initialize(e,t){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>GU(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gG.bind(null,i.syncEngine),yield FO(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eG}createDatastore(e){const t=g0(e.databaseInfo.databaseId),i=new L6(e.databaseInfo);return new U6(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>GU(this.syncEngine,f,0),c=AU.D()?new AU:new N6,new z6(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,f,_,w){const D=new aG(i,r,a,c,f,_);return w&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const i=ct(t);Ke("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield a_(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YU(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class lI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SG{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ar,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const a=yield e.$c(r);return new iG(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class TG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ze(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ie.Z)(function*(a,c){const f=ct(a),_=s0(f.serializer)+"/documents",w={documents:c.map(U=>o0(f.serializer,U))},D=yield f.vo("BatchGetDocuments",_,w,c.length),S=new Map;D.forEach(U=>{const q=function Z4(n,e){return"found"in e?function(t,i){Ft(!!i.found);const r=Xl(t,i.found.name),a=lr(i.found.updateTime),c=i.found.createTime?lr(i.found.createTime):Vt.min(),f=new lo({mapValue:{fields:i.found.fields}});return Ci.newFoundDocument(r,a,c,f)}(n,e):"missing"in e?function(t,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Xl(t,i.missing),a=lr(i.readTime);return Ci.newNoDocument(r,a)}(n,e):xt()}(f.serializer,U);S.set(q.key.toString(),q)});const P=[];return c.forEach(U=>{const q=S.get(U.toString());Ft(!!q),P.push(q)}),P}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new e_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=ot.fromPath(r);e.mutations.push(new Uk(a,e.precondition(a)))}),yield(i=(0,Ie.Z)(function*(r,a){const c=ct(r),f=s0(c.serializer)+"/documents",_={writes:a.map(w=>a0(c.serializer,w))};yield c.Io("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xt();t=Vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ze(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?Ri.exists(!1):Ri.updateTime(t):Ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new ze(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(t)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class AG{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Bc=i.maxAttempts,this.qo=new vO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ie.Z)(function*(){const t=new TG(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Uc(a)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!jb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!EB(t)}return!1}}class MG{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Gr.UNAUTHENTICATED,this.clientId=vV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ie.Z)(function*(f){Ke("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=u_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function cI(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ie.Z)(function*(a){i.isEqual(a)||(yield bU(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),y1.apply(this,arguments)}function v1(n,e){return b1.apply(this,arguments)}function b1(){return b1=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield w1(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>LU(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>LU(e.remoteStore,a)),n._onlineComponents=e}),b1.apply(this,arguments)}function XU(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function w1(n){return E1.apply(this,arguments)}function E1(){return E1=(0,Ie.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!XU(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),yield cI(n,new v0)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield cI(n,new v0);return n._offlineComponents}),E1.apply(this,arguments)}function uI(n){return C1.apply(this,arguments)}function C1(){return C1=(0,Ie.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield v1(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield v1(n,new p_))),n._onlineComponents}),C1.apply(this,arguments)}function QU(n){return w1(n).then(e=>e.persistence)}function dI(n){return w1(n).then(e=>e.localStore)}function JU(n){return uI(n).then(e=>e.remoteStore)}function D1(n){return uI(n).then(e=>e.syncEngine)}function m_(n){return x1.apply(this,arguments)}function x1(){return x1=(0,Ie.Z)(function*(n){const e=yield uI(n),t=e.eventManager;return t.onListen=lG.bind(null,e.syncEngine),t.onUnlisten=cG.bind(null,e.syncEngine),t}),x1.apply(this,arguments)}function tH(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,a,c,f,_){const w=new lI({next:S=>{a.enqueueAndForget(()=>HO(r,D));const P=S.docs.has(c);!P&&S.fromCache?_.reject(new ze(me.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&f&&"server"===f.source?_.reject(new ze(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new $O(Yg(c.path),w,{includeMetadataChanges:!0,Ku:!0});return BO(r,D)}(yield m_(n),n.asyncQueue,e,t,i)})),i.promise}function nH(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,a,c,f,_){const w=new lI({next:S=>{a.enqueueAndForget(()=>HO(r,D)),S.fromCache&&"server"===f.source?_.reject(new ze(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),D=new $O(c,w,{includeMetadataChanges:!0,Ku:!0});return BO(r,D)}(yield m_(n),n.asyncQueue,e,t,i)})),i.promise}function iH(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const rH=new Map;function I1(n,e,t){if(!t)throw new ze(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function oH(n,e,t,i){if(!0===e&&!0===i)throw new ze(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sH(n){if(!ot.isDocumentKey(n))throw new ze(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aH(n){if(ot.isDocumentKey(n))throw new ze(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":xt()}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hI(n);throw new ze(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lH(n,e){if(e<=0)throw new ze(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cH{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=iH(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cH(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new V$;switch(t.type){case"firstParty":return new j$(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ze(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rH.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),rH.delete(e),t.terminate())}(this),Promise.resolve()}}class Di{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class co{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Ql extends co{constructor(e,t,i){super(e,t,Yg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new ot(e))}withConverter(e){return new Ql(this.firestore,e,this._path)}}function dH(n,e,...t){if(n=(0,zn.m9)(n),I1("collection","path",e),n instanceof b0){const i=On.fromString(e,...t);return aH(i),new Ql(n,null,i)}{if(!(n instanceof Di||n instanceof Ql))throw new ze(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return aH(i),new Ql(n.firestore,null,i)}}function fI(n,e,...t){if(n=(0,zn.m9)(n),1===arguments.length&&(e=vV.A()),I1("doc","path",e),n instanceof b0){const i=On.fromString(e,...t);return sH(i),new Di(n,null,new ot(i))}{if(!(n instanceof Di||n instanceof Ql))throw new ze(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return sH(i),new Di(n.firestore,n instanceof Ql?n.converter:null,new ot(i))}}function hH(n,e){return n=(0,zn.m9)(n),e=(0,zn.m9)(e),(n instanceof Di||n instanceof Ql)&&(e instanceof Di||e instanceof Ql)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function S1(n,e){return n=(0,zn.m9)(n),e=(0,zn.m9)(e),n instanceof co&&e instanceof co&&n.firestore===e.firestore&&Zb(n._query,e._query)&&n.converter===e.converter}class UG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new vO(this,"async_queue_retry"),this.Xc=()=>{const t=oI();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=oI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=oI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ar;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Kd(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=VO.createAndSchedule(this,e,t,i,a=>this.na(a));return this.zc.push(r),r}Zc(){this.Wc&&xt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function T1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class HG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ar,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends b0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new UG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fH(this),this._firestoreClient.terminate()}}function cr(n){return n._firestoreClient||fH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fH(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new y4(n._databaseId,f,n._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,iH(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new MG(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function pH(n,e,t){const i=new Ar;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield cI(n,t),yield v1(n,e),i.resolve()}catch(r){const a=r;if(!XU(a))throw a;ba("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function mH(n){if(n._initialized||n._terminated)throw new ze(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Mr.fromBase64String(e))}catch(t){throw new ze(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cp{constructor(e){this._methodName=e}}class pI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}const QG=/^__.*__$/;class JG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jg(e,this.data,t,this.fieldTransforms)}}class gH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _H(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class mI{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return yI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_H(this.ca)&&QG.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class e5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||g0(e)}ya(e,t,i,r=!1){return new mI({ca:e,methodName:t,ga:i,path:Yi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function up(n){const e=n._freezeSettings(),t=g0(n._databaseId);return new e5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gI(n,e,t,i,r,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,r);k1("Data must be an object, but it was:",c,i);const f=bH(i,c);let _,w;if(a.merge)_=new _s(c.fieldMask),w=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const S of a.mergeFields){const P=C0(e,S,t);if(!c.contains(P))throw new ze(me.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);EH(D,P)||D.push(P)}_=new _s(D),w=c.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,w=c.fieldTransforms;return new JG(new lo(f),_,w)}class E0 extends cp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof E0}}function yH(n,e,t){return new mI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class A1 extends cp{_toFieldTransform(e){return new Jb(e.path,new Xg)}isEqual(e){return e instanceof A1}}class t5 extends cp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yH(this,e,!0),i=this.pa.map(a=>dp(a,t)),r=new ep(i);return new Jb(e.path,r)}isEqual(e){return this===e}}class n5 extends cp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yH(this,e,!0),i=this.pa.map(a=>dp(a,t)),r=new tp(i);return new Jb(e.path,r)}isEqual(e){return this===e}}class r5 extends cp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Qg(e.serializer,dB(e.serializer,this.Ia));return new Jb(e.path,t)}isEqual(e){return this===e}}function M1(n,e,t,i){const r=n.ya(1,e,t);k1("Data must be an object, but it was:",r,i);const a=[],c=lo.empty();Zd(i,(_,w)=>{const D=_I(e,_,t);w=(0,zn.m9)(w);const S=r.da(D);if(w instanceof E0)a.push(D);else{const P=dp(w,S);null!=P&&(a.push(D),c.set(D,P))}});const f=new _s(a);return new gH(c,f,r.fieldTransforms)}function R1(n,e,t,i,r,a){const c=n.ya(1,e,t),f=[C0(e,i,t)],_=[r];if(a.length%2!=0)throw new ze(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(C0(e,a[P])),_.push(a[P+1]);const w=[],D=lo.empty();for(let P=f.length-1;P>=0;--P)if(!EH(w,f[P])){const U=f[P];let q=_[P];q=(0,zn.m9)(q);const J=c.da(U);if(q instanceof E0)w.push(U);else{const ge=dp(q,J);null!=ge&&(w.push(U),D.set(U,ge))}}const S=new _s(w);return new gH(D,S,c.fieldTransforms)}function vH(n,e,t,i=!1){return dp(t,n.ya(i?4:3,e))}function dp(n,e){if(wH(n=(0,zn.m9)(n)))return k1("Unsupported field value:",e,n),bH(n,e);if(n instanceof cp)return function(t,i){if(!_H(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let f=dp(c,i.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,zn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dB(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Mi.fromDate(t);return{timestampValue:t_(i.serializer,r)}}if(t instanceof Mi){const r=new Mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:t_(i.serializer,r)}}if(t instanceof pI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jl)return{bytesValue:kB(i.serializer,t._byteString)};if(t instanceof Di){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wk(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${hI(t)}`)}(n,e)}function bH(n,e){const t={};return NV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zd(n,(i,r)=>{const a=dp(r,e.ha(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function wH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mi||n instanceof pI||n instanceof Jl||n instanceof Di||n instanceof cp)}function k1(n,e,t){if(!wH(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=hI(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function C0(n,e,t){if((e=(0,zn.m9)(e))instanceof xu)return e._internalPath;if("string"==typeof e)return _I(n,e);throw yI("Field path arguments must be of type string or ",n,!1,void 0,t)}const o5=new RegExp("[~\\*/\\[\\]]");function _I(n,e,t){if(e.search(o5)>=0)throw yI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xu(...e.split("."))._internalPath}catch{throw yI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yI(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${i}`),c&&(_+=` in document ${r}`),_+=")"),new ze(me.INVALID_ARGUMENT,f+n+_)}function EH(n,e){return n.some(t=>t.isEqual(e))}class D0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new s5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class s5 extends D0{data(){return super.data()}}function vI(n,e){return"string"==typeof e?_I(n,e):e instanceof xu?e._internalPath:e._delegate._internalPath}function CH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ze(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}class x0 extends O1{}function lh(n,e,...t){let i=[];e instanceof O1&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof g_).length,c=r.filter(f=>f instanceof I0).length;if(a>1||a>0&&c>0)throw new ze(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class I0 extends x0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new I0(e,t,i)}_apply(e){const t=this._parse(e);return SH(e._query,t),new co(e.firestore,e.converter,Lk(e._query,t))}_parse(e){const t=up(e.firestore);return function(r,a,c,f,_,w,D){let S;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ze(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){IH(D,w);const P=[];for(const U of D)P.push(xH(f,r,U));S={arrayValue:{values:P}}}else S=xH(f,r,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||IH(D,w),S=vH(c,"where",D,"in"===w||"not-in"===w);return Mn.create(_,w,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class g_ extends O1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new g_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const f of c)SH(a,f),a=Lk(a,f)}(e._query,t),new co(e.firestore,e.converter,Lk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class N1 extends x0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new N1(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new ze(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ze(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Kg(r,a);return function(f,_){if(null===Pk(f)){const w=Lx(f);null!==w&&TH(0,w,_.field)}}(i,c),c}(e._query,this._field,this._direction);return new co(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new bu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class bI extends x0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new bI(e,t,i)}_apply(e){return new co(e.firestore,e.converter,Vx(e._query,this._limit,this._limitType))}}class wI extends x0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new wI(e,t,i)}_apply(e){const t=DH(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(r=t,new bu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class EI extends x0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new EI(e,t,i)}_apply(e){const t=DH(e,this.type,this._docOrFields,this._inclusive);return new co(e.firestore,e.converter,(r=t,new bu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function DH(n,e,t,i){if(t[0]=(0,zn.m9)(t[0]),t[0]instanceof D0)return function(r,a,c,f,_){if(!f)throw new ze(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const w=[];for(const D of Jf(r))if(D.field.isKeyField())w.push(Xf(a,f.key));else{const S=f.data.field(D.field);if(Mx(S))throw new ze(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const P=D.field.canonicalString();throw new ze(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(S)}return new th(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=up(n.firestore);return function(a,c,f,_,w,D){const S=a.explicitOrderBy;if(w.length>S.length)throw new ze(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let U=0;U<w.length;U++){const q=w[U];if(S[U].field.isKeyField()){if("string"!=typeof q)throw new ze(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!Fk(a)&&-1!==q.indexOf("/"))throw new ze(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const J=a.path.child(On.fromString(q));if(!ot.isDocumentKey(J))throw new ze(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ge=new ot(J);P.push(Xf(c,ge))}else{const J=vH(f,_,q);P.push(J)}}return new th(P,D)}(n._query,n.firestore._databaseId,r,e,t,i)}}function xH(n,e,t){if("string"==typeof(t=(0,zn.m9)(t))){if(""===t)throw new ze(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fk(e)&&-1!==t.indexOf("/"))throw new ze(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(On.fromString(t));if(!ot.isDocumentKey(i))throw new ze(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xf(n,new ot(i))}if(t instanceof Di)return Xf(n,t._key);throw new ze(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hI(t)}.`)}function IH(n,e){if(!Array.isArray(n)||0===n.length)throw new ze(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SH(n,e){if(e.isInequality()){const i=Lx(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new ze(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=Pk(n);null!==a&&TH(0,r,a)}const t=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ze(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function TH(n,e,t){if(!t.isEqual(e))throw new ze(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class P1{convertValue(e,t="none"){switch(Jd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zd(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new pI(Xi(e.latitude),Xi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($b(e));default:return null}}convertTimestamp(e){const t=Yd(e);return new Mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=On.fromString(e);Ft(jB(i));const r=new Xd(i.get(1),i.get(3)),a=new ot(i.popFirst(5));return r.isEqual(t)||ar(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function CI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class m5 extends P1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,t)}}class hp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends D0{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class S0 extends Iu{data(e={}){return super.data(e)}}class ch{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new S0(this._firestore,this._userDataWriter,i.key,i,new hp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new S0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const f=new S0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),w=a.indexOf(c.doc.key)),{type:_5(c.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function MH(n,e){return n instanceof Iu&&e instanceof Iu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ch&&e instanceof ch&&n._firestore===e._firestore&&S1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class uh extends P1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,t)}}function RH(n,e,t){n=Rn(n,Di);const i=Rn(n.firestore,xi),r=CI(n.converter,e,t);return __(i,[gI(up(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ri.none())])}function kH(n,e,t,...i){n=Rn(n,Di);const r=Rn(n.firestore,xi),a=up(r);let c;return c="string"==typeof(e=(0,zn.m9)(e))||e instanceof xu?R1(a,"updateDoc",n._key,e,t,i):M1(a,"updateDoc",n._key,e),__(r,[c.toMutation(n._key,Ri.exists(!0))])}function OH(n,...e){var t,i,r;n=(0,zn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||T1(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(T1(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let _,w,D;if(n instanceof Di)w=Rn(n.firestore,xi),D=Yg(n._key.path),_={next:S=>{e[c]&&e[c](F1(w,n,S))},error:e[c+1],complete:e[c+2]};else{const S=Rn(n,co);w=Rn(S.firestore,xi),D=S._query;const P=new uh(w);_={next:U=>{e[c]&&e[c](new ch(w,P,S,U))},error:e[c+1],complete:e[c+2]},CH(n._query)}return function(S,P,U,q){const J=new lI(q),ge=new $O(P,J,U);return S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return BO(yield m_(S),ge)})),()=>{J.Dc(),S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return HO(yield m_(S),ge)}))}}(cr(w),D,f,_)}function __(n,e){return function(t,i){const r=new Ar;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function uG(n,e,t){return ZO.apply(this,arguments)}(yield D1(t),i,r)})),r.promise}(cr(n),e)}function F1(n,e,t){const i=t.docs.get(e._key),r=new uh(n);return new Iu(n,r,e._key,i,new hp(t.hasPendingWrites,t.fromCache),e.converter)}const P5={maxAttempts:5};class NH{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=up(e)}set(e,t,i){this._verifyNotCommitted();const r=dh(e,this._firestore),a=CI(r.converter,t,i),c=gI(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ri.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=dh(e,this._firestore);let c;return c="string"==typeof(t=(0,zn.m9)(t))||t instanceof xu?R1(this._dataReader,"WriteBatch.update",a._key,t,i,r):M1(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dh(e,this._firestore);return this._mutations=this._mutations.concat(new e_(t._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dh(n,e){if((n=(0,zn.m9)(n)).firestore!==e)throw new ze(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class F5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=up(e)}get(e){const t=dh(e,this._firestore),i=new m5(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return xt();const a=r[0];if(a.isFoundDocument())return new D0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new D0(this._firestore,i,t._key,null,t.converter);throw xt()})}set(e,t,i){const r=dh(e,this._firestore),a=CI(r.converter,t,i),c=gI(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=dh(e,this._firestore);let c;return c="string"==typeof(t=(0,zn.m9)(t))||t instanceof xu?R1(this._dataReader,"Transaction.update",a._key,t,i,r):M1(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=dh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dh(e,this._firestore),i=new uh(this._firestore);return super.get(e).then(r=>new Iu(this._firestore,i,t._key,r._document,new hp(!1,!1),t.converter))}}function L1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function FH(){if(typeof Uint8Array>"u")throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function LH(){if(!function g4(){return typeof atob<"u"}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$g=$f.SDK_VERSION,(0,$f._registerComponent)(new XD.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new xi(new U$(t.getProvider("auth-internal")),new z$(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ze(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,$f.registerVersion)(gV,"3.12.2",n),(0,$f.registerVersion)(gV,"3.12.2","esm2017")}();class T0{constructor(e){this._delegate=e}static fromBase64String(e){return LH(),new T0(Jl.fromBase64String(e))}static fromUint8Array(e){return FH(),new T0(Jl.fromUint8Array(e))}toBase64(){return LH(),this._delegate.toBase64()}toUint8Array(){return FH(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function V1(n){return function G5(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class q5{enableIndexedDbPersistence(e,t){return function zG(n,e){mH(n=Rn(n,xi));const t=cr(n);if(t._uninitializedComponentsProvider)throw new ze(me.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new p_;return pH(t,r,new _1(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $G(n){mH(n=Rn(n,xi));const e=cr(n);if(e._uninitializedComponentsProvider)throw new ze(me.FAILED_PRECONDITION,"SDK cache is already specified.");ba("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new p_;return pH(e,i,new ZU(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GG(n){if(n._initialized&&!n._terminated)throw new ze(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ar;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(i){if(!tl.D())return Promise.resolve();const r=i+"main";yield tl.delete(r)}),function(i){return t.apply(this,arguments)})(lO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VH{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function uH(n,e,t,i={}){var r;const a=(n=Rn(n,b0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let f,_;if("string"==typeof i.mockUserToken)f=i.mockUserToken,_=Gr.MOCK_USER;else{f=(0,zn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ze(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Gr(w)}n._authCredentials=new B$(new _V(f,_))}}(this._delegate,e,t,i)}enableNetwork(){return function WG(n){return function RG(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield QU(n),t=yield JU(n);return e.setNetworkEnabled(!0),function(i){const r=ct(i);return r.vu.delete(0),_0(r)}(t)}))}(cr(n=Rn(n,xi)))}(this._delegate)}disableNetwork(){return function KG(n){return function kG(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield QU(n),t=yield JU(n);return e.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(r){const a=ct(r);a.vu.add(0),yield a_(a),a.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(cr(n=Rn(n,xi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,oH("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qG(n){return function(e){const t=new Ar;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function pG(n,e){return e1.apply(this,arguments)}(yield D1(e),t)})),t.promise}(cr(n=Rn(n,xi)))}(this._delegate)}onSnapshotsInSync(e){return function I5(n,e){return function PG(n,e){const t=new lI(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield m_(n),r=t,ct(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield m_(n),r=t,void ct(i).ku.delete(r);var i,r}))}}(cr(n=Rn(n,xi)),T1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new y_(this,dH(this._delegate,e))}catch(t){throw Qo(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,fI(this._delegate,e))}catch(t){throw Qo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jo(this,function BG(n,e){if(n=Rn(n,b0),I1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ze(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(n,null,(t=e,new bu(On.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Qo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function L5(n,e,t){n=Rn(n,xi);const i=Object.assign(Object.assign({},P5),t);return function(r){if(r.maxAttempts<1)throw new ze(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const f=new Ar;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const _=yield function eH(n){return uI(n).then(e=>e.datastore)}(r);new AG(r.asyncQueue,_,c,a,f).run()})),f.promise}(cr(n),r=>e(new F5(n,r)),i)}(this._delegate,t=>e(new BH(this,t)))}batch(){return cr(this._delegate),new UH(new NH(this._delegate,e=>__(this._delegate,e)))}loadBundle(e){return function ZG(n,e){const t=cr(n=Rn(n,xi)),i=new HG;return function FG(n,e,t,i){const r=function(a,c){let f;return f="string"==typeof a?DB().encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return YU(_,w);if(_ instanceof ArrayBuffer)return YU(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new SG(_,c);var _}(t,g0(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function xG(n,e,t){const i=ct(n);var r;(r=(0,Ie.Z)(function*(a,c,f){try{const _=yield c.getMetadata();if(yield function(P,U){const q=ct(P),J=lr(U.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",ge=>q.qs.getBundleMetadata(ge,U.id)).then(ge=>!!ge&&ge.createTime.compareTo(J)>=0)}(a.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(UU(_));const w=new rG(_,a.localStore,c.serializer);let D=yield c.bc();for(;D;){const P=yield w.zu(D);P&&f._updateProgress(P),D=yield c.bc()}const S=yield w.complete();return yield Du(a,S.Ju,void 0),yield function(P,U){const q=ct(P);return q.persistence.runTransaction("Save bundle","readwrite",J=>q.qs.saveBundleMetadata(J,U))}(a.localStore,_),f._completeWith(S.progress),Promise.resolve(S.Hu)}catch(_){return ba("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,c,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield D1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function YG(n,e){return function LG(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,i){const r=ct(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.qs.getNamedQuery(a,i))}(yield dI(n),e)}))}(cr(n=Rn(n,xi)),e).then(t=>t?new co(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Jo(this,t):null)}}class DI extends P1{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new Jl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class BH{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DI(e)}get(e){const t=pp(e);return this._delegate.get(t).then(i=>new A0(this._firestore,new Iu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=pp(e);return i?(L1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=pp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=pp(e);return this._delegate.delete(t),this}}class UH{constructor(e){this._delegate=e}set(e,t,i){const r=pp(e);return i?(L1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=pp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=pp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new S0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=fp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new fp(e,new DI(e),t),r.set(t,a)),a}}fp.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new Di(t._delegate,i,new ot(e)))}static forKey(e,t,i){return new wa(t,new Di(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new y_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new y_(this.firestore,dH(this._delegate,e))}catch(t){throw Qo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zn.m9)(e))instanceof Di&&hH(this._delegate,e)}set(e,t){t=L1("DocumentReference.set",t);try{return t?RH(this._delegate,e,t):RH(this._delegate,e)}catch(i){throw Qo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?kH(this._delegate,e):kH(this._delegate,e,t,...i)}catch(r){throw Qo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function D5(n){return __(Rn(n.firestore,xi),[new e_(n._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const t=HH(e),i=jH(e,r=>new A0(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return OH(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function v5(n){n=Rn(n,Di);const e=Rn(n.firestore,xi),t=cr(e),i=new uh(e);return function OG(n,e){const t=new Ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,a,c){try{const f=yield function(_,w){const D=ct(_);return D.persistence.runTransaction("read document","readonly",S=>D.localDocuments.getDocument(S,w))}(r,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new ze(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=u_(f,`Failed to get document '${a} from cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield dI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Iu(e,i,n._key,r,new hp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function b5(n){n=Rn(n,Di);const e=Rn(n.firestore,xi);return tH(cr(e),n._key,{source:"server"}).then(t=>F1(e,n,t))}(this._delegate):function y5(n){n=Rn(n,Di);const e=Rn(n.firestore,xi);return tH(cr(e),n._key).then(t=>F1(e,n,t))}(this._delegate),t.then(i=>new A0(this.firestore,new Iu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?fp.getInstance(this.firestore,e):null))}}function Qo(n,e,t){return n.message=n.message.replace(e,t),n}function HH(n){for(const e of n)if("object"==typeof e&&!V1(e))return e;return{}}function jH(n,e){var t,i;let r;return r=V1(n[0])?n[0]:V1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class A0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MH(this._delegate,e._delegate)}}class M0 extends A0{data(e){const t=this._delegate.data(e);return function L$(n,e){n||xt()}(void 0!==t),t}}class Jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DI(e)}where(e,t,i){try{return new Jo(this.firestore,lh(this._delegate,function a5(n,e,t){const i=e,r=vI("where",n);return I0._create(r,i,t)}(e,t,i)))}catch(r){throw Qo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jo(this.firestore,lh(this._delegate,function l5(n,e="asc"){const t=e,i=vI("orderBy",n);return N1._create(i,t)}(e,t)))}catch(i){throw Qo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jo(this.firestore,lh(this._delegate,function c5(n){return lH("limit",n),bI._create("limit",n,"F")}(e)))}catch(t){throw Qo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jo(this.firestore,lh(this._delegate,function u5(n){return lH("limitToLast",n),bI._create("limitToLast",n,"L")}(e)))}catch(t){throw Qo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jo(this.firestore,lh(this._delegate,function d5(...n){return wI._create("startAt",n,!0)}(...e)))}catch(t){throw Qo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jo(this.firestore,lh(this._delegate,function h5(...n){return wI._create("startAfter",n,!1)}(...e)))}catch(t){throw Qo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jo(this.firestore,lh(this._delegate,function f5(...n){return EI._create("endBefore",n,!1)}(...e)))}catch(t){throw Qo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jo(this.firestore,lh(this._delegate,function p5(...n){return EI._create("endAt",n,!0)}(...e)))}catch(t){throw Qo(t,"endAt()","Query.endAt()")}}isEqual(e){return S1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function E5(n){n=Rn(n,co);const e=Rn(n.firestore,xi),t=cr(e),i=new uh(e);return function NG(n,e){const t=new Ar;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,a,c){try{const f=yield tI(r,a,!0),_=new zU(a,f.ir),w=_.sc(f.documents),D=_.applyChanges(w,!1);c.resolve(D.snapshot)}catch(f){const _=u_(f,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(r,a,c){return i.apply(this,arguments)})(yield dI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ch(e,i,n,r))}(this._delegate):"server"===e?.source?function C5(n){n=Rn(n,co);const e=Rn(n.firestore,xi),t=cr(e),i=new uh(e);return nH(t,n._query,{source:"server"}).then(r=>new ch(e,i,n,r))}(this._delegate):function w5(n){n=Rn(n,co);const e=Rn(n.firestore,xi),t=cr(e),i=new uh(e);return CH(n._query),nH(t,n._query).then(r=>new ch(e,i,n,r))}(this._delegate),t.then(i=>new B1(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=HH(e),i=jH(e,r=>new B1(this.firestore,new ch(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return OH(this._delegate,t,i)}withConverter(e){return new Jo(this.firestore,this._delegate.withConverter(e?fp.getInstance(this.firestore,e):null))}}class K5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class B1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new K5(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new M0(this._firestore,i))})}isEqual(e){return MH(this._delegate,e._delegate)}}class y_ extends Jo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?fI(this._delegate):fI(this._delegate,e))}catch(t){throw Qo(t,"doc()","CollectionReference.doc()")}}add(e){return function x5(n,e){const t=Rn(n.firestore,xi),i=fI(n),r=CI(n.converter,e);return __(t,[gI(up(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return hH(this._delegate,e._delegate)}withConverter(e){return new y_(this.firestore,this._delegate.withConverter(e?fp.getInstance(this.firestore,e):null))}}function pp(n){return Rn(n,Di)}class U1{constructor(...e){this._delegate=new xu(...e)}static documentId(){return new U1(Yi.keyField().canonicalString())}isEqual(e){return(e=(0,zn.m9)(e))instanceof xu&&this._delegate._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function B5(){return new A1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mp(e)}static delete(){const e=function V5(){return new E0("deleteField")}();return e._methodName="FieldValue.delete",new mp(e)}static arrayUnion(...e){const t=function U5(...n){return new t5("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mp(t)}static arrayRemove(...e){const t=function H5(...n){return new n5("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mp(t)}static increment(e){const t=function j5(n){return new r5("increment",n)}(e);return t._methodName="FieldValue.increment",new mp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Z5={Firestore:VH,GeoPoint:pI,Timestamp:Mi,Blob:T0,Transaction:BH,WriteBatch:UH,DocumentReference:wa,DocumentSnapshot:A0,Query:Jo,QueryDocumentSnapshot:M0,QuerySnapshot:B1,CollectionReference:y_,FieldPath:U1,FieldValue:mp,setLogLevel:function W5(n){!function F$(n){qd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function X5(n){(function Y5(n,e){n.INTERNAL.registerComponent(new XD.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Z5)))})(n,(e,t)=>new VH(e,t,new q5)),n.registerVersion("@firebase/firestore-compat","0.3.11")}(T3.Z);var xI=N(3093),Q5=N(4552);class J5 extends Tn.x{constructor(e=1/0,t=1/0,i=Q5.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=c;_+=2)f=_;f&&i.splice(0,f+1)}}}var zH=N(3020);function $H(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,zH.B)({connector:()=>new J5(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function GH(n,e){return(0,_o.m)(e)?(0,qi.w)(()=>n,e):(0,qi.w)(()=>n)}var H1=N(5137);const z1=new Map,qH={activated:!1,tokenObservers:[]},rq={initialized:!1,enabled:!1};function Qi(n){return z1.get(n)||Object.assign({},qH)}function SI(){return rq}const $1="https://content-firebaseappcheck.googleapis.com/v1",lq="exchangeDebugToken",WH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class uq{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new zn.BH,yield function dq(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new zn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const uo=new zn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function G1(n){if(!Qi(n).activated)throw uo.create("use-before-activation",{appName:n.name})}function MI(n,e){return W1.apply(this,arguments)}function W1(){return W1=(0,Ie.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c,f;try{c=yield fetch(n,a)}catch(S){throw uo.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw uo.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(S){throw uo.create("fetch-parse-error",{originalErrorMessage:S?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:f.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}}),W1.apply(this,arguments)}function KH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${$1}/projects/${t}/apps/${i}:${lq}?key=${r}`,body:{debug_token:e}}}const mq="firebase-app-check-database",gq=1,R0="firebase-app-check-store";let RI=null;function K1(){return K1=(0,Ie.Z)(function*(n,e){const i=(yield function YH(){return RI||(RI=new Promise((n,e)=>{try{const t=indexedDB.open(mq,gq);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(uo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(R0,{keyPath:"compositeKey"})}}catch(t){e(uo.create("storage-open",{originalErrorMessage:t?.message}))}}),RI)}()).transaction(R0,"readwrite"),a=i.objectStore(R0).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=_=>{c()},i.onerror=_=>{var w;f(uo.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),K1.apply(this,arguments)}const k0=new zd.Yd("@firebase/app-check");function X1(n,e){return(0,zn.hl)()?function yq(n,e){return function XH(n,e){return K1.apply(this,arguments)}(function JH(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{k0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function J1(){return SI().enabled}function eN(){return tN.apply(this,arguments)}function tN(){return tN=(0,Ie.Z)(function*(){const n=SI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tN.apply(this,arguments)}const Dq={error:"UNKNOWN_ERROR"};function xq(n){return zn.US.encodeString(JSON.stringify(n),!1)}function kI(n){return nN.apply(this,arguments)}function nN(){return nN=(0,Ie.Z)(function*(n,e=!1){const t=n.app;G1(t);const i=Qi(t);let a,r=i.token;if(r&&!v_(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(v_(_)?r=_:yield X1(t,void 0))}if(!e&&r&&v_(r))return{token:r.token};let f,c=!1;if(J1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=MI(KH(t,yield eN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const _=yield i.exchangeTokenPromise;return yield X1(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Qi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?k0.warn(_.message):k0.error(_),a=_}return r?a?f=v_(r)?{token:r.token,internalError:a}:ij(a):(f={token:r.token},i.token=r,yield X1(t,r)):f=ij(a),c&&function nj(n,e){const t=Qi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),nN.apply(this,arguments)}function iN(){return iN=(0,Ie.Z)(function*(n){const e=n.app;G1(e);const{provider:t}=Qi(e);if(J1()){const i=yield eN(),{token:r}=yield MI(KH(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),iN.apply(this,arguments)}function oN(n,e){const t=Qi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function tj(n){const{app:e}=n,t=Qi(e);let i=t.tokenRefresher;i||(i=function Iq(n){const{app:e}=n;return new uq((0,Ie.Z)(function*(){let i;if(i=Qi(e).token?yield kI(n,!0):yield kI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Qi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},WH.RETRIAL_MIN_WAIT,WH.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function v_(n){return n.expireTimeMillis-Date.now()>0}function ij(n){return{token:xq(Dq),error:n}}class Sq{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qi(this.app);for(const t of e)oN(this.app,t.next);return Promise.resolve()}}const dj="app-check-internal";!function Hq(){(0,$f._registerComponent)(new XD.wA("app-check",n=>function Tq(n,e){return new Sq(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dj).initialize()})),(0,$f._registerComponent)(new XD.wA(dj,n=>function Aq(n){return{getToken:e=>kI(n,e),getLimitedUseToken:()=>function ej(n){return iN.apply(this,arguments)}(n),addTokenListener:e=>function rN(n,e,t,i){const{app:r}=n,a=Qi(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&v_(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),tj(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tj(n))}(n,"INTERNAL",e),removeTokenListener:e=>oN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$f.registerVersion)("@firebase/app-check","0.8.0")}();class cN{constructor(){return(0,ro.vb)("app-check")}}typeof window<"u"&&window;var qq=N(7142);const fj=new u.OlP("angularfire2.auth.use-emulator"),pj=new u.OlP("angularfire2.auth.settings"),mj=new u.OlP("angularfire2.auth.tenant-id"),gj=new u.OlP("angularfire2.auth.langugage-code"),_j=new u.OlP("angularfire2.auth.use-device-language"),yj=new u.OlP("angularfire.auth.persistence"),vj=(n,e,t,i,r,a,c,f)=>(0,Qa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),c)for(const[w,D]of Object.entries(c))_.settings[w]=D;return f&&_.setPersistence(f),_},[t,i,r,a,c,f]);let bj=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,P,U){const q=new Tn.x,J=(0,It.of)(void 0).pipe((0,xI.Q)(c.outsideAngular),(0,qi.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5967)))),(0,Lt.U)(()=>(0,Qa.on)(t,a,i)),(0,Lt.U)(ge=>vj(ge,a,f,w,D,S,_,P)),$H({bufferSize:1,refCount:!1}));if(Zt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{J.pipe(Jr()).subscribe();const Xe=J.pipe((0,qi.w)(Ct=>Ct.getRedirectResult().then(qt=>qt,()=>null)),ro.iC,$H({bufferSize:1,refCount:!1})),pt=J.pipe((0,qi.w)(Ct=>new Gi.y(qt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(on=>qt.next(on),on=>qt.error(on),()=>qt.complete()))})))),gt=J.pipe((0,qi.w)(Ct=>new Gi.y(qt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(on=>qt.next(on),on=>qt.error(on),()=>qt.complete()))}))));this.authState=Xe.pipe(GH(pt),(0,H1.R)(c.outsideAngular),(0,xI.Q)(c.insideAngular)),this.user=Xe.pipe(GH(gt),(0,H1.R)(c.outsideAngular),(0,xI.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,qi.w)(Ct=>Ct?(0,qn.D)(Ct.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe((0,qi.w)(Ct=>Ct?(0,qn.D)(Ct.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,Gm.T)(Xe,q,this.authState.pipe(Si(Ct=>!Ct))).pipe((0,Lt.U)(Ct=>Ct?.user?Ct:null),(0,H1.R)(c.outsideAngular),(0,xI.Q)(c.insideAngular))}return(0,Qa.pX)(this,J,a,{spy:{apply:(ge,Xe,pt)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&pt.then(gt=>q.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qa.Dh),u.LFG(Qa.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ro.HU),u.LFG(fj,8),u.LFG(pj,8),u.LFG(mj,8),u.LFG(gj,8),u.LFG(_j,8),u.LFG(yj,8),u.LFG(cN,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wj(n,e){return function Kq(n,e=Uy.z){return new Gi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function dN(n,e){return wj(n,e).pipe((0,Lt.U)(t=>({payload:t,type:"query"})))}function NI(n,e){return dN(n,e).pipe(Pa(void 0),OR(),(0,Lt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,f)=>{const _=r.find(D=>D.doc.ref.isEqual(c.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function Ej(n,e,t){return NI(n,t).pipe(zo((i,r)=>function Yq(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Xq(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),(0,GE.x)(),(0,Lt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function hN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Cj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Dj{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=NI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Lt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Pa(void 0),OR(),Si(([i,r])=>r.length>0||!i),(0,Lt.U)(([i,r])=>r),ro.iC)}auditTrail(e){return this.stateChanges(e).pipe(zo((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Cj(e);return Ej(this.query,t,this.afs.schedulers.outsideAngular).pipe(ro.iC)}valueChanges(e={}){return dN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),ro.iC)}get(e){return(0,qn.D)(this.query.get(e)).pipe(ro.iC)}add(e){return this.ref.add(e)}doc(e){return new xj(this.ref.doc(e),this.afs)}}class xj{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=Tj(i,t);return new Dj(r,a,this.afs)}snapshotChanges(){return function Zq(n,e){return wj(n,e).pipe(Pa(void 0),OR(),(0,Lt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ro.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Lt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qn.D)(this.ref.get(e)).pipe(ro.iC)}}class Qq{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?NI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Si(t=>t.length>0),ro.iC):NI(this.query,this.afs.schedulers.outsideAngular).pipe(ro.iC)}auditTrail(e){return this.stateChanges(e).pipe(zo((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Cj(e);return Ej(this.query,t,this.afs.schedulers.outsideAngular).pipe(ro.iC)}valueChanges(e={}){return dN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Lt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),ro.iC)}get(e){return(0,qn.D)(this.query.get(e)).pipe(ro.iC)}}const Ij=new u.OlP("angularfire2.enableFirestorePersistence"),Sj=new u.OlP("angularfire2.firestore.persistenceSettings"),Jq=new u.OlP("angularfire2.firestore.settings"),e9=new u.OlP("angularfire2.firestore.use-emulator");function Tj(n,e=(t=>t)){return{query:e(n),ref:n}}let Aj=(()=>{class n{constructor(t,i,r,a,c,f,_,w,D,S,P,U,q,J,ge,Xe,pt){this.schedulers=_;const gt=(0,Qa.on)(t,f,i),Ct=D;S&&vj(gt,f,P,q,J,ge,U,Xe),[this.firestore,this.persistenceEnabled$]=(0,Qa.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const qt=f.runOutsideAngular(()=>gt.firestore());if(a&&qt.settings(a),Ct&&qt.useEmulator(...Ct),r&&!Zt(c)){const on=()=>{try{return(0,qn.D)(qt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch($n){return typeof console<"u"&&console.warn($n),(0,It.of)(!1)}};return[qt,f.runOutsideAngular(on)]}return[qt,(0,It.of)(!1)]},[a,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=Tj(r,i),f=this.schedulers.ngZone.run(()=>a);return new Dj(f,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new Qq(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new xj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qa.Dh),u.LFG(Qa.xv,8),u.LFG(Ij,8),u.LFG(Jq,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ro.HU),u.LFG(Sj,8),u.LFG(e9,8),u.LFG(bj,8),u.LFG(fj,8),u.LFG(pj,8),u.LFG(mj,8),u.LFG(gj,8),u.LFG(_j,8),u.LFG(yj,8),u.LFG(cN,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),t9=(()=>{class n{constructor(){qq.Z.registerVersion("angularfire",ro.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ij,useValue:!0},{provide:Sj,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Aj]}),n})(),Mj=(()=>{class n{constructor(t){this.firestore=t,this.participants=[],this.participantsCollection=this.firestore.collection("participants").ref}addParticipant(t){return this.participantsCollection.add(t)}removeParticipant(t){const i=this.getParticipantByName(t);if(i){const r=i.key;this.firestore.collection("participants").doc(r).delete()}}getParticipantByName(t){return this.participants.find(i=>i.name===t)}getParticipants(){return new Gi.y(t=>{this.participantsCollection.get().then(i=>{const r=i.docs.map(a=>{const c=a.data();return{key:a.id,...c}});t.next(r),t.complete()}).catch(i=>{t.error(i)})})}getSelectedParticipant(){return this.participants.find(t=>null===t.selectedCard)}getParticipantsWithCard(t){return this.participants.filter(i=>i.selectedCard===t)}getSelectedCards(){return this.participants.filter(t=>null!==t.selectedCard).map(t=>t.selectedCard)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Aj))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n9=["*"],o9=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],s9=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],a9=new u.OlP("MAT_CARD_CONFIG");let Rj=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(a9,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:n9,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),Nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:s9,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(u.F$t(o9),u.Hsn(0),u.TgZ(1,"div",0),u.Hsn(2,1),u.qZA(),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,Fo,sr]}),n})();function d9(n,e){if(1&n&&(u.TgZ(0,"div")(1,"span",10),u._uU(2),u.qZA()()),2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.name)}}function h9(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.selectCard(a))}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t," ")}}function f9(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t.name)}}function p9(n,e){if(1&n&&(u.TgZ(0,"span",14),u._uU(1),u.YNc(2,f9,2,1,"span",2),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw();u.xp6(1),u.hij(" ",t," "),u.xp6(1),u.Q6J("ngForOf",i.getParticipantsWithCard(t))}}function m9(n,e){if(1&n&&(u.TgZ(0,"div",12),u.YNc(1,p9,3,2,"span",13),u.qZA()),2&n){const t=e.$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",i.getParticipantsWithCard(t).length>0)}}let fN=(()=>{class n{constructor(t,i,r){this.participantService=t,this.dialog=i,this.route=r,this.participants=[],this.cards=[0,1,2,3,5,8,13],this.selectedCard=null,this.media=null,this.roomCode="",this.showCreateRoomButton=!0,this.socket=ff("https://poker-time.netlify.app"),this.socket.on("vote",a=>{const c=this.participants.find(f=>f.name===a.participant);c&&(c.selectedCard=a.vote)}),this.socket.on("participantJoined",a=>{this.participants.push(a)}),this.socket.on("participantLeft",a=>{this.participants=this.participants.filter(c=>c.name!==a)}),this.roomCode=this.route.snapshot.paramMap.get("roomCode")||""}generateParticipantId(){return Cn()}addName(){this.dialog.open(I,{width:"300px"}).afterClosed().subscribe(i=>{i&&(i.id=this.generateParticipantId(),this.participantService.addParticipant(i),this.socket.emit("joinRoom",i),this.socket.emit("participantJoined",i),console.log("participantJoined emitido"))}),console.log("addName() chamado")}selectCard(t){this.selectedCard=t;const i=this.participants.find(r=>null===r.selectedCard);i&&(i.selectedCard=t,this.socket.emit("vote",{participant:i.name,vote:t}))}getParticipantsWithCard(t){return this.participants.filter(i=>i.selectedCard===t)}openMediaModal(t){this.dialog.open(VM,{data:t})}calcularMedia(){const t=this.participants.map(i=>i.selectedCard).filter(i=>null!==i);if(t.length>0){const i=t.reduce((r,a)=>r+a);this.media=i/t.length}else this.media=null;null!==this.media&&this.openMediaModal(this.media)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Mj),u.Y36(mg),u.Y36(ra))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-room"]],decls:20,vars:3,consts:[["mat-raised-button","","color","primary",3,"click"],[1,"participant"],[4,"ngFor","ngForOf"],[1,"cards-title"],[1,"cards-container"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"participants-with-card"],[1,"title-parti-bar"],["class","selected-cards",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"button-media-value",3,"click"],["mat-card-subtitle",""],[1,"card",3,"click"],[1,"selected-cards"],["class","title-parti-card","mat-card-subtitle","",4,"ngIf"],["mat-card-subtitle","",1,"title-parti-card"]],template:function(t,i){1&t&&(u.TgZ(0,"div")(1,"h2"),u._uU(2,"Sala Criada!"),u.qZA(),u.TgZ(3,"button",0),u.NdJ("click",function(){return i.addName()}),u._uU(4,"Adicionar Nome"),u.qZA(),u.TgZ(5,"mat-card",1),u.YNc(6,d9,3,1,"div",2),u.qZA(),u.TgZ(7,"div",3)(8,"p"),u._uU(9,"Escolha uma Card"),u.qZA()(),u.TgZ(10,"div",4),u.YNc(11,h9,2,1,"div",5),u.qZA(),u.TgZ(12,"mat-card",6)(13,"mat-card-header")(14,"mat-card-title",7),u._uU(15,"Cards selecionados:"),u.qZA()()(),u.TgZ(16,"mat-card"),u.YNc(17,m9,2,1,"div",8),u.qZA(),u.TgZ(18,"button",9),u.NdJ("click",function(){return i.calcularMedia()}),u._uU(19,"Calcular M\xe9dia"),u.qZA()()),2&t&&(u.xp6(6),u.Q6J("ngForOf",i.participants),u.xp6(5),u.Q6J("ngForOf",i.cards),u.xp6(6),u.Q6J("ngForOf",i.cards))},dependencies:[Ia,Mo,gg,Rj,Nj,Oj,kj],styles:[".cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.cards-title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:20px;font-family:Roboto,sans-serif;font-weight:500}.card[_ngcontent-%COMP%]{border:1px solid black;padding:20px;margin:30px 10px;background-color:#3f51b5;color:#fff}.selected-card[_ngcontent-%COMP%]{border:1px solid black;padding:10px;text-align:center}.media-value[_ngcontent-%COMP%]{font-weight:700;margin-top:10px}.button-media-value[_ngcontent-%COMP%]{margin:20px}.participant[_ngcontent-%COMP%]{--mdc-elevated-card-container-elevation:none;padding-bottom:30px}.participants-with-card[_ngcontent-%COMP%]{background-color:#6873b3}.title-parti-bar[_ngcontent-%COMP%]{color:#fff}.title-parti-card[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-content:space-evenly;color:#6873b3}"]}),n})();const g9=[{path:"room/",component:fN},{path:"room/:roomCode",component:fN},{path:"room/:participants",component:fN}];let _9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[bm.forRoot(g9),bm]}),n})(),Fj=(()=>{class n{constructor(){this.showCreateRoomButton=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y9=["*",[["mat-toolbar-row"]]],v9=["*","mat-toolbar-row"],b9=gC(class{constructor(n){this._elementRef=n}});let w9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),E9=(()=>{class n extends b9{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(gr),u.Y36(re))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,w9,5),2&t){let a;u.iGM(a=u.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:v9,decls:2,vars:0,template:function(t,i){1&t&&(u.F$t(y9),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,sr]}),n})();function C9(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.createRoom())}),u._uU(1,"Criar Sala"),u.qZA()}}let D9=(()=>{class n{constructor(t,i,r){this.router=t,this.participantService=i,this.buttonVisibilityService=r,this.title="planning-poker-app",this.roomCode=""}ngOnInit(){this.buttonVisibilityService.showCreateRoomButton=!0}createRoom(){this.participantService.getParticipants();const r=`/room/${Cn()}`;console.log("Link da sala:",r),this.router.navigateByUrl(r),this.buttonVisibilityService.showCreateRoomButton=!1}navigateToHome(){this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wo),u.Y36(Mj),u.Y36(Fj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:14,vars:1,consts:[["color","primary"],["routerLink","/"],[1,"flex-container"],[3,"click"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"p")(1,"mat-toolbar",0)(2,"h1",1),u._uU(3,"Poker Time!"),u.qZA(),u._UZ(4,"span",2),u.TgZ(5,"nav")(6,"a",3),u.NdJ("click",function(){return i.navigateToHome()}),u._uU(7,"In\xedcio"),u.qZA()()()(),u._UZ(8,"aside"),u.TgZ(9,"main"),u._UZ(10,"router-outlet"),u.YNc(11,C9,2,0,"button",4),u.qZA(),u.TgZ(12,"footer"),u._UZ(13,"mat-toolbar",0),u.qZA()),2&t&&(u.xp6(11),u.Q6J("ngIf",i.buttonVisibilityService.showCreateRoomButton))},dependencies:[Mo,$c,ym,gg,E9],styles:["header[_ngcontent-%COMP%], nav[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], main[_ngcontent-%COMP%]{margin:.5em;padding:.5em}.flex-container[_ngcontent-%COMP%]{flex:1;justify-content:flex-end;display:flex}.menu[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0;color:#fff}aside[_ngcontent-%COMP%]{float:right}footer[_ngcontent-%COMP%]{clear:both}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#f5f5f5;text-align:center}.raised-button[_ngcontent-%COMP%]{margin:50px}"]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jm]}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,V9,sr]}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sr,sr]}),n})();function mz(n){return new u.vHH(3e3,!1)}function fh(n){switch(n.length){case 0:return new dg;case 1:return n[0];default:return new hg(n)}}function gz(n,e,t=new Map,i=new Map){const r=[],a=[];let c=-1,f=null;if(e.forEach(_=>{const w=_.get("offset"),D=w==c,S=D&&f||new Map;_.forEach((P,U)=>{let q=U,J=P;if("offset"!==U)switch(q=n.normalizePropertyName(q,r),J){case"!":J=t.get(U);break;case Ka:J=i.get(U);break;default:J=n.normalizeStyleValue(U,q,J,r)}S.set(q,J)}),D||a.push(S),f=S,c=w}),r.length)throw function K8(n){return new u.vHH(3502,!1)}();return a}function RN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&kN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&kN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&kN(t,"destroy",n)))}}function kN(n,e,t){const a=ON(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function ON(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function zs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function _z(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const sW=(()=>typeof document>"u"?null:document.documentElement)();function NN(n){const e=n.parentNode||n.host||null;return e===sW?null:e}let vp=null,yz=!1;function vz(n,e){for(;e;){if(e===n)return!0;e=NN(e)}return!1}function bz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let wz=(()=>{class n{validateStyleProperty(t){return function lW(n){vp||(vp=function cW(){return typeof document<"u"?document.body:null}()||{},yz=!!vp.style&&"WebkitAppearance"in vp.style);let e=!0;return vp.style&&!function aW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vp.style,!e&&yz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return vz(t,i)}getParentElement(t){return NN(t)}query(t,i,r){return bz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,f=[],_){return new dg(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),PN=(()=>{class n{}return n.NOOP=new wz,n})();const uW=1e3,FN="ng-enter",ZI="ng-leave",YI="ng-trigger",XI=".ng-trigger",Cz="ng-animating",LN=".ng-animating";function Mu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VN(parseFloat(e[1]),e[2])}function VN(n,e){return"s"===e?n*uW:n}function QI(n,e,t){return n.hasOwnProperty("duration")?n:function hW(n,e,t){let r,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(mz()),{duration:0,delay:0,easing:""};r=VN(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=VN(parseFloat(_),f[4]));const w=f[5];w&&(c=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function I8(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function S8(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,mz())}return{duration:r,delay:a,easing:c}}(n,e,t)}function B0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Dz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ph(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function ec(n,e,t){e.forEach((i,r)=>{const a=UN(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i})}function bp(n,e){e.forEach((t,i)=>{const r=UN(i);n.style[r]=""})}function U0(n){return Array.isArray(n)?1==n.length?n[0]:ug(n):n}const BN=new RegExp("{{\\s*(.+?)\\s*}}","g");function Iz(n){let e=[];if("string"==typeof n){let t;for(;t=BN.exec(n);)e.push(t[1]);BN.lastIndex=0}return e}function H0(n,e,t){const i=n.toString(),r=i.replace(BN,(a,c)=>{let f=e[c];return null==f&&(t.push(function A8(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function JI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mW=/-+([a-z0-9])/g;function UN(n){return n.replace(mW,(...e)=>e[1].toUpperCase())}function $s(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function M8(n){return new u.vHH(3004,!1)}()}}function Sz(n,e){return window.getComputedStyle(n)[e]}const eS="*";function yW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function vW(n,e,t){if(":"==n[0]){const _=function bW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function $8(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function z8(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(Tz(r,c));"<"==a[0]&&!(r==eS&&c==eS)&&e.push(Tz(c,r))}(i,t,e)):t.push(n),t}const tS=new Set(["true","1"]),nS=new Set(["false","0"]);function Tz(n,e){const t=tS.has(n)||nS.has(n),i=tS.has(e)||nS.has(e);return(r,a)=>{let c=n==eS||n==r,f=e==eS||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?tS.has(n):nS.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?tS.has(e):nS.has(e)),c&&f}}const wW=new RegExp("s*:selfs*,?","g");function HN(n,e,t,i){return new EW(n).build(e,t,i)}class EW{constructor(e){this._driver=e}build(e,t,i){const r=new xW(t);return this._resetContextStyleTimingState(r),$s(this,U0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function k8(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,c.push(_)}else t.errors.push(function O8(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{Iz(_).forEach(w=>{c.hasOwnProperty(w)||a.add(w)})})}),a.size&&(JI(a.values()),t.errors.push(function N8(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=$s(this,U0(e.animation),t);return{type:1,matchers:yW(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>$s(this,i,t)),options:wp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const f=$s(this,c,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:wp(e.options)}}visitAnimate(e,t){const i=function SW(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jN(QI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=jN(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=QI(t,e);return jN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Za({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const w={};i.easing&&(w.easing=i.easing),c=Za(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Ka?i.push(f):t.errors.push(new u.vHH(3002,!1)):i.push(Dz(f));let a=!1,c=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(_);let S=!0;D&&(a!=r&&a>=D.startTime&&r<=D.endTime&&(t.errors.push(function F8(n,e,t,i,r){return new u.vHH(3010,!1)}()),S=!1),a=D.startTime),S&&w.set(_,{startTime:a,endTime:r}),t.options&&function pW(n,e,t){const i=e.params||{},r=Iz(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function T8(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function L8(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let f=!1,_=!1,w=0;const D=e.steps.map(Xe=>{const pt=this._makeStyleAst(Xe,t);let gt=null!=pt.offset?pt.offset:function IW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),Ct=0;return null!=gt&&(a++,Ct=pt.offset=gt),_=_||Ct<0||Ct>1,f=f||Ct<w,w=Ct,c.push(Ct),pt});_&&t.errors.push(function V8(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function B8(){return new u.vHH(3200,!1)}());const S=e.steps.length;let P=0;a>0&&a<S?t.errors.push(function U8(){return new u.vHH(3202,!1)}()):0==a&&(P=1/(S-1));const U=S-1,q=t.currentTime,J=t.currentAnimateTimings,ge=J.duration;return D.forEach((Xe,pt)=>{const gt=P>0?pt==U?1:P*pt:c[pt],Ct=gt*ge;t.currentTime=q+J.delay+Ct,J.duration=Ct,this._validateStyleAst(Xe,t),Xe.offset=gt,i.styles.push(Xe)}),i}visitReference(e,t){return{type:8,animation:$s(this,U0(e.animation),t),options:wp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function CW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wW,"")),n=n.replace(/@\*/g,XI).replace(/@\w+/g,t=>XI+"-"+t.slice(1)).replace(/:animating/g,LN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,zs(t.collectedStyles,t.currentQuerySelector,new Map);const f=$s(this,U0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:wp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function H8(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:QI(e.timings,t.errors,!0);return{type:12,animation:$s(this,U0(e.animation),t),timings:i,options:null}}}class xW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wp(n){return n?(n=B0(n)).params&&(n.params=function DW(n){return n?B0(n):null}(n.params)):n={},n}function jN(n,e,t){return{duration:n,delay:e,easing:t}}function zN(n,e,t,i,r,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:f}}class iS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MW=new RegExp(":enter","g"),kW=new RegExp(":leave","g");function $N(n,e,t,i,r,a=new Map,c=new Map,f,_,w=[]){return(new OW).buildKeyframes(n,e,t,i,r,a,c,f,_,w)}class OW{buildKeyframes(e,t,i,r,a,c,f,_,w,D=[]){w=w||new iS;const S=new GN(e,t,w,r,a,D,[]);S.options=_;const P=_.delay?Mu(_.delay):0;S.currentTimeline.delayNextStep(P),S.currentTimeline.setStyles([c],null,S.errors,_),$s(this,i,S);const U=S.timelines.filter(q=>q.containsAnimation());if(U.length&&f.size){let q;for(let J=U.length-1;J>=0;J--){const ge=U[J];if(ge.element===t){q=ge;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,S.errors,_)}return U.length?U.map(q=>q.buildKeyframes()):[zN(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:Mu(H0(a,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?Mu(i.duration):null,f=null!=i.delay?Mu(i.delay):null;return 0!==c&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,c,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),$s(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rS);const c=Mu(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>$s(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Mu(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),$s(this,c,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return QI(t.params?H0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Mu(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rS);let c=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,D)=>{t.currentQueryIndex=D;const S=t.createSubContext(e.options,w);a&&S.delayNextStep(a),w===t.element&&(_=S.currentTimeline),$s(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const S=D.currentTime;$s(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const rS={};class GN{constructor(e,t,i,r,a,c,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new oS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Mu(i.duration)),null!=i.delay&&(r.delay=Mu(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=H0(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new GN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=rS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new NW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(MW,"."+this._enterClassName)).replace(kW,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&c.push(function j8(n){return new u.vHH(3014,!1)}()),f}}class oS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ka),this._currentKeyframe.set(t,Ka);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function PW(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Ka)}else ph(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const w=H0(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Ka),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=ph(f,new Map,this._backFill);w.forEach((D,S)=>{"!"===D?e.add(S):D===Ka&&t.add(S)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?JI(e.values()):[],c=t.size?JI(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return zN(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class NW extends oS{constructor(e,t,i,r,a,c,f=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,f=t/c,_=ph(e[0]);_.set("offset",0),a.push(_);const w=ph(e[0]);w.set("offset",Rz(f)),a.push(w);const D=e.length-1;for(let S=1;S<=D;S++){let P=ph(e[S]);const U=P.get("offset");P.set("offset",Rz((t+U*i)/c)),a.push(P)}i=c,t=0,r="",e=a}return zN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Rz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class qN{}const FW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class LW extends qN{normalizePropertyName(e,t){return UN(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(FW.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function R8(n,e){return new u.vHH(3005,!1)}())}return c+a}}function kz(n,e,t,i,r,a,c,f,_,w,D,S,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:S,errors:P}}const WN={};class Oz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function VW(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,f,_,w,D){const S=[],P=this.ast.options&&this.ast.options.params||WN,q=this.buildStyles(i,f&&f.params||WN,S),J=_&&_.params||WN,ge=this.buildStyles(r,J,S),Xe=new Set,pt=new Map,gt=new Map,Ct="void"===r,qt={params:BW(J,P),delay:this.ast.options?.delay},on=D?[]:$N(e,t,this.ast.animation,a,c,q,ge,qt,w,S);let $n=0;if(on.forEach(Da=>{$n=Math.max(Da.duration+Da.delay,$n)}),S.length)return kz(t,this._triggerName,i,r,Ct,q,ge,[],[],pt,gt,$n,S);on.forEach(Da=>{const Ru=Da.element,Kz=zs(pt,Ru,new Set);Da.preStyleProps.forEach(Ep=>Kz.add(Ep));const z0=zs(gt,Ru,new Set);Da.postStyleProps.forEach(Ep=>z0.add(Ep)),Ru!==t&&Xe.add(Ru)});const fo=JI(Xe.values());return kz(t,this._triggerName,i,r,Ct,q,ge,on,fo,pt,gt,$n)}}function BW(n,e){const t=B0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class UW{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=B0(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=H0(c,r,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),i.set(f,c)})}),i}}class jW{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new UW(r.style,r.options&&r.options.params||{},i))}),Nz(this.states,"true","1"),Nz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Oz(e,r,this.states))}),this.fallbackTransition=function zW(n,e,t){return new Oz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Nz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $W=new iS;class GW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=HN(this._driver,t,i,[]);if(i.length)throw function Z8(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=gz(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=$N(this._driver,t,a,FN,ZI,new Map,new Map,i,$W,r),c.forEach(D=>{const S=zs(f,D.element,new Map);D.postStyleProps.forEach(P=>S.set(P,null))})):(r.push(function Y8(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function X8(n){return new u.vHH(3504,!1)}();f.forEach((D,S)=>{D.forEach((P,U)=>{D.set(U,this._driver.computeStyle(S,U,Ka))})});const w=fh(c.map(D=>{const S=f.get(D.element);return this._buildPlayer(D,new Map,S)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Q8(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=ON(t,"","","");return RN(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Pz="ng-animate-queued",KN="ng-animate-disabled",YW=[],Fz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea="__ng_removed";class ZN{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function t7(n){return n??null}(i?e.value:e),i){const a=B0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const j0="void",YN=new ZN(j0);class QW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ca(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function J8(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function eW(n){return new u.vHH(3303,!1)}();if(!function n7(n){return"start"==n||"done"==n}(i))throw function tW(n,e){return new u.vHH(3400,!1)}();const a=zs(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const f=zs(this._engine.statesByElement,e,new Map);return f.has(t)||(Ca(e,YI),Ca(e,YI+"-"+t),f.set(t,YN)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function nW(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new XN(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ca(e,YI),Ca(e,YI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new ZN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=YN),w.value!==j0&&_.value===w.value){if(!function o7(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const J=[],ge=a.matchStyles(_.value,_.params,J),Xe=a.matchStyles(w.value,w.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{bp(e,ge),ec(e,Xe)})}return}const P=zs(this._engine.playersByElement,e,[]);P.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let U=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!U){if(!r)return;U=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:_,toState:w,player:c,isFallbackTransition:q}),q||(Ca(e,Pz),c.onStart(()=>{C_(e,Pz)})),c.onDone(()=>{let J=this.players.indexOf(c);J>=0&&this.players.splice(J,1);const ge=this._engine.playersByElement.get(e);if(ge){let Xe=ge.indexOf(c);Xe>=0&&ge.splice(Xe,1)}}),this.players.push(c),P.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,XI,!0);i.forEach(r=>{if(r[Ea])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(c.set(w,_.value),this._triggers.has(w)){const D=this.trigger(e,w,j0,r);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&fh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const _=this._triggers.get(c).fallbackTransition,w=i.get(c)||YN,D=new ZN(j0),S=new XN(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:w,toState:D,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ea];(!a||a===Fz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ca(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==i.triggerName){const _=ON(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,RN(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class JW{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new QW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(sS(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sS(t))return;const a=t[Ea];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ca(e,KN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),C_(e,KN))}removeNode(e,t,i){if(sS(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ea]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return sS(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,XI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ea];if(t&&t.setForRemoval){if(e[Ea]=Fz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(KN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ca(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function iW(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new iS,r=[],a=new Map,c=[],f=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(Nt=>{D.add(Nt);const Wt=this.driver.query(Nt,".ng-animate-queued",!0);for(let en=0;en<Wt.length;en++)D.add(Wt[en])});const S=this.bodyNode,P=Array.from(this.statesByElement.keys()),U=Bz(P,this.collectedEnterElements),q=new Map;let J=0;U.forEach((Nt,Wt)=>{const en=FN+J++;q.set(Wt,en),Nt.forEach(Un=>Ca(Un,en))});const ge=[],Xe=new Set,pt=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const Wt=this.collectedLeaveElements[Nt],en=Wt[Ea];en&&en.setForRemoval&&(ge.push(Wt),Xe.add(Wt),en.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Un=>Xe.add(Un)):pt.add(Wt))}const gt=new Map,Ct=Bz(P,Array.from(Xe));Ct.forEach((Nt,Wt)=>{const en=ZI+J++;gt.set(Wt,en),Nt.forEach(Un=>Ca(Un,en))}),e.push(()=>{U.forEach((Nt,Wt)=>{const en=q.get(Wt);Nt.forEach(Un=>C_(Un,en))}),Ct.forEach((Nt,Wt)=>{const en=gt.get(Wt);Nt.forEach(Un=>C_(Un,en))}),ge.forEach(Nt=>{this.processLeaveNode(Nt)})});const qt=[],on=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(t).forEach(en=>{const Un=en.player,Kr=en.element;if(qt.push(Un),this.collectedEnterElements.length){const To=Kr[Ea];if(To&&To.setForMove){if(To.previousTriggersValues&&To.previousTriggersValues.has(en.triggerName)){const Cp=To.previousTriggersValues.get(en.triggerName),xa=this.statesByElement.get(en.element);if(xa&&xa.has(en.triggerName)){const cS=xa.get(en.triggerName);cS.value=Cp,xa.set(en.triggerName,cS)}}return void Un.destroy()}}const tc=!S||!this.driver.containsElement(S,Kr),Gs=gt.get(Kr),mh=q.get(Kr),Li=this._buildInstruction(en,i,mh,Gs,tc);if(Li.errors&&Li.errors.length)return void on.push(Li);if(tc)return Un.onStart(()=>bp(Kr,Li.fromStyles)),Un.onDestroy(()=>ec(Kr,Li.toStyles)),void r.push(Un);if(en.isFallbackTransition)return Un.onStart(()=>bp(Kr,Li.fromStyles)),Un.onDestroy(()=>ec(Kr,Li.toStyles)),void r.push(Un);const Xz=[];Li.timelines.forEach(To=>{To.stretchStartingKeyframe=!0,this.disabledNodes.has(To.element)||Xz.push(To)}),Li.timelines=Xz,i.append(Kr,Li.timelines),c.push({instruction:Li,player:Un,element:Kr}),Li.queriedElements.forEach(To=>zs(f,To,[]).push(Un)),Li.preStyleProps.forEach((To,Cp)=>{if(To.size){let xa=_.get(Cp);xa||_.set(Cp,xa=new Set),To.forEach((cS,eP)=>xa.add(eP))}}),Li.postStyleProps.forEach((To,Cp)=>{let xa=w.get(Cp);xa||w.set(Cp,xa=new Set),To.forEach((cS,eP)=>xa.add(eP))})});if(on.length){const Nt=[];on.forEach(Wt=>{Nt.push(function rW(n,e){return new u.vHH(3505,!1)}())}),qt.forEach(Wt=>Wt.destroy()),this.reportError(Nt)}const $n=new Map,fo=new Map;c.forEach(Nt=>{const Wt=Nt.element;i.has(Wt)&&(fo.set(Wt,Wt),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,$n))}),r.forEach(Nt=>{const Wt=Nt.element;this._getPreviousPlayers(Wt,!1,Nt.namespaceId,Nt.triggerName,null).forEach(Un=>{zs($n,Wt,[]).push(Un),Un.destroy()})});const Da=ge.filter(Nt=>Hz(Nt,_,w)),Ru=new Map;Vz(Ru,this.driver,pt,w,Ka).forEach(Nt=>{Hz(Nt,_,w)&&Da.push(Nt)});const z0=new Map;U.forEach((Nt,Wt)=>{Vz(z0,this.driver,new Set(Nt),_,"!")}),Da.forEach(Nt=>{const Wt=Ru.get(Nt),en=z0.get(Nt);Ru.set(Nt,new Map([...Wt?.entries()??[],...en?.entries()??[]]))});const Ep=[],Zz=[],Yz={};c.forEach(Nt=>{const{element:Wt,player:en,instruction:Un}=Nt;if(i.has(Wt)){if(D.has(Wt))return en.onDestroy(()=>ec(Wt,Un.toStyles)),en.disabled=!0,en.overrideTotalTime(Un.totalTime),void r.push(en);let Kr=Yz;if(fo.size>1){let Gs=Wt;const mh=[];for(;Gs=Gs.parentNode;){const Li=fo.get(Gs);if(Li){Kr=Li;break}mh.push(Gs)}mh.forEach(Li=>fo.set(Li,Kr))}const tc=this._buildAnimation(en.namespaceId,Un,$n,a,z0,Ru);if(en.setRealPlayer(tc),Kr===Yz)Ep.push(en);else{const Gs=this.playersByElement.get(Kr);Gs&&Gs.length&&(en.parentPlayer=fh(Gs)),r.push(en)}}else bp(Wt,Un.fromStyles),en.onDestroy(()=>ec(Wt,Un.toStyles)),Zz.push(en),D.has(Wt)&&r.push(en)}),Zz.forEach(Nt=>{const Wt=a.get(Nt.element);if(Wt&&Wt.length){const en=fh(Wt);Nt.setRealPlayer(en)}}),r.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<ge.length;Nt++){const Wt=ge[Nt],en=Wt[Ea];if(C_(Wt,ZI),en&&en.hasAnimation)continue;let Un=[];if(f.size){let tc=f.get(Wt);tc&&tc.length&&Un.push(...tc);let Gs=this.driver.query(Wt,LN,!0);for(let mh=0;mh<Gs.length;mh++){let Li=f.get(Gs[mh]);Li&&Li.length&&Un.push(...Li)}}const Kr=Un.filter(tc=>!tc.destroyed);Kr.length?i7(this,Wt,Kr):this.processLeaveNode(Wt)}return ge.length=0,Ep.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const Wt=this.players.indexOf(Nt);this.players.splice(Wt,1)}),Nt.play()}),Ep}elementContainsData(e,t){let i=!1;const r=t[Ea];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==j0;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||c.push(w)})}}return(i||r)&&(c=c.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,D=w!==a,S=zs(i,w,[]);this._getPreviousPlayers(w,D,c,f,t.toState).forEach(U=>{const q=U.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),U.destroy(),S.push(U)})}bp(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const f=t.triggerName,_=t.element,w=[],D=new Set,S=new Set,P=t.timelines.map(q=>{const J=q.element;D.add(J);const ge=J[Ea];if(ge&&ge.removedBeforeQueried)return new dg(q.duration,q.delay);const Xe=J!==_,pt=function r7(n){const e=[];return Uz(n,e),e}((i.get(J)||YW).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===J),gt=a.get(J),Ct=c.get(J),qt=gz(this._normalizer,q.keyframes,gt,Ct),on=this._buildPlayer(q,qt,pt);if(q.subTimeline&&r&&S.add(J),Xe){const $n=new XN(e,f,J);$n.setRealPlayer(on),w.push($n)}return on});w.forEach(q=>{zs(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function e7(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,q.element,q))}),D.forEach(q=>Ca(q,Cz));const U=fh(P);return U.onDestroy(()=>{D.forEach(q=>C_(q,Cz)),ec(_,t.toStyles)}),S.forEach(q=>{zs(r,q,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new dg(e.duration,e.delay)}}class XN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new dg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>RN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sS(n){return n&&1===n.nodeType}function Lz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Vz(n,e,t,i,r){const a=[];t.forEach(_=>a.push(Lz(_)));const c=[];i.forEach((_,w)=>{const D=new Map;_.forEach(S=>{const P=e.computeStyle(w,S,r);D.set(S,P),(!P||0==P.length)&&(w[Ea]=XW,c.push(w))}),n.set(w,D)});let f=0;return t.forEach(_=>Lz(_,a[f++])),c}function Bz(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:c(w),a.set(f,_),_}return e.forEach(f=>{const _=c(f);1!==_&&t.get(_).push(f)}),t}function Ca(n,e){n.classList?.add(e)}function C_(n,e){n.classList?.remove(e)}function i7(n,e,t){fh(t).onDone(()=>n.processLeaveNode(e))}function Uz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof hg?Uz(i.players,e):e.push(i)}}function Hz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class aS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new JW(e,t,i),this._timelineEngine=new GW(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let f=this._triggerCache[c];if(!f){const _=[],D=HN(this._driver,a,_,[]);if(_.length)throw function W8(n,e){return new u.vHH(3404,!1)}();f=function HW(n,e,t){return new jW(n,e,t)}(r,D,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=_z(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,f]=_z(i);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let a7=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ec(this._element,this._initialStyles),this._endStyles&&(ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bp(this._element,this._endStyles),this._endStyles=null),ec(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function QN(n){let e=null;return n.forEach((t,i)=>{(function l7(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class jz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Sz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class c7{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return vz(e,t)}getParentElement(e){return NN(e)}query(e,t,i){return bz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,D=c.filter(U=>U instanceof jz);(function gW(n,e){return 0===n||0===e})(i,r)&&D.forEach(U=>{U.currentSnapshot.forEach((q,J)=>w.set(J,q))});let S=function fW(n){return n.length?n[0]instanceof Map?n:n.map(e=>Dz(e)):[]}(t).map(U=>ph(U));S=function _W(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(f=>c.set(f,Sz(n,f)))}}return e}(e,S,w);const P=function s7(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=QN(e[0]),e.length>1&&(i=QN(e[e.length-1]))):e instanceof Map&&(t=QN(e)),t||i?new a7(n,t,i):null}(e,S);return new jz(e,S,_,P)}}let u7=(()=>{class n extends bC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ug(t):t;return zz(this._renderer,null,i,"register",[r]),new d7(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class d7 extends wC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h7(this._id,e,t||{},this._renderer)}}class h7{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return zz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const $z="@.disabled";let f7=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(a);return D||(D=new Gz("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const c=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,f,t,D.name,D)};return i.data.animation.forEach(_),new p7(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(aS),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Gz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==$z?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class p7 extends Gz{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$z?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function m7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function g7(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let _7=(()=>{class n extends aS{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(PN),u.LFG(qN),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qz=[{provide:bC,useClass:u7},{provide:qN,useFactory:function y7(){return new LW}},{provide:aS,useClass:_7},{provide:u.FYo,useFactory:function v7(n,e,t){return new f7(n,e,t)},deps:[fc,aS,u.R0b]}],JN=[{provide:PN,useFactory:()=>new c7},{provide:u.QbO,useValue:"BrowserAnimations"},...qz],Wz=[{provide:PN,useClass:wz},{provide:u.QbO,useValue:"NoopAnimations"},...qz];let b7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Wz:JN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:JN,imports:[Ah]}),n})(),w7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[D9]}),n.\u0275inj=u.cJS({providers:[Fj],imports:[Ah,_9,Of,C,Pj,Yj,Lj,pz,b7,IM,VL,LL,Qa.hO.initializeApp(jd_firebaseConfig),t9,Of,C,Pj,Yj,Lj,pz]}),n})();dl().bootstrapModule(w7).catch(n=>console.error(n))},5619:(Dt,xe,N)=>{N.d(xe,{X:()=>u});var T=N(8645);class u extends T.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const he=super._subscribe(Q);return!he.closed&&Q.next(this._value),he}getValue(){const{hasError:Q,thrownError:he,_value:Ee}=this;if(Q)throw he;return this._throwIfClosed(),Ee}next(Q){super.next(this._value=Q)}}},5592:(Dt,xe,N)=>{N.d(xe,{y:()=>Ve});var T=N(305),u=N(7394),L=N(4850),Q=N(8407),he=N(2653),Ee=N(4674),re=N(1441);let Ve=(()=>{class oe{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const qe=new oe;return qe.source=this,qe.operator=ye,qe}subscribe(ye,qe,Be){const Je=function $(oe){return oe&&oe instanceof T.Lv||function j(oe){return oe&&(0,Ee.m)(oe.next)&&(0,Ee.m)(oe.error)&&(0,Ee.m)(oe.complete)}(oe)&&(0,u.Nn)(oe)}(ye)?ye:new T.Hp(ye,qe,Be);return(0,re.x)(()=>{const{operator:Ue,source:Rt}=this;Je.add(Ue?Ue.call(Je,Rt):Rt?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(ye){try{return this._subscribe(ye)}catch(qe){ye.error(qe)}}forEach(ye,qe){return new(qe=pe(qe))((Be,Je)=>{const Ue=new T.Hp({next:Rt=>{try{ye(Rt)}catch(St){Je(St),Ue.unsubscribe()}},error:Je,complete:Be});this.subscribe(Ue)})}_subscribe(ye){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(ye)}[L.L](){return this}pipe(...ye){return(0,Q.U)(ye)(this)}toPromise(ye){return new(ye=pe(ye))((qe,Be)=>{let Je;this.subscribe(Ue=>Je=Ue,Ue=>Be(Ue),()=>qe(Je))})}}return oe.create=Se=>new oe(Se),oe})();function pe(oe){var Se;return null!==(Se=oe??he.config.Promise)&&void 0!==Se?Se:Promise}},8645:(Dt,xe,N)=>{N.d(xe,{x:()=>re});var T=N(5592),u=N(7394);const Q=(0,N(2306).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=N(9039),Ee=N(1441);let re=(()=>{class pe extends T.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const oe=new Ve(this,this);return oe.operator=$,oe}_throwIfClosed(){if(this.closed)throw new Q}next($){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next($)}})}error($){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:oe}=this;for(;oe.length;)oe.shift().error($)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:oe,isStopped:Se,observers:ye}=this;return oe||Se?u.Lc:(this.currentObservers=null,ye.push($),new u.w0(()=>{this.currentObservers=null,(0,he.P)(ye,$)}))}_checkFinalizedStatuses($){const{hasError:oe,thrownError:Se,isStopped:ye}=this;oe?$.error(Se):ye&&$.complete()}asObservable(){const $=new T.y;return $.source=this,$}}return pe.create=(j,$)=>new Ve(j,$),pe})();class Ve extends re{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,oe;null===(oe=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===oe||oe.call($,j)}error(j){var $,oe;null===(oe=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===oe||oe.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,oe;return null!==(oe=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==oe?oe:u.Lc}}},305:(Dt,xe,N)=>{N.d(xe,{Hp:()=>Be,Lv:()=>oe});var T=N(4674),u=N(7394),L=N(2653),Q=N(3894),he=N(2420);const Ee=pe("C",void 0,void 0);function pe(se,be,ae){return{kind:se,value:be,error:ae}}var j=N(7599),$=N(1441);class oe extends u.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,u.Nn)(be)&&be.add(this)):this.destination=St}static create(be,ae,De){return new Be(be,ae,De)}next(be){this.isStopped?Rt(function Ve(se){return pe("N",se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Rt(function re(se){return pe("E",void 0,se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Rt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function ye(se,be){return Se.call(se,be)}class qe{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ae}=this;if(ae.next)try{ae.next(be)}catch(De){Je(De)}}error(be){const{partialObserver:ae}=this;if(ae.error)try{ae.error(be)}catch(De){Je(De)}else Je(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ae){Je(ae)}}}class Be extends oe{constructor(be,ae,De){let He;if(super(),(0,T.m)(be)||!be)He={next:be??void 0,error:ae??void 0,complete:De??void 0};else{let et;this&&L.config.useDeprecatedNextContext?(et=Object.create(be),et.unsubscribe=()=>this.unsubscribe(),He={next:be.next&&ye(be.next,et),error:be.error&&ye(be.error,et),complete:be.complete&&ye(be.complete,et)}):He=be}this.destination=new qe(He)}}function Je(se){L.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(se):(0,Q.h)(se)}function Rt(se,be){const{onStoppedNotification:ae}=L.config;ae&&j.z.setTimeout(()=>ae(se,be))}const St={closed:!0,next:he.Z,error:function Ue(se){throw se},complete:he.Z}},7394:(Dt,xe,N)=>{N.d(xe,{Lc:()=>Ee,w0:()=>he,Nn:()=>re});var T=N(4674);const L=(0,N(2306).d)(pe=>function($){pe(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((oe,Se)=>`${Se+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var Q=N(9039);class he{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const ye of $)ye.remove(this);else $.remove(this);const{initialTeardown:oe}=this;if((0,T.m)(oe))try{oe()}catch(ye){j=ye instanceof L?ye.errors:[ye]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const ye of Se)try{Ve(ye)}catch(qe){j=j??[],qe instanceof L?j=[...j,...qe.errors]:j.push(qe)}}if(j)throw new L(j)}}add(j){var $;if(j&&j!==this)if(this.closed)Ve(j);else{if(j instanceof he){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,Q.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,Q.P)($,j),j instanceof he&&j._removeParent(this)}}he.EMPTY=(()=>{const pe=new he;return pe.closed=!0,pe})();const Ee=he.EMPTY;function re(pe){return pe instanceof he||pe&&"closed"in pe&&(0,T.m)(pe.remove)&&(0,T.m)(pe.add)&&(0,T.m)(pe.unsubscribe)}function Ve(pe){(0,T.m)(pe)?pe():pe.unsubscribe()}},2653:(Dt,xe,N)=>{N.d(xe,{config:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Dt,xe,N)=>{N.d(xe,{E:()=>u});const u=new(N(5592).y)(he=>he.complete())},2459:(Dt,xe,N)=>{N.d(xe,{D:()=>be});var T=N(4829),u=N(3093),L=N(5137),Ee=N(5592),Ve=N(4971),pe=N(4674),j=N(7103);function oe(ae,De){if(!ae)throw new Error("Iterable cannot be null");return new Ee.y(He=>{(0,j.f)(He,De,()=>{const et=ae[Symbol.asyncIterator]();(0,j.f)(He,De,()=>{et.next().then(te=>{te.done?He.complete():He.next(te.value)})},0,!0)})})}var Se=N(8382),ye=N(4026),qe=N(4266),Be=N(3664),Je=N(5726),Ue=N(9853),Rt=N(541);function be(ae,De){return De?function se(ae,De){if(null!=ae){if((0,Se.c)(ae))return function Q(ae,De){return(0,T.Xf)(ae).pipe((0,L.R)(De),(0,u.Q)(De))}(ae,De);if((0,qe.z)(ae))return function re(ae,De){return new Ee.y(He=>{let et=0;return De.schedule(function(){et===ae.length?He.complete():(He.next(ae[et++]),He.closed||this.schedule())})})}(ae,De);if((0,ye.t)(ae))return function he(ae,De){return(0,T.Xf)(ae).pipe((0,L.R)(De),(0,u.Q)(De))}(ae,De);if((0,Je.D)(ae))return oe(ae,De);if((0,Be.T)(ae))return function $(ae,De){return new Ee.y(He=>{let et;return(0,j.f)(He,De,()=>{et=ae[Ve.h](),(0,j.f)(He,De,()=>{let te,Tt;try{({value:te,done:Tt}=et.next())}catch(Ze){return void He.error(Ze)}Tt?He.complete():He.next(te)},0,!0)}),()=>(0,pe.m)(et?.return)&&et.return()})}(ae,De);if((0,Rt.L)(ae))return function St(ae,De){return oe((0,Rt.Q)(ae),De)}(ae,De)}throw(0,Ue.z)(ae)}(ae,De):(0,T.Xf)(ae)}},4829:(Dt,xe,N)=>{N.d(xe,{Xf:()=>Se});var T=N(7582),u=N(4266),L=N(4026),Q=N(5592),he=N(8382),Ee=N(5726),re=N(9853),Ve=N(3664),pe=N(541),j=N(4674),$=N(3894),oe=N(4850);function Se(se){if(se instanceof Q.y)return se;if(null!=se){if((0,he.c)(se))return function ye(se){return new Q.y(be=>{const ae=se[oe.L]();if((0,j.m)(ae.subscribe))return ae.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,u.z)(se))return function qe(se){return new Q.y(be=>{for(let ae=0;ae<se.length&&!be.closed;ae++)be.next(se[ae]);be.complete()})}(se);if((0,L.t)(se))return function Be(se){return new Q.y(be=>{se.then(ae=>{be.closed||(be.next(ae),be.complete())},ae=>be.error(ae)).then(null,$.h)})}(se);if((0,Ee.D)(se))return Ue(se);if((0,Ve.T)(se))return function Je(se){return new Q.y(be=>{for(const ae of se)if(be.next(ae),be.closed)return;be.complete()})}(se);if((0,pe.L)(se))return function Rt(se){return Ue((0,pe.Q)(se))}(se)}throw(0,re.z)(se)}function Ue(se){return new Q.y(be=>{(function St(se,be){var ae,De,He,et;return(0,T.mG)(this,void 0,void 0,function*(){try{for(ae=(0,T.KL)(se);!(De=yield ae.next()).done;)if(be.next(De.value),be.closed)return}catch(te){He={error:te}}finally{try{De&&!De.done&&(et=ae.return)&&(yield et.call(ae))}finally{if(He)throw He.error}}be.complete()})})(se,be).catch(ae=>be.error(ae))})}},3019:(Dt,xe,N)=>{N.d(xe,{T:()=>Ee});var T=N(7537),u=N(4829),L=N(6232),Q=N(9940),he=N(2459);function Ee(...re){const Ve=(0,Q.yG)(re),pe=(0,Q._6)(re,1/0),j=re;return j.length?1===j.length?(0,u.Xf)(j[0]):(0,T.J)(pe)((0,he.D)(j,Ve)):L.E}},2096:(Dt,xe,N)=>{N.d(xe,{of:()=>L});var T=N(9940),u=N(2459);function L(...Q){const he=(0,T.yG)(Q);return(0,u.D)(Q,he)}},8251:(Dt,xe,N)=>{N.d(xe,{x:()=>u});var T=N(305);function u(Q,he,Ee,re,Ve){return new L(Q,he,Ee,re,Ve)}class L extends T.Lv{constructor(he,Ee,re,Ve,pe,j){super(he),this.onFinalize=pe,this.shouldUnsubscribe=j,this._next=Ee?function($){try{Ee($)}catch(oe){he.error(oe)}}:super._next,this._error=Ve?function($){try{Ve($)}catch(oe){he.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch($){he.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},3997:(Dt,xe,N)=>{N.d(xe,{x:()=>Q});var T=N(2737),u=N(9360),L=N(8251);function Q(Ee,re=T.y){return Ee=Ee??he,(0,u.e)((Ve,pe)=>{let j,$=!0;Ve.subscribe((0,L.x)(pe,oe=>{const Se=re(oe);($||!Ee(j,Se))&&($=!1,j=Se,pe.next(oe))}))})}function he(Ee,re){return Ee===re}},7398:(Dt,xe,N)=>{N.d(xe,{U:()=>L});var T=N(9360),u=N(8251);function L(Q,he){return(0,T.e)((Ee,re)=>{let Ve=0;Ee.subscribe((0,u.x)(re,pe=>{re.next(Q.call(he,pe,Ve++))}))})}},7537:(Dt,xe,N)=>{N.d(xe,{J:()=>L});var T=N(1631),u=N(2737);function L(Q=1/0){return(0,T.z)(u.y,Q)}},1631:(Dt,xe,N)=>{N.d(xe,{z:()=>Ve});var T=N(7398),u=N(4829),L=N(9360),Q=N(7103),he=N(8251),re=N(4674);function Ve(pe,j,$=1/0){return(0,re.m)(j)?Ve((oe,Se)=>(0,T.U)((ye,qe)=>j(oe,ye,Se,qe))((0,u.Xf)(pe(oe,Se))),$):("number"==typeof j&&($=j),(0,L.e)((oe,Se)=>function Ee(pe,j,$,oe,Se,ye,qe,Be){const Je=[];let Ue=0,Rt=0,St=!1;const se=()=>{St&&!Je.length&&!Ue&&j.complete()},be=De=>Ue<oe?ae(De):Je.push(De),ae=De=>{ye&&j.next(De),Ue++;let He=!1;(0,u.Xf)($(De,Rt++)).subscribe((0,he.x)(j,et=>{Se?.(et),ye?be(et):j.next(et)},()=>{He=!0},void 0,()=>{if(He)try{for(Ue--;Je.length&&Ue<oe;){const et=Je.shift();qe?(0,Q.f)(j,qe,()=>ae(et)):ae(et)}se()}catch(et){j.error(et)}}))};return pe.subscribe((0,he.x)(j,be,()=>{St=!0,se()})),()=>{Be?.()}}(oe,Se,pe,$)))}},3093:(Dt,xe,N)=>{N.d(xe,{Q:()=>Q});var T=N(7103),u=N(9360),L=N(8251);function Q(he,Ee=0){return(0,u.e)((re,Ve)=>{re.subscribe((0,L.x)(Ve,pe=>(0,T.f)(Ve,he,()=>Ve.next(pe),Ee),()=>(0,T.f)(Ve,he,()=>Ve.complete(),Ee),pe=>(0,T.f)(Ve,he,()=>Ve.error(pe),Ee)))})}},3020:(Dt,xe,N)=>{N.d(xe,{B:()=>he});var T=N(4829),u=N(8645),L=N(305),Q=N(9360);function he(re={}){const{connector:Ve=(()=>new u.x),resetOnError:pe=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=re;return oe=>{let Se,ye,qe,Be=0,Je=!1,Ue=!1;const Rt=()=>{ye?.unsubscribe(),ye=void 0},St=()=>{Rt(),Se=qe=void 0,Je=Ue=!1},se=()=>{const be=Se;St(),be?.unsubscribe()};return(0,Q.e)((be,ae)=>{Be++,!Ue&&!Je&&Rt();const De=qe=qe??Ve();ae.add(()=>{Be--,0===Be&&!Ue&&!Je&&(ye=Ee(se,$))}),De.subscribe(ae),!Se&&Be>0&&(Se=new L.Hp({next:He=>De.next(He),error:He=>{Ue=!0,Rt(),ye=Ee(St,pe,He),De.error(He)},complete:()=>{Je=!0,Rt(),ye=Ee(St,j),De.complete()}}),(0,T.Xf)(be).subscribe(Se))})(oe)}}function Ee(re,Ve,...pe){if(!0===Ve)return void re();if(!1===Ve)return;const j=new L.Hp({next:()=>{j.unsubscribe(),re()}});return(0,T.Xf)(Ve(...pe)).subscribe(j)}},5137:(Dt,xe,N)=>{N.d(xe,{R:()=>u});var T=N(9360);function u(L,Q=0){return(0,T.e)((he,Ee)=>{Ee.add(L.schedule(()=>he.subscribe(Ee),Q))})}},4664:(Dt,xe,N)=>{N.d(xe,{w:()=>Q});var T=N(4829),u=N(9360),L=N(8251);function Q(he,Ee){return(0,u.e)((re,Ve)=>{let pe=null,j=0,$=!1;const oe=()=>$&&!pe&&Ve.complete();re.subscribe((0,L.x)(Ve,Se=>{pe?.unsubscribe();let ye=0;const qe=j++;(0,T.Xf)(he(Se,qe)).subscribe(pe=(0,L.x)(Ve,Be=>Ve.next(Ee?Ee(Se,Be,qe,ye++):Be),()=>{pe=null,oe()}))},()=>{$=!0,oe()}))})}},9397:(Dt,xe,N)=>{N.d(xe,{b:()=>he});var T=N(4674),u=N(9360),L=N(8251),Q=N(2737);function he(Ee,re,Ve){const pe=(0,T.m)(Ee)||re||Ve?{next:Ee,error:re,complete:Ve}:Ee;return pe?(0,u.e)((j,$)=>{var oe;null===(oe=pe.subscribe)||void 0===oe||oe.call(pe);let Se=!0;j.subscribe((0,L.x)($,ye=>{var qe;null===(qe=pe.next)||void 0===qe||qe.call(pe,ye),$.next(ye)},()=>{var ye;Se=!1,null===(ye=pe.complete)||void 0===ye||ye.call(pe),$.complete()},ye=>{var qe;Se=!1,null===(qe=pe.error)||void 0===qe||qe.call(pe,ye),$.error(ye)},()=>{var ye,qe;Se&&(null===(ye=pe.unsubscribe)||void 0===ye||ye.call(pe)),null===(qe=pe.finalize)||void 0===qe||qe.call(pe)}))}):Q.y}},1954:(Dt,xe,N)=>{N.d(xe,{o:()=>he});var T=N(7394);class u extends T.w0{constructor(re,Ve){super()}schedule(re,Ve=0){return this}}const L={setInterval(Ee,re,...Ve){const{delegate:pe}=L;return pe?.setInterval?pe.setInterval(Ee,re,...Ve):setInterval(Ee,re,...Ve)},clearInterval(Ee){const{delegate:re}=L;return(re?.clearInterval||clearInterval)(Ee)},delegate:void 0};var Q=N(9039);class he extends u{constructor(re,Ve){super(re,Ve),this.scheduler=re,this.work=Ve,this.pending=!1}schedule(re,Ve=0){var pe;if(this.closed)return this;this.state=re;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId($,this.id,Ve),this}requestAsyncId(re,Ve,pe=0){return L.setInterval(re.flush.bind(re,this),pe)}recycleAsyncId(re,Ve,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return Ve;null!=Ve&&L.clearInterval(Ve)}execute(re,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(re,Ve);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,Ve){let j,pe=!1;try{this.work(re)}catch($){pe=!0,j=$||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:Ve}=this,{actions:pe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(pe,this),null!=re&&(this.id=this.recycleAsyncId(Ve,re,null)),this.delay=null,super.unsubscribe()}}}},2631:(Dt,xe,N)=>{N.d(xe,{v:()=>L});var T=N(4552);class u{constructor(he,Ee=u.now){this.schedulerActionCtor=he,this.now=Ee}schedule(he,Ee=0,re){return new this.schedulerActionCtor(this,he).schedule(re,Ee)}}u.now=T.l.now;class L extends u{constructor(he,Ee=u.now){super(he,Ee),this.actions=[],this._active=!1}flush(he){const{actions:Ee}=this;if(this._active)return void Ee.push(he);let re;this._active=!0;do{if(re=he.execute(he.state,he.delay))break}while(he=Ee.shift());if(this._active=!1,re){for(;he=Ee.shift();)he.unsubscribe();throw re}}}},6321:(Dt,xe,N)=>{N.d(xe,{P:()=>Q,z:()=>L});var T=N(1954);const L=new(N(2631).v)(T.o),Q=L},4552:(Dt,xe,N)=>{N.d(xe,{l:()=>T});const T={now:()=>(T.delegate||Date).now(),delegate:void 0}},7599:(Dt,xe,N)=>{N.d(xe,{z:()=>T});const T={setTimeout(u,L,...Q){const{delegate:he}=T;return he?.setTimeout?he.setTimeout(u,L,...Q):setTimeout(u,L,...Q)},clearTimeout(u){const{delegate:L}=T;return(L?.clearTimeout||clearTimeout)(u)},delegate:void 0}},4971:(Dt,xe,N)=>{N.d(xe,{h:()=>u});const u=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Dt,xe,N)=>{N.d(xe,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Dt,xe,N)=>{N.d(xe,{_6:()=>Ee,jO:()=>Q,yG:()=>he});var T=N(4674),u=N(671);function L(re){return re[re.length-1]}function Q(re){return(0,T.m)(L(re))?re.pop():void 0}function he(re){return(0,u.K)(L(re))?re.pop():void 0}function Ee(re,Ve){return"number"==typeof L(re)?re.pop():Ve}},9039:(Dt,xe,N)=>{function T(u,L){if(u){const Q=u.indexOf(L);0<=Q&&u.splice(Q,1)}}N.d(xe,{P:()=>T})},2306:(Dt,xe,N)=>{function T(u){const Q=u(he=>{Error.call(he),he.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}N.d(xe,{d:()=>T})},1441:(Dt,xe,N)=>{N.d(xe,{O:()=>Q,x:()=>L});var T=N(2653);let u=null;function L(he){if(T.config.useDeprecatedSynchronousErrorHandling){const Ee=!u;if(Ee&&(u={errorThrown:!1,error:null}),he(),Ee){const{errorThrown:re,error:Ve}=u;if(u=null,re)throw Ve}}else he()}function Q(he){T.config.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=he)}},7103:(Dt,xe,N)=>{function T(u,L,Q,he=0,Ee=!1){const re=L.schedule(function(){Q(),Ee?u.add(this.schedule(null,he)):this.unsubscribe()},he);if(u.add(re),!Ee)return re}N.d(xe,{f:()=>T})},2737:(Dt,xe,N)=>{function T(u){return u}N.d(xe,{y:()=>T})},4266:(Dt,xe,N)=>{N.d(xe,{z:()=>T});const T=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5726:(Dt,xe,N)=>{N.d(xe,{D:()=>u});var T=N(4674);function u(L){return Symbol.asyncIterator&&(0,T.m)(L?.[Symbol.asyncIterator])}},4674:(Dt,xe,N)=>{function T(u){return"function"==typeof u}N.d(xe,{m:()=>T})},8382:(Dt,xe,N)=>{N.d(xe,{c:()=>L});var T=N(4850),u=N(4674);function L(Q){return(0,u.m)(Q[T.L])}},3664:(Dt,xe,N)=>{N.d(xe,{T:()=>L});var T=N(4971),u=N(4674);function L(Q){return(0,u.m)(Q?.[T.h])}},4026:(Dt,xe,N)=>{N.d(xe,{t:()=>u});var T=N(4674);function u(L){return(0,T.m)(L?.then)}},541:(Dt,xe,N)=>{N.d(xe,{L:()=>Q,Q:()=>L});var T=N(7582),u=N(4674);function L(he){return(0,T.FC)(this,arguments,function*(){const re=he.getReader();try{for(;;){const{value:Ve,done:pe}=yield(0,T.qq)(re.read());if(pe)return yield(0,T.qq)(void 0);yield yield(0,T.qq)(Ve)}}finally{re.releaseLock()}})}function Q(he){return(0,u.m)(he?.getReader)}},671:(Dt,xe,N)=>{N.d(xe,{K:()=>u});var T=N(4674);function u(L){return L&&(0,T.m)(L.schedule)}},9360:(Dt,xe,N)=>{N.d(xe,{A:()=>u,e:()=>L});var T=N(4674);function u(Q){return(0,T.m)(Q?.lift)}function L(Q){return he=>{if(u(he))return he.lift(function(Ee){try{return Q(Ee,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Dt,xe,N)=>{function T(){}N.d(xe,{Z:()=>T})},8407:(Dt,xe,N)=>{N.d(xe,{U:()=>L,z:()=>u});var T=N(2737);function u(...Q){return L(Q)}function L(Q){return 0===Q.length?T.y:1===Q.length?Q[0]:function(Ee){return Q.reduce((re,Ve)=>Ve(re),Ee)}}},3894:(Dt,xe,N)=>{N.d(xe,{h:()=>L});var T=N(2653),u=N(7599);function L(Q){u.z.setTimeout(()=>{const{onUnhandledError:he}=T.config;if(!he)throw Q;he(Q)})}},9853:(Dt,xe,N)=>{function T(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(xe,{z:()=>T})},5879:(Dt,xe,N)=>{N.d(xe,{$8M:()=>Cc,$WT:()=>Qn,$Z:()=>Kw,AFp:()=>YS,AaK:()=>oe,BQk:()=>rv,CHM:()=>Np,CRH:()=>Nf,EJc:()=>hD,EiD:()=>Cw,EpF:()=>QT,F$t:()=>rA,F4k:()=>JT,FYo:()=>Ay,FiY:()=>La,Gf:()=>Ov,GfV:()=>df,GkF:()=>kE,Gpc:()=>qe,HDt:()=>Sg,Hsn:()=>oA,Ikx:()=>dv,JOm:()=>us,JVY:()=>CS,JZr:()=>St,KtG:()=>pc,L6k:()=>DS,LAX:()=>IS,LFG:()=>sn,Lbi:()=>kw,Lck:()=>xC,MAs:()=>ZT,MMx:()=>fg,NdJ:()=>NE,Ojb:()=>wm,OlP:()=>kn,Oqu:()=>XE,P3R:()=>fy,PXZ:()=>QM,Q6J:()=>AE,QGY:()=>OE,QbO:()=>ca,Qsj:()=>lT,R0b:()=>Eo,RDi:()=>fw,Rgc:()=>kf,SBq:()=>Ed,Sil:()=>IL,Suo:()=>Nv,TTD:()=>hc,TgZ:()=>tv,Udp:()=>UE,VuI:()=>ZD,W1O:()=>Lv,X6Q:()=>OD,XFs:()=>dt,Xpm:()=>Ro,Xq5:()=>Yy,Xts:()=>yd,Y36:()=>xd,YKP:()=>yM,YNc:()=>qT,Yjl:()=>Yt,Yz7:()=>fn,Z0I:()=>Ao,ZZ4:()=>cb,_Bn:()=>_M,_UZ:()=>RE,_Vd:()=>bd,_c5:()=>_R,_uU:()=>av,aQg:()=>ub,c2e:()=>uD,cJS:()=>Yn,cg1:()=>iC,dDg:()=>YM,dqk:()=>ln,eBb:()=>xS,eFA:()=>Og,eJc:()=>Pf,ekj:()=>HE,eoX:()=>eb,f3M:()=>pn,g9A:()=>XS,h0i:()=>pu,hGG:()=>yR,hij:()=>Cf,iGM:()=>kv,ifc:()=>_e,ip1:()=>Uf,jDz:()=>Cv,kL8:()=>YA,lG2:()=>mn,lqb:()=>Jc,lri:()=>Qv,mCW:()=>mm,n5z:()=>Si,oAB:()=>X,oxw:()=>iA,pB0:()=>SS,q3G:()=>Fi,q4F:()=>My,qFp:()=>YD,qLn:()=>Cd,qOj:()=>Wy,qZA:()=>nv,qzn:()=>ja,rWj:()=>Jv,rg0:()=>xp,sBO:()=>Fg,s_b:()=>Of,soG:()=>Ig,tb:()=>tb,tp0:()=>Oc,uIk:()=>au,vHH:()=>se,vpe:()=>ga,wAp:()=>Ht,xp6:()=>qw,ynx:()=>iv,z2F:()=>gu,z3N:()=>Ha,zSh:()=>Sw,zs3:()=>Pl});var T=N(8645),u=N(7394),L=N(5619),Q=N(5592),he=N(3019),Ee=N(2096),re=N(3020),Ve=N(4664),pe=N(3997);function j(o){for(let s in o)if(o[s]===j)return s;throw Error("Could not find renamed property on target object.")}function $(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function oe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(oe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Se(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ye=j({__forward_ref__:j});function qe(o){return o.__forward_ref__=qe,o.toString=function(){return oe(this())},o}function Be(o){return Je(o)?o():o}function Je(o){return"function"==typeof o&&o.hasOwnProperty(ye)&&o.__forward_ref__===qe}function Ue(o){return o&&!!o.\u0275providers}const St="https://g.co/ng/security#xss";class se extends Error{constructor(s,l){super(function be(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,l)),this.code=s}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function Tt(o,s){throw new se(-201,!1)}function ut(o,s){null==o&&function bt(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function fn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Yn(o){return{providers:o.providers||[],imports:o.imports||[]}}function gi(o){return Hn(o,ki)||Hn(o,po)}function Ao(o){return null!==gi(o)}function Hn(o,s){return o.hasOwnProperty(s)?o[s]:null}function vr(o){return o&&(o.hasOwnProperty(ui)||o.hasOwnProperty(br))?o[ui]:null}const ki=j({\u0275prov:j}),ui=j({\u0275inj:j}),po=j({ngInjectableDef:j}),br=j({ngInjectorDef:j});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let _n;function yt(o){const s=_n;return _n=o,s}function An(o,s,l){const d=gi(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&dt.Optional?null:void 0!==s?s:void Tt(oe(o))}const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),tn={},di="__NG_DI_FLAG__",Ut="ngTempTokenPath",Ji=/\n/gm,Oi="__source";let hi;function In(o){const s=hi;return hi=o,s}function dr(o,s=dt.Default){if(void 0===hi)throw new se(-203,!1);return null===hi?An(o,void 0,s):hi.get(o,s&dt.Optional?null:void 0,s)}function sn(o,s=dt.Default){return(function st(){return _n}()||dr)(Be(o),s)}function pn(o,s=dt.Default){return sn(o,z(s))}function z(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function B(o){const s=[];for(let l=0;l<o.length;l++){const d=Be(o[l]);if(Array.isArray(d)){if(0===d.length)throw new se(900,!1);let h,m=dt.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Te(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}s.push(sn(h,m))}else s.push(sn(d))}return s}function K(o,s){return o[di]=s,o.prototype[di]=s,o}function Te(o){return o[di]}function vt(o){return{toString:o}.toString()}var Y=(()=>((Y=Y||{})[Y.OnPush=0]="OnPush",Y[Y.Default=1]="Default",Y))(),_e=(()=>{return(o=_e||(_e={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",_e;var o})();const Ce={},Me=[],Pe=j({\u0275cmp:j}),ht=j({\u0275dir:j}),Bt=j({\u0275pipe:j}),Qt=j({\u0275mod:j}),jt=j({\u0275fac:j}),le=j({__NG_ELEMENT_ID__:j}),ne=j({__NG_ENV_ID__:j});function ke(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}l=h+1}}function mt(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],y=l[d++],E=l[d++];o.setAttribute(s,y,E,m)}else{const m=h,y=l[++d];Jt(m)?o.setProperty(s,m,y):o.setAttribute(s,m,y),d++}}return d}function At(o){return 3===o||4===o||6===o}function Jt(o){return 64===o.charCodeAt(0)}function un(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||ii(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function ii(o,s,l,d,h){let m=0,y=o.length;if(-1===s)y=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,s),m=y+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}const Fn="ng-template";function hr(o,s,l){let d=0,h=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&h){const y=o[d++];if(l&&"class"===m&&-1!==ke(y.toLowerCase(),s,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function mo(o){return 4===o.type&&o.value!==Fn}function _i(o,s,l){return s===(4!==o.type||l?o.value:Fn)}function vs(o,s,l){let d=4;const h=o.attrs||[],m=function bs(o){for(let s=0;s<o.length;s++)if(At(o[s]))return s;return o.length}(h);let y=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!_i(o,C,l)||""===C&&1===s.length){if(Ui(d))return!1;y=!0}}else{const I=8&d?C:s[++E];if(8&d&&null!==o.attrs){if(!hr(o.attrs,I,l)){if(Ui(d))return!1;y=!0}continue}const F=qs(8&d?"class":C,h,mo(o),l);if(-1===F){if(Ui(d))return!1;y=!0;continue}if(""!==I){let W;W=F>m?"":h[F+1].toLowerCase();const ie=8&d?W:null;if(ie&&-1!==ke(ie,I,0)||2&d&&I!==W){if(Ui(d))return!1;y=!0}}}}else{if(!y&&!Ui(d)&&!Ui(C))return!1;if(y&&Ui(C))continue;y=!1,d=C|1&d}}return Ui(d)||y}function Ui(o){return 0==(1&o)}function qs(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let m=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Ia(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function Er(o,s,l=!1){for(let d=0;d<s.length;d++)if(vs(o,s[d],l))return!0;return!1}function jn(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Ks(o,s){return o?":not("+s.trim()+")":s}function Mo(o){let s=o[0],l=1,d=2,h="",m=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&d){const E=o[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Ui(y)&&(s+=Ks(m,h),h=""),d=y,m=m||!Ui(d);l++}return""!==h&&(s+=Ks(m,h)),s}function Ro(o){return vt(()=>{const s=il(o),l={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||_e.Emulated,styles:o.styles||Me,_:null,schemas:o.schemas||null,tView:null,id:""};nc(l);const d=o.dependencies;return l.directiveDefs=Zs(d,!1),l.pipeDefs=Zs(d,!0),l.id=function ic(o){let s=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of l)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(l),l})}function Es(o){return Mt(o)||zt(o)}function V(o){return null!==o}function X(o){return vt(()=>({type:o.type,bootstrap:o.bootstrap||Me,declarations:o.declarations||Me,imports:o.imports||Me,exports:o.exports||Me,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function rt(o,s){if(null==o)return Ce;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,s&&(s[h]=m)}return l}function mn(o){return vt(()=>{const s=il(o);return nc(s),s})}function Yt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Mt(o){return o[Pe]||null}function zt(o){return o[ht]||null}function wn(o){return o[Bt]||null}function Qn(o){const s=Mt(o)||zt(o)||wn(o);return null!==s&&s.standalone}function ri(o,s){const l=o[Qt]||null;if(!l&&!0===s)throw new Error(`Type ${oe(o)} does not have '\u0275mod' property.`);return l}function il(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||Ce,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Me,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rt(o.inputs,s),outputs:rt(o.outputs)}}function nc(o){o.features?.forEach(s=>s(o))}function Zs(o,s){if(!o)return null;const l=s?wn:Es;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(V)}const oi=0,nt=1,Xt=2,Ln=3,Xr=4,ko=5,Ni=6,go=7,Wn=8,Hi=9,Oo=10,Kt=11,ji=12,rc=13,No=14,si=15,Po=16,Aa=17,kr=18,Fo=19,oc=20,Or=21,er=22,sc=23,ac=24,Zt=25,lc=1,Lo=2,tr=7,es=9,zi=11;function Pi(o){return Array.isArray(o)&&"object"==typeof o[lc]}function $i(o){return Array.isArray(o)&&!0===o[lc]}function Ma(o){return 0!=(4&o.flags)}function ts(o){return o.componentOffset>-1}function Cs(o){return 1==(1&o.flags)}function nr(o){return!!o.template}function yi(o){return 0!=(512&o[Xt])}function Ra(o,s){return o.hasOwnProperty(jt)?o[jt]:null}let Ge=ln.WeakRef??class Fe{constructor(s){this.ref=s}deref(){return this.ref}},Sn=0,yn=null,Dn=!1;function Pt(o){const s=yn;return yn=o,s}class Nr{constructor(){this.id=Sn++,this.ref=function at(o){return new Ge(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,l]of this.producers){const d=l.producerNode.deref();if(void 0!==d&&l.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(l.seenValueVersion))return!0}else this.producers.delete(s),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Dn;Dn=!0;try{for(const[l,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(l),h?.producers.delete(this.id))}}finally{Dn=s}}producerAccessed(){if(Dn)throw new Error("");if(null===yn)return;let s=yn.producers.get(this.id);void 0===s?(s={consumerNode:yn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:yn.trackingVersion},yn.producers.set(this.id,s),this.consumers.set(yn.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=yn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==yn?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Lu=null;function xp(o){const s=Pt(null);try{return o()}finally{Pt(s)}}const T_=()=>{};class Ip extends Nr{constructor(s,l,d){super(),this.watch=s,this.schedule=l,this.dirty=!1,this.cleanupFn=T_,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Pt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=T_,this.watch(this.registerOnCleanup)}finally{Pt(s)}}cleanup(){this.cleanupFn()}}class G0{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function hc(){return A_}function A_(o){return o.type.prototype.ngOnChanges&&(o.setInput=M_),Eh}function Eh(){const o=R_(this),s=o?.current;if(s){const l=o.previous;if(l===Ce)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function M_(o,s,l,d){const h=this.declaredInputs[l],m=R_(o)||function Sp(o,s){return o[Ch]=s}(o,{previous:Ce,current:null}),y=m.current||(m.current={}),E=m.previous,C=E[h];y[h]=new G0(C&&C.currentValue,s,E===Ce),o[d]=s}hc.ngInherit=!0;const Ch="__ngSimpleChanges__";function R_(o){return o[Ch]||null}const is=function(o,s,l){};function Bn(o){for(;Array.isArray(o);)o=o[oi];return o}function ka(o,s){return Bn(s[o])}function Lr(o,s){return Bn(s[o.index])}function al(o,s){return o.data[s]}function Cr(o,s){const l=s[o];return Pi(l)?l:l[oi]}function Is(o,s){return null==s?null:o[s]}function Ap(o){o[Aa]=0}function F_(o){1024&o[Xt]||(o[Xt]|=1024,Mp(o,1))}function Ih(o){1024&o[Xt]&&(o[Xt]&=-1025,Mp(o,-1))}function Mp(o,s){let l=o[Ln];if(null===l)return;l[ko]+=s;let d=l;for(l=l[Ln];null!==l&&(1===s&&1===d[ko]||-1===s&&0===d[ko]);)l[ko]+=s,d=l,l=l[Ln]}const $t={lFrame:$u(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kp(){return $t.bindingsEnabled}function Ts(){return null!==$t.skipHydrationRootTNode}function je(){return $t.lFrame.lView}function En(){return $t.lFrame.tView}function Np(o){return $t.lFrame.contextLView=o,o[Wn]}function pc(o){return $t.lFrame.contextLView=null,o}function ir(){let o=As();for(;null!==o&&64===o.type;)o=o.parent;return o}function As(){return $t.lFrame.currentTNode}function rs(o,s){const l=$t.lFrame;l.currentTNode=o,l.isParent=s}function ul(){return $t.lFrame.isParent}function Pp(){$t.lFrame.isParent=!1}function dl(){return $t.lFrame.bindingIndex++}function Ah(o,s){const l=$t.lFrame;l.bindingIndex=l.bindingRootIndex=o,fl(s)}function fl(o){$t.lFrame.currentDirectiveIndex=o}function ju(){return $t.lFrame.currentQueryIndex}function gc(o){$t.lFrame.currentQueryIndex=o}function zu(o){const s=o[nt];return 2===s.type?s.declTNode:1===s.type?o[Ni]:null}function Ms(o,s,l){if(l&dt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||l&dt.Host||(h=zu(m),null===h||(m=m[No],10&h.type))););if(null===h)return!1;s=h,o=m}const d=$t.lFrame=Mh();return d.currentTNode=s,d.lView=o,!0}function _c(o){const s=Mh(),l=o[nt];$t.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function Mh(){const o=$t.lFrame,s=null===o?null:o.child;return null===s?$u(o):s}function $u(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Rh(){const o=$t.lFrame;return $t.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Y0=Rh;function Oa(){const o=Rh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Vr(){return $t.lFrame.selectedIndex}function pl(o){$t.lFrame.selectedIndex=o}function fi(){const o=$t.lFrame;return al(o.tView,o.selectedIndex)}let Nh=!0;function yc(){return Nh}function Na(o){Nh=o}function Ph(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:k}=m;y&&(o.contentHooks??=[]).push(-l,y),E&&((o.contentHooks??=[]).push(l,E),(o.contentCheckHooks??=[]).push(l,E)),C&&(o.viewHooks??=[]).push(-l,C),I&&((o.viewHooks??=[]).push(l,I),(o.viewCheckHooks??=[]).push(l,I)),null!=k&&(o.destroyHooks??=[]).push(l,k)}}function qu(o,s,l){H_(o,s,3,l)}function Fh(o,s,l,d){(3&o[Xt])===l&&H_(o,s,l,d)}function Vp(o,s){let l=o[Xt];(3&l)===s&&(l&=8191,l+=1,o[Xt]=l)}function H_(o,s,l,d){const m=d??-1,y=s.length-1;let E=0;for(let C=void 0!==d?65535&o[Aa]:0;C<y;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=d&&E>=d)break}else s[C]<0&&(o[Aa]+=65536),(E<m||-1==m)&&(_o(o,l,s,C),o[Aa]=(4294901760&o[Aa])+C+2),C++}function Gi(o,s){is(4,o,s);const l=Pt(null);try{s.call(o)}finally{Pt(l),is(5,o,s)}}function _o(o,s,l,d){const h=l[d]<0,m=l[d+1],E=o[h?-l[d]:l[d]];h?o[Xt]>>13<o[Aa]>>16&&(3&o[Xt])===s&&(o[Xt]+=8192,Gi(E,m)):Gi(E,m)}const Rs=-1;class qn{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ho(o){return o!==Rs}function Lt(o){return 32767&o}function Ku(o,s){let l=function z_(o){return o>>16}(o),d=s;for(;l>0;)d=d[No],l--;return d}let bc=!0;function ss(o){const s=bc;return bc=o,s}const rr=255,Up=5;let ml=0;const as={};function Yu(o,s){const l=ea(o,s);if(-1!==l)return l;const d=s[nt];d.firstCreatePass&&(o.injectorIndex=s.length,Js(d.data,o),Js(s,null),Js(d.blueprint,null));const h=Uh(o,s),m=o.injectorIndex;if(Ho(h)){const y=Lt(h),E=Ku(h,s),C=E[nt].data;for(let I=0;I<8;I++)s[m+I]=E[y+I]|C[y+I]}return s[m+8]=h,m}function Js(o,s){o.push(0,0,0,0,0,0,0,0,s)}function ea(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Uh(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=Hh(h),null===d)return Rs;if(l++,h=h[No],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Rs}function ls(o,s,l){!function Zu(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(le)&&(d=l[le]),null==d&&(d=l[le]=ml++);const h=d&rr;s.data[o+(h>>Up)]|=1<<h}(o,s,l)}function wc(o,s,l){if(l&dt.Optional||void 0!==o)return o;Tt()}function Xu(o,s,l,d){if(l&dt.Optional&&void 0===d&&(d=null),!(l&(dt.Self|dt.Host))){const h=o[Hi],m=yt(void 0);try{return h?h.get(s,d,l&dt.Optional):An(s,d,l&dt.Optional)}finally{yt(m)}}return wc(d,0,l)}function ks(o,s,l,d=dt.Default,h){if(null!==o){if(2048&s[Xt]&&!(d&dt.Self)){const y=function Ju(o,s,l,d,h){let m=o,y=s;for(;null!==m&&null!==y&&2048&y[Xt]&&!(512&y[Xt]);){const E=vo(m,y,l,d|dt.Self,as);if(E!==as)return E;let C=m.parent;if(!C){const I=y[oc];if(I){const k=I.get(l,as,d);if(k!==as)return k}C=Hh(y),y=y[No]}m=C}return h}(o,s,l,d,as);if(y!==as)return y}const m=vo(o,s,l,d,as);if(m!==as)return m}return Xu(s,l,d,h)}function vo(o,s,l,d,h){const m=function Qu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(le)?o[le]:void 0;return"number"==typeof s?s>=0?s&rr:Pa:s}(l);if("function"==typeof m){if(!Ms(s,o,d))return d&dt.Host?wc(h,0,d):Xu(s,l,d,h);try{const y=m(d);if(null!=y||d&dt.Optional)return y;Tt()}finally{Y0()}}else if("number"==typeof m){let y=null,E=ea(o,s),C=Rs,I=d&dt.Host?s[si][Ni]:null;for((-1===E||d&dt.SkipSelf)&&(C=-1===E?Uh(o,s):s[E+8],C!==Rs&&qi(d,!1)?(y=s[nt],E=Lt(C),s=Ku(C,s)):E=-1);-1!==E;){const k=s[nt];if(Tn(m,E,k.data)){const F=Ec(E,s,l,y,d,I);if(F!==as)return F}C=s[E+8],C!==Rs&&qi(d,s[nt].data[E+8]===I)&&Tn(m,E,s)?(y=k,E=Lt(C),s=Ku(C,s)):E=-1}}return h}function Ec(o,s,l,d,h,m){const y=s[nt],E=y.data[o+8],k=Ii(E,y,l,null==d?ts(E)&&bc:d!=y&&0!=(3&E.type),h&dt.Host&&m===E);return null!==k?cs(s,y,k,E):as}function Ii(o,s,l,d,h){const m=o.providerIndexes,y=s.data,E=1048575&m,C=o.directiveStart,k=m>>20,W=h?E+k:o.directiveEnd;for(let ie=d?E:E+k;ie<W;ie++){const Ae=y[ie];if(ie<C&&l===Ae||ie>=C&&Ae.type===l)return ie}if(h){const ie=y[C];if(ie&&nr(ie)&&ie.type===l)return C}return null}function cs(o,s,l,d){let h=o[l];const m=s.data;if(function It(o){return o instanceof qn}(h)){const y=h;y.resolving&&function He(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new se(-200,`Circular dependency in DI detected for ${o}${l}`)}(function De(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}(m[l]));const E=ss(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?yt(y.injectImpl):null;Ms(o,d,dt.Default);try{h=o[l]=y.factory(void 0,m,o,d),s.firstCreatePass&&l>=d.directiveStart&&function ew(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(d){const y=A_(s);(l.preOrderHooks??=[]).push(o,y),(l.preOrderCheckHooks??=[]).push(o,y)}h&&(l.preOrderHooks??=[]).push(0-o,h),m&&((l.preOrderHooks??=[]).push(o,m),(l.preOrderCheckHooks??=[]).push(o,m))}(l,m[l],s)}finally{null!==C&&yt(C),ss(E),y.resolving=!1,Y0()}}return h}function Tn(o,s,l){return!!(l[s+(o>>Up)]&1<<o)}function qi(o,s){return!(o&dt.Self||o&dt.Host&&s)}class bi{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return ks(this._tNode,this._lView,s,z(d),l)}}function Pa(){return new bi(ir(),je())}function Si(o){return vt(()=>{const s=o.prototype.constructor,l=s[jt]||Ti(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[jt]||Ti(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ti(o){return Je(o)?()=>{const s=Ti(Be(o));return s&&s()}:Ra(o)}function Hh(o){const s=o[nt],l=s.type;return 2===l?s.declTNode:1===l?o[Ni]:null}function Cc(o){return function gl(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(At(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===s)return l[h+1];h+=2}}}return null}(ir(),o)}const eo="__parameters__";function zo(o,s,l){return vt(()=>{const d=function ed(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return E.annotation=y,E;function E(C,I,k){const F=C.hasOwnProperty(eo)?C[eo]:Object.defineProperty(C,eo,{value:[]})[eo];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function _l(o,s){o.forEach(l=>Array.isArray(l)?_l(l,s):s(l))}function Gp(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function Sc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Tc(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function an(o,s,l){let d=yl(o,s);return d>=0?o[1|d]=l:(d=~d,function nd(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function Fa(o,s){const l=yl(o,s);if(l>=0)return o[1|l]}function yl(o,s){return function Wp(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const m=d+(h-d>>1),y=o[m<<l];if(s===y)return m<<l;y>s?h=m:d=m+1}return~(h<<l)}(o,s,1)}const La=K(zo("Optional"),8),Oc=K(zo("SkipSelf"),4);function cd(o){return 128==(128&o.flags)}var us=(()=>((us=us||{})[us.Important=1]="Important",us[us.DashCase=2]="DashCase",us))();const om=/^>|^->|<!--|-->|--!>|<!-$/g,J_=/(<|>)/,ey="\u200b$1\u200b";const qh=new Map;let Bc=0;const ds="__ngContext__";function Wi(o,s){Pi(s)?(o[ds]=s[Fo],function ty(o){qh.set(o[Fo],o)}(s)):o[ds]=s}let $c;function hs(o,s){return $c(o,s)}function Tl(o){const s=o[Ln];return $i(s)?s[Ln]:s}function Zh(o){return Al(o[ji])}function Ir(o){return Al(o[Xr])}function Al(o){for(;null!==o&&!$i(o);)o=o[Xr];return o}function Ps(o,s,l,d,h){if(null!=d){let m,y=!1;$i(d)?m=d:Pi(d)&&(y=!0,d=d[oi]);const E=Bn(d);0===o&&null!==l?null==h?$e(s,l,E):ee(s,l,E,h||null,!0):1===o&&null!==l?ee(s,l,E,h||null,!0):2===o?function Zc(o,s,l){const d=Zn(o,s);d&&function lt(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,E,y):3===o&&s.destroyNode(E),null!=m&&function md(o,s,l,d,h){const m=l[tr];m!==Bn(l)&&Ps(s,o,d,m,h);for(let E=zi;E<l.length;E++){const C=l[E];Yc(C[nt],C,o,s,d,m)}}(s,o,m,l,h)}}function oa(o,s){return o.createComment(function sm(o){return o.replace(om,s=>s.replace(J_,ey))}(s))}function Ml(o,s,l){return o.createElement(s,l)}function ry(o,s){const l=o[es],d=l.indexOf(s);Ih(s),l.splice(d,1)}function v(o,s){if(o.length<=zi)return;const l=zi+s,d=o[l];if(d){const h=d[Po];null!==h&&h!==o&&ry(h,d),s>0&&(o[l-1][Xr]=d[Xr]);const m=Sc(o,zi+s);!function um(o,s){Yc(o,s,s[Kt],2,null,null),s[oi]=null,s[Ni]=null}(d[nt],d);const y=m[kr];null!==y&&y.detachView(m[nt]),d[Ln]=null,d[Xr]=null,d[Xt]&=-129}return d}function p(o,s){if(!(256&s[Xt])){const l=s[Kt];s[sc]?.destroy(),s[ac]?.destroy(),l.destroyNode&&Yc(o,s,l,3,null,null),function lw(o){let s=o[ji];if(!s)return g(o[nt],o);for(;s;){let l=null;if(Pi(s))l=s[ji];else{const d=s[zi];d&&(l=d)}if(!l){for(;s&&!s[Xr]&&s!==o;)Pi(s)&&g(s[nt],s),s=s[Ln];null===s&&(s=o),Pi(s)&&g(s[nt],s),l=s&&s[Xr]}s=l}}(s)}}function g(o,s){if(!(256&s[Xt])){s[Xt]&=-129,s[Xt]|=256,function x(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof qn)){const m=l[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const E=h[m[y]],C=m[y+1];is(4,E,C);try{C.call(E)}finally{is(5,E,C)}}else{is(4,h,m);try{m.call(h)}finally{is(5,h,m)}}}}}(o,s),function b(o,s){const l=o.cleanup,d=s[go];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+3];y>=0?d[y]():d[-y].unsubscribe(),m+=2}else l[m].call(d[l[m+1]]);null!==d&&(s[go]=null);const h=s[Or];if(null!==h){s[Or]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,s),1===s[nt].type&&s[Kt].destroy();const l=s[Po];if(null!==l&&$i(s[Ln])){l!==s[Ln]&&ry(l,s);const d=s[kr];null!==d&&d.detachView(o)}!function Uc(o){qh.delete(o[Fo])}(s)}}function M(o,s,l){return function G(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[oi];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===_e.None||m===_e.Emulated)return null}return Lr(d,l)}}(o,s.parent,l)}function ee(o,s,l,d,h){o.insertBefore(s,l,d,h)}function $e(o,s,l){o.appendChild(s,l)}function Ye(o,s,l,d,h){null!==d?ee(o,s,l,d,h):$e(o,s,l)}function Zn(o,s){return o.parentNode(s)}function Fs(o,s,l){return fd(o,s,l)}let sa,fm,_d,Jh,fd=function Yh(o,s,l){return 40&o.type?Lr(o,l):null};function Rl(o,s,l,d){const h=M(o,d,s),m=s[Kt],E=Fs(d.parent||s[Ni],d,s);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)Ye(m,h,l[C],E,!1);else Ye(m,h,l,E,!1);void 0!==sa&&sa(m,d,s,l,h)}function kl(o,s){if(null!==s){const l=s.type;if(3&l)return Lr(s,o);if(4&l)return Kc(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return kl(o,d);{const h=o[s.index];return $i(h)?Kc(-1,h):Bn(h)}}if(32&l)return hs(s,o)()||Bn(o[s.index]);{const d=Xh(o,s);return null!==d?Array.isArray(d)?d[0]:kl(Tl(o[si]),d):kl(o,s.next)}}return null}function Xh(o,s){return null!==s?o[si][Ni].projection[s.projection]:null}function Kc(o,s){const l=zi+o+1;if(l<s.length){const d=s[l],h=d[nt].firstChild;if(null!==h)return kl(d,h)}return s[tr]}function pd(o,s,l,d,h,m,y){for(;null!=l;){const E=d[l.index],C=l.type;if(y&&0===s&&(E&&Wi(Bn(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)pd(o,s,l.child,d,h,m,!1),Ps(s,o,h,E,m);else if(32&C){const I=hs(l,d);let k;for(;k=I();)Ps(s,o,h,k,m);Ps(s,o,h,E,m)}else 16&C?Qh(o,s,d,l,h,m):Ps(s,o,h,E,m);l=y?l.projectionNext:l.next}}function Yc(o,s,l,d,h,m){pd(l,d,o.firstChild,s,h,m,!1)}function Qh(o,s,l,d,h,m){const y=l[si],C=y[Ni].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Ps(s,o,h,C[I],m);else{let I=C;const k=y[Ln];cd(d)&&(I.flags|=128),pd(o,s,I,k,h,m,!0)}}function dw(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function hw(o,s,l){const{mergedAttrs:d,classes:h,styles:m}=l;null!==d&&mt(o,s,d),null!==h&&dw(o,s,h),null!==m&&function pS(o,s,l){o.setAttribute(s,"style",l)}(o,s,m)}function gd(o){return function oy(){if(void 0===fm&&(fm=null,ln.trustedTypes))try{fm=ln.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return fm}()?.createHTML(o)||o}function fw(o){_d=o}function pm(o){return function sy(){if(void 0===Jh&&(Jh=null,ln.trustedTypes))try{Jh=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Jh}()?.createScriptURL(o)||o}class Xc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${St})`}}class ay extends Xc{getTypeName(){return"HTML"}}class gw extends Xc{getTypeName(){return"Style"}}class vS extends Xc{getTypeName(){return"Script"}}class bS extends Xc{getTypeName(){return"URL"}}class wS extends Xc{getTypeName(){return"ResourceURL"}}function Ha(o){return o instanceof Xc?o.changingThisBreaksApplicationSecurity:o}function ja(o,s){const l=function ES(o){return o instanceof Xc&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${St})`)}return l===s}function CS(o){return new ay(o)}function DS(o){return new gw(o)}function xS(o){return new vS(o)}function IS(o){return new bS(o)}function SS(o){return new wS(o)}class tP{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(gd(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class _w{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const l=this.inertDocument.createElement("template");return l.innerHTML=gd(s),l}}const TS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mm(o){return(o=String(o)).match(TS)?o:"unsafe:"+o}function za(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function ef(...o){const s={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const vw=za("area,br,col,hr,img,wbr"),bw=za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cy=za("rp,rt"),uy=ef(vw,ef(bw,za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ef(cy,za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ef(cy,bw)),gm=za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hy=ef(gm,za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),MS=za("script,style,template");class RS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!uy.hasOwnProperty(l))return this.sanitizedSomething=!0,!MS.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,E=y.toLowerCase();if(!hy.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;gm[E]&&(C=mm(C)),this.buf.push(" ",y,'="',nf(C),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();uy.hasOwnProperty(l)&&!vw.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(nf(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const kS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OS=/([^\#-~ |!])/g;function nf(o){return o.replace(/&/g,"&amp;").replace(kS,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(OS,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _m;function Cw(o,s){let l=null;try{_m=_m||function ly(o){const s=new _w(o);return function yw(){try{return!!(new window.DOMParser).parseFromString(gd(""),"text/html")}catch{return!1}}()?new tP(s):s}(o);let d=s?String(s):"";l=_m.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=_m.getInertBodyElement(d)}while(d!==m);return gd((new RS).sanitizeChildren(no(l)||l))}finally{if(l){const d=no(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function no(o){return"content"in o&&function Dw(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Fi=(()=>((Fi=Fi||{})[Fi.NONE=0]="NONE",Fi[Fi.HTML=1]="HTML",Fi[Fi.STYLE=2]="STYLE",Fi[Fi.SCRIPT=3]="SCRIPT",Fi[Fi.URL=4]="URL",Fi[Fi.RESOURCE_URL=5]="RESOURCE_URL",Fi))();function xw(o){const s=rf();return s?s.sanitize(Fi.URL,o)||"":ja(o,"URL")?Ha(o):mm(ae(o))}function wo(o){const s=rf();if(s)return pm(s.sanitize(Fi.RESOURCE_URL,o)||"");if(ja(o,"ResourceURL"))return pm(Ha(o));throw new se(904,!1)}function fy(o,s,l){return function VS(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?wo:xw}(s,l)(o)}function rf(){const o=je();return o&&o[Oo].sanitizer}class kn{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=fn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yd=new kn("ENVIRONMENT_INITIALIZER"),BS=new kn("INJECTOR",-1),py=new kn("INJECTOR_DEF_TYPES");class la{get(s,l=tn){if(l===tn){const d=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw d.name="NullInjectorError",d}return l}}function nP(...o){return{\u0275providers:US(0,o),\u0275fromNgModule:!0}}function US(o,...s){const l=[],d=new Set;let h;return _l(s,m=>{const y=m;vm(y,l,[],d)&&(h||=[],h.push(y))}),void 0!==h&&HS(h,l),l}function HS(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];sf(h,m=>{s.push(m)})}}function vm(o,s,l,d){if(!(o=Be(o)))return!1;let h=null,m=vr(o);const y=!m&&Mt(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const C=o.ngModule;if(m=vr(C),!m)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of C)vm(I,s,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let I;d.add(h);try{_l(m.imports,k=>{vm(k,s,l,d)&&(I||=[],I.push(k))})}finally{}void 0!==I&&HS(I,s)}if(!E){const I=Ra(h)||(()=>new h);s.push({provide:h,useFactory:I,deps:Me},{provide:py,useValue:h,multi:!0},{provide:yd,useValue:()=>sn(h),multi:!0})}const C=m.providers;null==C||E||sf(C,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}function sf(o,s){for(let l of o)Ue(l)&&(l=l.\u0275providers),Array.isArray(l)?sf(l,s):s(l)}const zS=j({provide:String,useValue:j});function my(o){return null!==o&&"object"==typeof o&&zS in o}function Qc(o){return"function"==typeof o}const Sw=new kn("Set Injector scope."),_y={},GS={};let Tw;function af(){return void 0===Tw&&(Tw=new la),Tw}class Jc{}class yy extends Jc{get destroyed(){return this._destroyed}constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rw(s,y=>this.processProvider(y)),this.records.set(BS,vd(void 0,this)),h.has("environment")&&this.records.set(Jc,vd(void 0,this));const m=this.records.get(Sw);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(py.multi,Me,dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const l=In(this),d=yt(void 0);try{return s()}finally{In(l),yt(d)}}get(s,l=tn,d=dt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ne))return s[ne](this);d=z(d);const h=In(this),m=yt(void 0);try{if(!(d&dt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function ZS(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(s)&&gi(s);E=C&&this.injectableDefInScope(C)?vd(bm(s),_y):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&dt.Self?af():this.parent).get(s,l=d&dt.Optional&&l===tn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Ut]=y[Ut]||[]).unshift(oe(s)),h)throw y;return function ce(o,s,l,d){const h=o[Ut];throw s[Oi]&&h.unshift(s[Oi]),o.message=function tt(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=oe(s);if(Array.isArray(s))h=s.map(oe).join(" -> ");else if("object"==typeof s){let m=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];m.push(y+":"+("string"==typeof E?JSON.stringify(E):oe(E)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ji,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[Ut]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{yt(m),In(h)}}resolveInjectorInitializers(){const s=In(this),l=yt(void 0);try{const d=this.get(yd.multi,Me,dt.Self);for(const h of d)h()}finally{In(s),yt(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(oe(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(s){let l=Qc(s=Be(s))?s:Be(s&&s.provide);const d=function WS(o){return my(o)?vd(void 0,o.useValue):vd(Aw(o),_y)}(s);if(Qc(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=vd(void 0,_y,!0),h.factory=()=>B(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===_y&&(l.value=GS,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Mw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Be(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(s){const l=this._onDestroyHooks.indexOf(s);-1!==l&&this._onDestroyHooks.splice(l,1)}}function bm(o){const s=gi(o),l=null!==s?s.factory:Ra(o);if(null!==l)return l;if(o instanceof kn)throw new se(204,!1);if(o instanceof Function)return function qS(o){const s=o.length;if(s>0)throw Tc(s,"?"),new se(204,!1);const l=function ur(o){return o&&(o[ki]||o[po])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new se(204,!1)}function Aw(o,s,l){let d;if(Qc(o)){const h=Be(o);return Ra(h)||bm(h)}if(my(o))d=()=>Be(o.useValue);else if(function gy(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...B(o.deps||[]));else if(function $S(o){return!(!o||!o.useExisting)}(o))d=()=>sn(Be(o.useExisting));else{const h=Be(o&&(o.useClass||o.provide));if(!function KS(o){return!!o.deps}(o))return Ra(h)||bm(h);d=()=>new h(...B(o.deps))}return d}function vd(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function Rw(o,s){for(const l of o)Array.isArray(l)?Rw(l,s):l&&Ue(l)?Rw(l.\u0275providers,s):s(l)}const YS=new kn("AppId",{providedIn:"root",factory:()=>rP}),rP="ng",XS=new kn("Platform Initializer"),kw=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ca=new kn("AnimationModuleType"),wm=new kn("CSP nonce",{providedIn:"root",factory:()=>function aa(){if(void 0!==_d)return _d;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wy=(o,s)=>null;function Wo(o,s){return wy(o,s)}class Pw{}class Sy{}class aP{resolveComponentFactory(s){throw function Ol(o){const s=Error(`No component factory found for ${oe(o)}.`);return s.ngComponent=o,s}(s)}}let bd=(()=>{class o{}return o.NULL=new aP,o})();function Fw(){return wd(ir(),je())}function wd(o,s){return new Ed(Lr(o,s))}let Ed=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=Fw,o})();function aT(o){return o instanceof Ed?o.nativeElement:o}class Ay{}let lT=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function cT(){const o=je(),l=Cr(ir().index,o);return(Pi(l)?l:o)[Kt]}(),o})(),uT=(()=>{class o{}return o.\u0275prov=fn({token:o,providedIn:"root",factory:()=>null}),o})();class df{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const My=new df("16.1.1"),Tm={};function Nl(o){for(;o;){o[Xt]|=64;const s=Tl(o);if(yi(o)&&!s)return o;o=s}return null}function Mm(o){return o.ngOriginalError}class Cd{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Mm(s);for(;l&&Mm(l);)l=Mm(l);return l||null}}const Vw=new kn("",{providedIn:"root",factory:()=>!1});function da(o){return o instanceof Function?o():o}class $w extends Nr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Nl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,l,d){const h=Pt(this);this.trackingVersion++;try{s(l,d)}finally{Pt(h)}}destroy(){this.trackingVersion++}}let Om=null;function Gt(){return Om??=new $w,Om}function Gw(o,s){return o[s]??Gt()}function Ny(o,s){const l=Gt();l.hasReadASignal&&(o[s]=Om,l.lView=o,Om=new $w)}const nn={};function qw(o){fs(En(),je(),Vr()+o,!1)}function fs(o,s,l,d){if(!d)if(3==(3&s[Xt])){const m=o.preOrderCheckHooks;null!==m&&qu(s,m,l)}else{const m=o.preOrderHooks;null!==m&&Fh(s,m,0,l)}pl(l)}function ha(o,s=null,l=null,d){const h=mT(o,s,l,d);return h.resolveInjectorInitializers(),h}function mT(o,s=null,l=null,d,h=new Set){const m=[l||Me,nP(o)];return d=d||("object"==typeof o?void 0:oe(o)),new yy(m,s||af(),d||null,h)}let Pl=(()=>{class o{static create(l,d){if(Array.isArray(l))return ha({name:""},d,l,"");{const h=l.name??"";return ha({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=tn,o.NULL=new la,o.\u0275prov=fn({token:o,providedIn:"any",factory:()=>sn(BS)}),o.__NG_ELEMENT_ID__=-1,o})();function xd(o,s=dt.Default){const l=je();return null===l?sn(o,s):ks(ir(),l,Be(o),s)}function Kw(){throw new Error("invalid")}function Id(o,s,l,d,h,m,y,E,C,I,k){const F=s.blueprint.slice();return F[oi]=h,F[Xt]=140|d,(null!==I||o&&2048&o[Xt])&&(F[Xt]|=2048),Ap(F),F[Ln]=F[No]=o,F[Wn]=l,F[Oo]=y||o&&o[Oo],F[Kt]=E||o&&o[Kt],F[Hi]=C||o&&o[Hi]||null,F[Ni]=m,F[Fo]=function am(){return Bc++}(),F[er]=k,F[oc]=I,F[si]=2==s.type?o[si]:F,F}function iu(o,s,l,d,h){let m=o.data[s];if(null===m)m=function Fy(o,s,l,d,h){const m=As(),y=ul(),C=o.data[s]=function pP(o,s,l,d,h,m){let y=s?s.injectorIndex:-1,E=0;return Ts()&&(E|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=C),null!==m&&(y?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C,C.prev=m)),C}(o,s,l,d,h),function Fp(){return $t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const y=function mc(){const o=$t.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return rs(m,!0),m}function pf(o,s,l,d){if(0===l)return-1;const h=s.length;for(let m=0;m<l;m++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function Zw(o,s,l,d,h){const m=Gw(s,sc),y=Vr(),E=2&d;try{if(pl(-1),E&&s.length>Zt&&fs(o,s,Zt,!1),is(E?2:0,h),E)m.runInContext(l,d,h);else{const I=Pt(null);try{l(d,h)}finally{Pt(I)}}}finally{E&&null===s[sc]&&Ny(s,sc),pl(y),is(E?3:1,h)}}function Fm(o,s,l){if(Ma(s)){const d=Pt(null);try{const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,l[y],y)}}finally{Pt(d)}}}function ru(o,s,l){kp()&&(function eE(o,s,l,d){const h=l.directiveStart,m=l.directiveEnd;ts(l)&&function gf(o,s,l){const d=Lr(s,o),h=Vy(l);let y=16;l.signals?y=4096:l.onPush&&(y=64);const E=Sd(o,Id(o,h,null,y,d,s,null,o[Oo].rendererFactory.createRenderer(d,l),null,null,null));o[s.index]=E}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||Yu(l,s),Wi(d,s);const y=l.initialInputs;for(let E=h;E<m;E++){const C=o.data[E],I=cs(s,o,E,l);Wi(I,s),null!==y&&xT(0,E-h,I,C,0,y),nr(C)&&(Cr(l.index,s)[Wn]=cs(s,o,E,l))}}(o,s,l,Lr(l,s)),64==(64&l.flags)&&Um(o,s,l))}function Ly(o,s,l=Lr){const d=s.localNames;if(null!==d){let h=s.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],E=-1===y?l(s,o):o[y];o[h++]=E}}}function Vy(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=By(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function By(o,s,l,d,h,m,y,E,C,I,k){const F=Zt+d,W=F+h,ie=function _T(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:nn);return l}(F,W),Ae="function"==typeof I?I():I;return ie[nt]={type:o,blueprint:ie,template:l,queries:null,viewQuery:E,declTNode:s,data:ie.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Ae,incompleteFirstPass:!1,ssrId:k}}let Lm=o=>null;function Xw(o,s,l,d){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const m=o[h];null===d?Qw(l,s,h,m):d.hasOwnProperty(h)&&Qw(l,s,d[h],m)}return l}function Qw(o,s,l,d){o.hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}function Ko(o,s,l,d,h,m,y,E){const C=Lr(s,l);let k,I=s.inputs;!E&&null!=I&&(k=I[d])?(ou(o,l,k,d,h),ts(s)&&function wT(o,s){const l=Cr(s,o);16&l[Xt]||(l[Xt]|=64)}(l,s.index)):3&s.type&&(d=function bT(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,s.value||"",d):h,m.setProperty(C,d,h))}function Hy(o,s,l,d){if(kp()){const h=null===d?null:{"":-1},m=function gP(o,s){const l=o.directiveRegistry;let d=null,h=null;if(l)for(let m=0;m<l.length;m++){const y=l[m];if(Er(s,y.selectors,!1))if(d||(d=[]),nr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Fl(o,s,E.length)}else d.unshift(y),Fl(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,l);let y,E;null===m?y=E=null:[y,E]=m,null!==y&&Jw(o,s,l,y,h,E),h&&function tE(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=l[s[h+1]];if(null==m)throw new se(-301,!1);d.push(s[h],m)}}}(l,d,h)}l.mergedAttrs=un(l.mergedAttrs,l.attrs)}function Jw(o,s,l,d,h,m){for(let I=0;I<d.length;I++)ls(Yu(l,s),o,d[I].type);!function mf(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,d.length);for(let I=0;I<d.length;I++){const k=d[I];k.providersResolver&&k.providersResolver(k)}let y=!1,E=!1,C=pf(o,s,d.length,null);for(let I=0;I<d.length;I++){const k=d[I];l.mergedAttrs=un(l.mergedAttrs,k.hostAttrs),DT(o,l,s,C,k),nE(C,k,h),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const F=k.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),y=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),E=!0),C++}!function Bm(o,s,l){const h=s.directiveEnd,m=o.data,y=s.attrs,E=[];let C=null,I=null;for(let k=s.directiveStart;k<h;k++){const F=m[k],W=l?l.get(F):null,Ae=W?W.outputs:null;C=Xw(F.inputs,k,C,W?W.inputs:null),I=Xw(F.outputs,k,I,Ae);const Oe=null===C||null===y||mo(s)?null:jy(C,k,y);E.push(Oe)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=C,s.outputs=I}(o,l,m)}function Um(o,s,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,y=function Hu(){return $t.lFrame.currentDirectiveIndex}();try{pl(m);for(let E=d;E<h;E++){const C=o.data[E],I=s[E];fl(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&gr(C,I)}}finally{pl(-1),fl(y)}}function gr(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Fl(o,s,l){s.componentOffset=l,(o.components??=[]).push(s.index)}function nE(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;nr(s)&&(l[""]=o)}}function DT(o,s,l,d,h){o.data[d]=h;const m=h.factory||(h.factory=Ra(h.type)),y=new qn(m,nr(h),xd);o.blueprint[d]=y,l[d]=y,function ET(o,s,l,d,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~s.index;(function CT(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,d,m)}}(o,s,d,pf(o,l,h.hostVars,nn),h)}function Zo(o,s,l,d,h,m){const y=Lr(o,s);!function $a(o,s,l,d,h,m,y){if(null==m)o.removeAttribute(s,h,l);else{const E=null==y?ae(m):y(m,d||"",h);o.setAttribute(s,h,E,l)}}(s[Kt],y,m,o.value,l,d,h)}function xT(o,s,l,d,h,m){const y=m[s];if(null!==y)for(let E=0;E<y.length;)IT(d,l,y[E++],y[E++],y[E++])}function IT(o,s,l,d,h){const m=Pt(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(s,h)),null!==o.setInput?o.setInput(s,h,l,d):s[d]=h}finally{Pt(m)}}function jy(o,s,l){let d=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const y=o[m];for(let E=0;E<y.length;E+=2)if(y[E]===s){d.push(m,y[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function iE(o,s,l,d){return[o,!0,!1,s,null,0,d,l,null,null,null]}function rE(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d+1];if(-1!==m){const y=o.data[m];gc(l[d]),y.contentQueries(2,s[m],m)}}}function Sd(o,s){return o[ji]?o[rc][Xr]=s:o[ji]=s,o[rc]=s,s}function fa(o,s,l){gc(0);const d=Pt(null);try{s(o,l)}finally{Pt(d)}}function sE(o){return o[go]||(o[go]=[])}function aE(o){return o.cleanup||(o.cleanup=[])}function cE(o,s){const l=o[Hi],d=l?l.get(Cd,null):null;d&&d.handleError(s)}function ou(o,s,l,d,h){for(let m=0;m<l.length;){const y=l[m++],E=l[m++];IT(o.data[y],s[y],d,E,h)}}function _f(o,s){const l=Cr(s,o),d=l[nt];!function _P(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])}(d,l);const h=l[oi];null!==h&&null===l[er]&&(l[er]=Wo(h,l[Hi])),uE(d,l,l[Wn])}function uE(o,s,l){_c(s);try{const d=o.viewQuery;null!==d&&fa(1,d,l);const h=o.template;null!==h&&Zw(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&rE(o,s),o.staticViewQueries&&fa(2,o.viewQuery,l);const m=o.components;null!==m&&function yP(o,s){for(let l=0;l<s.length;l++)_f(o,s[l])}(s,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Xt]&=-5,Oa()}}let dE=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(l,d,h){const m=typeof Zone>"u"?null:Zone.current,y=new Ip(l,I=>{this.all.has(I)&&this.queue.set(I,m)},h);let E;this.all.add(y),y.notify();const C=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[l,d]of this.queue)this.queue.delete(l),d?d.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=fn({token:o,providedIn:"root",factory:()=>new o}),o})();function zy(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,m=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?m=E:1==m?h=Se(h,E):2==m&&(d=Se(d,E+": "+s[++y]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function yf(o,s,l,d,h=!1){for(;null!==l;){const m=s[l.index];if(null!==m&&d.push(Bn(m)),$i(m)){for(let E=zi;E<m.length;E++){const C=m[E],I=C[nt].firstChild;null!==I&&yf(C[nt],C,I,d)}m[tr]!==m[oi]&&d.push(m[tr])}const y=l.type;if(8&y)yf(o,s,l.child,d);else if(32&y){const E=hs(l,s);let C;for(;C=E();)d.push(C)}else if(16&y){const E=Xh(s,l);if(Array.isArray(E))d.push(...E);else{const C=Tl(s[si]);yf(C[nt],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}function Td(o,s,l,d=!0){const h=s[Oo].rendererFactory;h.begin&&h.begin();try{TT(o,s,o.template,l)}catch(y){throw d&&cE(s,y),y}finally{h.end&&h.end(),s[Oo].effectManager?.flush()}}function TT(o,s,l,d){const h=s[Xt];if(256!=(256&h)){s[Oo].effectManager?.flush(),_c(s);try{Ap(s),function Th(o){return $t.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Zw(o,s,l,2,d);const y=3==(3&h);if(y){const I=o.preOrderCheckHooks;null!==I&&qu(s,I,null)}else{const I=o.preOrderHooks;null!==I&&Fh(s,I,0,null),Vp(s,0)}if(function EP(o){for(let s=Zh(o);null!==s;s=Ir(s)){if(!s[Lo])continue;const l=s[es];for(let d=0;d<l.length;d++){F_(l[d])}}}(s),AT(s,2),null!==o.contentQueries&&rE(o,s),y){const I=o.contentCheckHooks;null!==I&&qu(s,I)}else{const I=o.contentHooks;null!==I&&Fh(s,I,1),Vp(s,1)}!function gT(o,s){const l=o.hostBindingOpCodes;if(null===l)return;const d=Gw(s,ac);try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)pl(~m);else{const y=m,E=l[++h],C=l[++h];Ah(E,y),d.runInContext(C,2,s[y])}}}finally{null===s[ac]&&Ny(s,ac),pl(-1)}}(o,s);const E=o.components;null!==E&&RT(s,E,0);const C=o.viewQuery;if(null!==C&&fa(2,C,d),y){const I=o.viewCheckHooks;null!==I&&qu(s,I)}else{const I=o.viewHooks;null!==I&&Fh(s,I,2),Vp(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Xt]&=-73,Ih(s)}finally{Oa()}}}function AT(o,s){for(let l=Zh(o);null!==l;l=Ir(l))for(let d=zi;d<l.length;d++)MT(l[d],s)}function CP(o,s,l){MT(Cr(s,o),l)}function MT(o,s){if(!function N_(o){return 128==(128&o[Xt])}(o))return;const l=o[nt];if(80&o[Xt]&&0===s||1024&o[Xt]||2===s)TT(l,o,l.template,o[Wn]);else if(o[ko]>0){AT(o,1);const h=o[nt].components;null!==h&&RT(o,h,1)}}function RT(o,s,l){for(let d=0;d<s.length;d++)CP(o,s[d],l)}class Hm{get rootNodes(){const s=this._lView,l=s[nt];return yf(l,s,l.firstChild,[])}constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(s){this._lView[Wn]=s}get destroyed(){return 256==(256&this._lView[Xt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Ln];if($i(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(v(s,d),Sc(l,d))}this._attachedToViewContainer=!1}p(this._lView[nt],this._lView)}onDestroy(s){!function cl(o,s){if(256==(256&o[Xt]))throw new se(911,!1);null===o[Or]&&(o[Or]=[]),o[Or].push(s)}(this._lView,s)}markForCheck(){Nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Xt]&=-129}reattach(){this._lView[Xt]|=128}detectChanges(){Td(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dm(o,s){Yc(o,s,s[Kt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=s}}class hE extends Hm{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Td(s[nt],s,s[Wn],!1)}checkNoChanges(){}get context(){return null}}class jm extends bd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Mt(s);return new zm(l,this.ngModule)}}function fE(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class DP{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=z(d);const h=this.injector.get(s,Tm,d);return h!==Tm||l===Tm?h:this.parentInjector.get(s,l,d)}}class zm extends Sy{get inputs(){return fE(this.componentDef.inputs)}get outputs(){return fE(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function nl(o){return o.map(Mo).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,d,h){let m=(h=h||this.ngModule)instanceof Jc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new DP(s,m):s,E=y.get(Ay,null);if(null===E)throw new se(407,!1);const k={rendererFactory:E,sanitizer:y.get(uT,null),effectManager:y.get(dE,null)},F=E.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ie=d?function fP(o,s,l,d){const m=d.get(Vw,!1)||l===_e.ShadowDom,y=o.selectRootElement(s,m);return function yT(o){Lm(o)}(y),y}(F,d,this.componentDef.encapsulation,y):Ml(F,W,function Vs(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),it=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ot=By(0,null,null,1,0,null,null,null,null,null,null),Ne=Id(null,Ot,null,it,null,null,k,F,y,null,null);let rn,Cn;_c(Ne);try{const xn=this.componentDef;let jr,jd=null;xn.findHostDirectiveDefs?(jr=[],jd=new Map,xn.findHostDirectiveDefs(xn,jr,jd),jr.push(xn)):jr=[xn];const kR=function IP(o,s){const l=o[nt],d=Zt;return o[d]=s,iu(l,d,2,"#host",null)}(Ne,ie),QL=function SP(o,s,l,d,h,m,y){const E=h[nt];!function $y(o,s,l,d){for(const h of o)s.mergedAttrs=un(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(zy(s,s.mergedAttrs,!0),null!==l&&hw(d,l,s))}(d,o,s,y);let C=null;null!==s&&(C=Wo(s,h[Hi]));const I=m.rendererFactory.createRenderer(s,l);let k=16;l.signals?k=4096:l.onPush&&(k=64);const F=Id(h,Vy(l),null,k,h[o.index],o,m,I,null,null,C);return E.firstCreatePass&&Fl(E,o,d.length-1),Sd(h,F),h[o.index]=F}(kR,ie,xn,jr,Ne,k,F);Cn=al(Ot,Zt),ie&&function pE(o,s,l,d){if(d)mt(o,l,["ng-version",My.full]);else{const{attrs:h,classes:m}=function Sa(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++d]):8===h&&l.push(m);else{if(!Ui(h))break;h=m}d++}return{attrs:s,classes:l}}(s.selectors[0]);h&&mt(o,l,h),m&&m.length>0&&dw(o,l,m.join(" "))}}(F,xn,ie,d),void 0!==l&&function kT(o,s,l){const d=o.projection=[];for(let h=0;h<s.length;h++){const m=l[h];d.push(null!=m?Array.from(m):null)}}(Cn,this.ngContentSelectors,l),rn=function Gy(o,s,l,d,h,m){const y=ir(),E=h[nt],C=Lr(y,h);Jw(E,h,y,l,null,d);for(let k=0;k<l.length;k++)Wi(cs(h,E,y.directiveStart+k,y),h);Um(E,h,y),C&&Wi(C,h);const I=cs(h,E,y.directiveStart+y.componentOffset,y);if(o[Wn]=h[Wn]=I,null!==m)for(const k of m)k(I,s);return Fm(E,y,o),I}(QL,xn,jr,jd,Ne,[qy]),uE(Ot,Ne,null)}finally{Oa()}return new xP(this.componentType,rn,wd(Cn,Ne),Ne,Cn)}}class xP extends Pw{constructor(s,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new hE(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),l))return;const m=this._rootLView;ou(m[nt],m,h,s,l),this.previousInputValues.set(s,l),Nl(Cr(this._tNode.index,m))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function qy(){const o=ir();Ph(je()[nt],o)}function Wy(o){let s=function OT(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(nr(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new se(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const y=o;y.inputs=Ky(o.inputs),y.inputTransforms=Ky(o.inputTransforms),y.declaredInputs=Ky(o.declaredInputs),y.outputs=Ky(o.outputs);const E=h.hostBindings;E&&MP(o,E);const C=h.viewQuery,I=h.contentQueries;if(C&&AP(o,C),I&&Zy(o,I),$(o.inputs,h.inputs),$(o.declaredInputs,h.declaredInputs),$(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),$(y.inputTransforms,h.inputTransforms)),nr(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const E=m[y];E&&E.ngInherit&&E(o),E===Wy&&(l=!1)}}s=Object.getPrototypeOf(s)}!function TP(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=un(h.hostAttrs,l=un(l,h.hostAttrs))}}(d)}function Ky(o){return o===Ce?{}:o===Me?[]:o}function AP(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function Zy(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,m)=>{s(d,h,m),l(d,h,m)}:s}function MP(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}function Yy(o){const s=o.inputConfig,l={};for(const d in s)if(s.hasOwnProperty(d)){const h=s[d];Array.isArray(h)&&h[2]&&(l[d]=h[2])}o.inputTransforms=l}function Wm(o){return!!yE(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function yE(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Sr(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function au(o,s,l,d){const h=je();return Sr(h,dl(),s)&&(En(),Zo(fi(),h,o,s,l,d)),au}function qT(o,s,l,d,h,m,y,E){const C=je(),I=En(),k=o+Zt,F=I.firstCreatePass?function KP(o,s,l,d,h,m,y,E,C){const I=s.consts,k=iu(s,o,4,y||null,Is(I,E));Hy(s,l,k,Is(I,C)),Ph(s,k);const F=k.tView=By(2,k,d,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I,null);return null!==s.queries&&(s.queries.template(s,k),F.queries=s.queries.embeddedTView(k)),k}(k,I,C,s,l,d,h,m,y):I.data[k];rs(F,!1);const W=WT(I,C,F,o);yc()&&Rl(I,C,W,F),Wi(W,C),Sd(C,C[k]=iE(W,C,W,F)),Cs(F)&&ru(I,C,F),null!=y&&Ly(C,F,E)}let WT=function KT(o,s,l,d){return Na(!0),s[Kt].createComment("")};function ZT(o){return function ll(o,s){return o[s]}(function vi(){return $t.lFrame.contextLView}(),Zt+o)}function AE(o,s,l){const d=je();return Sr(d,dl(),s)&&Ko(En(),fi(),d,o,s,d[Kt],l,!1),AE}function ME(o,s,l,d,h){const y=h?"class":"style";ou(o,l,s.inputs[y],y,d)}function tv(o,s,l,d){const h=je(),m=En(),y=Zt+o,E=h[Kt],C=m.firstCreatePass?function QP(o,s,l,d,h,m){const y=s.consts,C=iu(s,o,2,d,Is(y,h));return Hy(s,l,C,Is(y,m)),null!==C.attrs&&zy(C,C.attrs,!1),null!==C.mergedAttrs&&zy(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(y,m,h,s,l,d):m.data[y],I=YT(m,h,C,E,s,o);h[y]=I;const k=Cs(C);return rs(C,!0),hw(E,I,C),32!=(32&C.flags)&&yc()&&Rl(m,h,I,C),0===function L_(){return $t.lFrame.elementDepthCount}()&&Wi(I,h),function Z0(){$t.lFrame.elementDepthCount++}(),k&&(ru(m,h,C),Fm(m,C,h)),null!==d&&Ly(h,C),tv}function nv(){let o=ir();ul()?Pp():(o=o.parent,rs(o,!1));const s=o;(function fc(o){return $t.skipHydrationRootTNode===o})(s)&&function Op(){$t.skipHydrationRootTNode=null}(),function V_(){$t.lFrame.elementDepthCount--}();const l=En();return l.firstCreatePass&&(Ph(l,o),Ma(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Vh(o){return 0!=(8&o.flags)}(s)&&ME(l,s,je(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function j_(o){return 0!=(16&o.flags)}(s)&&ME(l,s,je(),s.stylesWithoutHost,!1),nv}function RE(o,s,l,d){return tv(o,s,l,d),nv(),RE}let YT=(o,s,l,d,h,m)=>(Na(!0),Ml(d,h,function Gu(){return $t.lFrame.currentNamespace}()));function iv(o,s,l){const d=je(),h=En(),m=o+Zt,y=h.firstCreatePass?function tF(o,s,l,d,h){const m=s.consts,y=Is(m,d),E=iu(s,o,8,"ng-container",y);return null!==y&&zy(E,y,!0),Hy(s,l,E,Is(m,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(m,h,d,s,l):h.data[m];rs(y,!0);const E=XT(h,d,y,o);return d[m]=E,yc()&&Rl(h,d,E,y),Wi(E,d),Cs(y)&&(ru(h,d,y),Fm(h,y,d)),null!=l&&Ly(d,y),iv}function rv(){let o=ir();const s=En();return ul()?Pp():(o=o.parent,rs(o,!1)),s.firstCreatePass&&(Ph(s,o),Ma(o)&&s.queries.elementEnd(o)),rv}function kE(o,s,l){return iv(o,s,l),rv(),kE}let XT=(o,s,l,d)=>(Na(!0),oa(s[Kt],""));function QT(){return je()}function OE(o){return!!o&&"function"==typeof o.then}function JT(o){return!!o&&"function"==typeof o.subscribe}function NE(o,s,l,d){const h=je(),m=En(),y=ir();return function tA(o,s,l,d,h,m,y){const E=Cs(d),I=o.firstCreatePass&&aE(o),k=s[Wn],F=sE(s);let W=!0;if(3&d.type||y){const Oe=Lr(d,s),it=y?y(Oe):Oe,Ot=F.length,Ne=y?Cn=>y(Bn(Cn[d.index])):d.index;let rn=null;if(!y&&E&&(rn=function rF(o,s,l,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===l&&h[m+1]===d){const E=s[go],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof y&&(m+=2)}return null}(o,s,h,d.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=m,rn.__ngLastListenerFn__=m,W=!1;else{m=PE(d,s,k,m,!1);const Cn=l.listen(it,h,m);F.push(m,Cn),I&&I.push(h,Ne,Ot,Ot+1)}}else m=PE(d,s,k,m,!1);const ie=d.outputs;let Ae;if(W&&null!==ie&&(Ae=ie[h])){const Oe=Ae.length;if(Oe)for(let it=0;it<Oe;it+=2){const xn=s[Ae[it]][Ae[it+1]].subscribe(m),jr=F.length;F.push(m,xn),I&&I.push(h,d.index,jr,-(jr+1))}}}(m,h,h[Kt],y,o,s,d),NE}function nA(o,s,l,d){try{return is(6,s,l),!1!==l(d)}catch(h){return cE(o,h),!1}finally{is(7,s,l)}}function PE(o,s,l,d,h){return function m(y){if(y===Function)return d;Nl(o.componentOffset>-1?Cr(o.index,s):s);let C=nA(s,l,d,y),I=m.__ngNextListenerFn__;for(;I;)C=nA(s,l,I,y)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function iA(o=1){return function X0(o){return($t.lFrame.contextLView=function U_(o,s){for(;o>0;)s=s[No],o--;return s}(o,$t.lFrame.contextLView))[Wn]}(o)}function oF(o,s){let l=null;const d=function Ws(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===d?Er(o,m,!0):jn(d,m))return h}else l=h}return l}function rA(o){const s=je()[si][Ni];if(!s.projection){const d=s.projection=Tc(o?o.length:1,null),h=d.slice();let m=s.child;for(;null!==m;){const y=o?oF(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function oA(o,s=0,l){const d=je(),h=En(),m=iu(h,Zt+o,16,null,l||null);null===m.projection&&(m.projection=s),Pp(),(!d[er]||Ts())&&32!=(32&m.flags)&&function uw(o,s,l){Qh(s[Kt],0,s,l,M(o,l,s),Fs(l.parent||s[Ni],l,s))}(h,d,m)}function ov(o,s){return o<<17|s<<2}function fu(o){return o>>17&32767}function LE(o){return 2|o}function kd(o){return(131068&o)>>2}function VE(o,s){return-131069&o|s<<2}function BE(o){return 1|o}function mA(o,s,l,d,h){const m=o[l+1],y=null===s;let E=d?fu(m):kd(m),C=!1;for(;0!==E&&(!1===C||y);){const k=o[E+1];dF(o[E],s)&&(C=!0,o[E+1]=d?BE(k):LE(k)),E=d?fu(k):kd(k)}C&&(o[l+1]=d?LE(m):BE(m))}function dF(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&yl(o,s)>=0}function UE(o,s,l){return pa(o,s,l,!1),UE}function HE(o,s){return pa(o,s,null,!0),HE}function pa(o,s,l,d){const h=je(),m=En(),y=function os(o){const s=$t.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}(2);m.firstUpdatePass&&function jE(o,s,l,d){const h=o.data;if(null===h[l+1]){const m=h[Vr()],y=function EA(o,s){return s>=o.expandoStartIndex}(o,l);(function ZE(o,s){return 0!=(o.flags&(s?8:16))})(m,d)&&null===s&&!y&&(s=!1),s=function zE(o,s,l,d){const h=function Lp(o){const s=$t.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=Ef(l=Qm(null,o,s,l,d),s.attrs,d),m=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(l=Qm(h,o,s,l,d),null===m){let C=function $E(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==kd(d))return o[fu(d)]}(o,s,d);void 0!==C&&Array.isArray(C)&&(C=Qm(null,o,s,C[1],d),C=Ef(C,s.attrs,d),function GE(o,s,l,d){o[fu(l?s.classBindings:s.styleBindings)]=d}(o,s,d,C))}else m=function qE(o,s,l){let d;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)d=Ef(d,o[m].hostAttrs,l);return Ef(d,s.attrs,l)}(o,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),l}(h,m,s,d),function cF(o,s,l,d,h,m){let y=m?s.classBindings:s.styleBindings,E=fu(y),C=kd(y);o[d]=l;let k,I=!1;if(Array.isArray(l)?(k=l[1],(null===k||yl(l,k)>0)&&(I=!0)):k=l,h)if(0!==C){const W=fu(o[E+1]);o[d+1]=ov(W,E),0!==W&&(o[W+1]=VE(o[W+1],d)),o[E+1]=function aF(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=ov(E,0),0!==E&&(o[E+1]=VE(o[E+1],d)),E=d;else o[d+1]=ov(C,0),0===E?E=d:o[C+1]=VE(o[C+1],d),C=d;I&&(o[d+1]=LE(o[d+1])),mA(o,k,d,!0),mA(o,k,d,!1),function uF(o,s,l,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&yl(m,s)>=0&&(l[d+1]=BE(l[d+1]))}(s,k,o,d,m),y=ov(E,C),m?s.classBindings=y:s.styleBindings=y}(h,m,s,l,y,d)}}(m,o,y,d),s!==nn&&Sr(h,y,s)&&function Vl(o,s,l,d,h,m,y,E){if(!(3&s.type))return;const C=o.data,I=C[E+1],k=function lF(o){return 1==(1&o)}(I)?KE(C,s,l,h,kd(I),y):void 0;Jm(k)||(Jm(m)||function sF(o){return 2==(2&o)}(I)&&(m=KE(C,null,l,h,E,y)),function fS(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:us.DashCase;null==h?o.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=us.Important),o.setStyle(l,d,h,m))}}(d,y,ka(Vr(),l),h,m))}(m,m.data[Vr()],h,h[Kt],o,h[y+1]=function DA(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=oe(Ha(o)))),o}(s,l),d,y)}function Qm(o,s,l,d,h){let m=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(m=s[E],d=Ef(d,m.hostAttrs,h),m!==o);)E++;return null!==o&&(l.directiveStylingLast=E),d}function Ef(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),an(o,y,!!l||s[++m]))}return void 0===o?null:o}function KE(o,s,l,d,h,m){const y=null===s;let E;for(;h>0;){const C=o[h],I=Array.isArray(C),k=I?C[1]:C,F=null===k;let W=l[h+1];W===nn&&(W=F?Me:void 0);let ie=F?Fa(W,d):k===d?W:void 0;if(I&&!Jm(ie)&&(ie=Fa(C,d)),Jm(ie)&&(E=ie,y))return E;const Ae=o[h+1];h=y?fu(Ae):kd(Ae)}if(null!==s){let C=m?s.residualClasses:s.residualStyles;null!=C&&(E=Fa(C,d))}return E}function Jm(o){return void 0!==o}function av(o,s=""){const l=je(),d=En(),h=o+Zt,m=d.firstCreatePass?iu(d,h,1,s,null):d.data[h],y=xA(d,l,m,s,o);l[h]=y,yc()&&Rl(d,l,y,m),rs(m,!1)}let xA=(o,s,l,d,h)=>(Na(!0),function Wc(o,s){return o.createText(s)}(s[Kt],d));function XE(o){return Cf("",o,""),XE}function Cf(o,s,l){const d=je(),h=function Ad(o,s,l,d){return Sr(o,dl(),l)?s+ae(l)+d:nn}(d,o,s,l);return h!==nn&&function Ll(o,s,l){const d=ka(s,o);!function qo(o,s,l){o.setValue(s,l)}(o[Kt],d,l)}(d,Vr(),h),Cf}function dv(o,s,l){const d=je();return Sr(d,dl(),s)&&Ko(En(),fi(),d,o,s,d[Kt],l,!0),dv}const ms=void 0;var xF=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZA(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Od={};function iC(o){const s=function IF(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=rC(s);if(l)return l;const d=s.split("-")[0];if(l=rC(d),l)return l;if("en"===d)return xF;throw new se(701,!1)}function YA(o){return iC(o)[Ht.PluralCase]}function rC(o){return o in Od||(Od[o]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[o]),Od[o]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const Bl="en-US";let pv=Bl;function cg(o,s,l,d,h){if(o=Be(o),Array.isArray(o))for(let m=0;m<o.length;m++)cg(o[m],s,l,d,h);else{const m=En(),y=je();let E=Qc(o)?o:Be(o.provide),C=Aw(o);const I=ir(),k=1048575&I.providerIndexes,F=I.directiveStart,W=I.providerIndexes>>20;if(Qc(o)||!o.multi){const ie=new qn(C,h,xd),Ae=If(E,s,h?k:k+W,F);-1===Ae?(ls(Yu(I,y),m,E),ug(m,o,s.length),s.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(ie),y.push(ie)):(l[Ae]=ie,y[Ae]=ie)}else{const ie=If(E,s,k+W,F),Ae=If(E,s,k,k+W),it=Ae>=0&&l[Ae];if(h&&!it||!h&&!(ie>=0&&l[ie])){ls(Yu(I,y),m,E);const Ot=function DC(o,s,l,d,h){const m=new qn(o,l,xd);return m.multi=[],m.index=s,m.componentProviders=0,Za(m,h,d&&!l),m}(h?Ev:JF,l.length,h,d,C);!h&&it&&(l[Ae].providerFactory=Ot),ug(m,o,s.length,0),s.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(Ot),y.push(Ot)}else ug(m,o,ie>-1?ie:Ae,Za(l[h?Ae:ie],C,!h&&d));!h&&d&&it&&l[Ae].componentProviders++}}}function ug(o,s,l,d){const h=Qc(s),m=function iP(o){return!!o.useClass}(s);if(h||m){const C=(m?Be(s.useClass):s).prototype.ngOnDestroy;if(C){const I=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=I.indexOf(l);-1===k?I.push(l,[d,C]):I[k+1].push(d,C)}else I.push(l,C)}}}function Za(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function If(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function JF(o,s,l,d){return CC(this.multi,[])}function Ev(o,s,l,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=cs(l,l[nt],this.providerFactory.index,d);m=E.slice(0,y),CC(h,m);for(let C=y;C<E.length;C++)m.push(E[C])}else m=[],CC(h,m);return m}function CC(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function _M(o,s=[]){return l=>{l.providersResolver=(d,h)=>function wv(o,s,l){const d=En();if(d.firstCreatePass){const h=nr(o);cg(l,d.data,d.blueprint,h,!0),cg(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class pu{}class yM{}function xC(o,s){return new hg(o,s??null,[])}class hg extends pu{constructor(s,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jm(this);const h=ri(s);this._bootstrapComponents=da(h.bootstrap),this._r3Injector=mT(s,l,[{provide:pu,useValue:this},{provide:bd,useValue:this.componentFactoryResolver},...d],oe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Sf extends yM{constructor(s){super(),this.moduleType=s}create(s){return new hg(this.moduleType,s,[])}}class Tf extends pu{constructor(s){super(),this.componentFactoryResolver=new jm(this),this.instance=null;const l=new yy([...s.providers,{provide:pu,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],s.parent||af(),s.debugName,new Set(["environment"]));this.injector=l,s.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function fg(o,s,l=null){return new Tf({providers:o,parent:s,debugName:l,runEnvironmentInitializers:!0}).injector}let IC=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=US(0,l.type),h=d.length>0?fg([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=fn({token:o,providedIn:"environment",factory:()=>new o(sn(Jc))}),o})();function Cv(o){o.getStandaloneInjector=s=>s.get(IC).getOrCreateStandaloneInjector(o)}function HC(o){return s=>{setTimeout(o,void 0,s)}}const ga=class sL extends T.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,m=l||(()=>null),y=d;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),m=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(m=HC(m),h&&(h=HC(h)),y&&(y=HC(y)));const E=super.subscribe({next:h,error:m,complete:y});return s instanceof u.w0&&s.add(E),E}};function OM(){return this._results[Symbol.iterator]()}class Sv{get changes(){return this._changes||(this._changes=new ga)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Sv.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=OM)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=function fr(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function G_(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=s[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kf=(()=>{class o{}return o.__NG_ELEMENT_ID__=gg,o})();const aL=kf,lL=class extends aL{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l,null)}createEmbeddedViewImpl(s,l,d){const y=this._declarationTContainer.tView,E=Id(this._declarationLView,y,s,4096&this._declarationLView[Xt]?4096:16,null,y.declTNode,null,null,null,l||null,d||null);E[Po]=this._declarationLView[this._declarationTContainer.index];const I=this._declarationLView[kr];return null!==I&&(E[kr]=I.createEmbeddedView(y)),uE(y,E,s),new Hm(E)}};function gg(){return Tv(ir(),je())}function Tv(o,s){return 4&o.type?new lL(s,o,wd(o,s)):null}let Of=(()=>{class o{}return o.__NG_ELEMENT_ID__=VM,o})();function VM(){return $C(ir(),je())}const zC=Of,Av=class extends zC{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Uh(this._hostTNode,this._hostLView);if(Ho(s)){const l=Ku(s,this._hostLView),d=Lt(s);return new bi(l[nt].data[d+8],l)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=Ul(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(s,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const E=s.createEmbeddedViewImpl(l||{},m,null);return this.insertImpl(E,h,false),E}createComponent(s,l,d,h,m){const y=s&&!function to(o){return"function"==typeof o}(s);let E;if(y)E=l;else{const Oe=l||{};E=Oe.index,d=Oe.injector,h=Oe.projectableNodes,m=Oe.environmentInjector||Oe.ngModuleRef}const C=y?s:new zm(Mt(s)),I=d||this.parentInjector;if(!m&&null==C.ngModule){const it=(y?I:this.parentInjector).get(Jc,null);it&&(m=it)}Mt(C.componentType??{});const ie=C.create(I,h,null,m);return this.insertImpl(ie.hostView,E,false),ie}insert(s,l){return this.insertImpl(s,l,!1)}insertImpl(s,l,d){const h=s._lView,m=h[nt];if(function P_(o){return $i(o[Ln])}(h)){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const I=h[Ln],k=new Av(I,I[Ni],I[Ln]);k.detach(k.indexOf(s))}}const y=this._adjustIndex(l),E=this._lContainer;if(function cw(o,s,l,d){const h=zi+d,m=l.length;d>0&&(l[h-1][Xr]=s),d<m-zi?(s[Xr]=l[h],Gp(l,zi+d,s)):(l.push(s),s[Xr]=null),s[Ln]=l;const y=s[Po];null!==y&&l!==y&&function iy(o,s){const l=o[es];s[si]!==s[Ln][Ln][si]&&(o[Lo]=!0),null===l?o[es]=[s]:l.push(s)}(y,s);const E=s[kr];null!==E&&E.insertView(o),s[Xt]|=128}(m,h,E,y),!d){const C=Kc(y,E),I=h[Kt],k=Zn(I,E[tr]);null!==k&&function aw(o,s,l,d,h,m){d[oi]=h,d[Ni]=s,Yc(o,d,l,1,h,m)}(m,E[Ni],I,h,k,C)}return s.attachToViewContainerRef(),Gp(gs(E),y,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=Ul(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=v(this._lContainer,l);d&&(Sc(gs(this._lContainer),l),p(d[nt],d))}detach(s){const l=this._adjustIndex(s,-1),d=v(this._lContainer,l);return d&&null!=Sc(gs(this._lContainer),l)?new Hm(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function Ul(o){return o[8]}function gs(o){return o[8]||(o[8]=[])}function $C(o,s){let l;const d=s[o.index];return $i(d)?l=d:(l=iE(d,s,null,o),s[o.index]=l,Sd(s,l)),qC(l,s,o,d),new Av(l,o,s)}let qC=function WC(o,s,l,d){if(o[tr])return;let h;h=8&l.type?Bn(d):function GC(o,s){const l=o[Kt],d=l.createComment(""),h=Lr(s,o);return ee(l,Zn(l,h),d,function mr(o,s){return o.nextSibling(s)}(l,h),!1),d}(s,l),o[tr]=h};class _a{constructor(s){this.queryList=s,this.matches=null}clone(){return new _a(this.queryList)}setDirty(){this.queryList.setDirty()}}class yg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const y=l.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new yg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==eD(s,l).matches&&this.queries[l].setDirty()}}class Tr{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class ya{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(s,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new ya(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mv{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Mv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(s,l,KC(l,m)),this.matchTNodeWithReadOption(s,l,Ii(l,s,m,!1,!1))}else d===kf?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Ii(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ed||h===Of||h===kf&&4&l.type)this.addMatch(l.index,-2);else{const m=Ii(l,s,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function KC(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function YC(o,s,l,d){return-1===l?function ZC(o,s){return 11&o.type?wd(o,s):4&o.type?Tv(o,s):null}(s,o):-2===l?function XC(o,s,l){return l===Ed?wd(s,o):l===kf?Tv(s,o):l===Of?$C(s,o):void 0}(o,s,d):cs(o,o[nt],l,s)}function Rv(o,s,l,d){const h=s[kr].queries[d];if(null===h.matches){const m=o.data,y=l.matches,E=[];for(let C=0;C<y.length;C+=2){const I=y[C];E.push(I<0?null:YC(s,m[I],y[C+1],l.metadata.read))}h.matches=E}return h.matches}function vg(o,s,l,d){const h=o.queries.getByIndex(l),m=h.matches;if(null!==m){const y=Rv(o,s,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(y[E/2]);else{const I=m[E+1],k=s[-C];for(let F=zi;F<k.length;F++){const W=k[F];W[Po]===W[Ln]&&vg(W[nt],W,I,d)}if(null!==k[es]){const F=k[es];for(let W=0;W<F.length;W++){const ie=F[W];vg(ie[nt],ie,I,d)}}}}}return d}function kv(o){const s=je(),l=En(),d=ju();gc(d+1);const h=eD(l,d);if(o.dirty&&function W0(o){return 4==(4&o[Xt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?vg(l,s,d,[]):Rv(l,s,h,d);o.reset(m,aT),o.notifyOnChanges()}return!0}return!1}function Ov(o,s,l){const d=En();d.firstCreatePass&&(Fv(d,new Tr(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),Pv(d,je(),s)}function Nv(o,s,l,d){const h=En();if(h.firstCreatePass){const m=ir();Fv(h,new Tr(s,l,d),m.index),function JC(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}Pv(h,je(),l)}function Nf(){return function QC(o,s){return o[kr].queries[s].queryList}(je(),ju())}function Pv(o,s,l){const d=new Sv(4==(4&l));(function vT(o,s,l,d){const h=sE(s);h.push(l),o.firstCreatePass&&aE(o).push(d,h.length-1)})(o,s,d,d.destroy),null===s[kr]&&(s[kr]=new yg),s[kr].queries.push(new _a(d))}function Fv(o,s,l){null===o.queries&&(o.queries=new ya),o.queries.track(new Mv(s,l))}function eD(o,s){return o.queries.getByIndex(s)}function Lv(o,s){return Tv(o,s)}function Pf(o){return!!ri(o)}const Uf=new kn("Application Initializer");let Kv=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=pn(Uf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const h of this.appInits){const m=h();if(OE(m))l.push(m);else if(JT(m)){const y=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),uD=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ig=new kn("LocaleId",{providedIn:"root",factory:()=>pn(Ig,dt.Optional|dt.SkipSelf)||function dD(){return typeof $localize<"u"&&$localize.locale||Bl}()}),hD=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sg=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new L.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class xL{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let IL=(()=>{class o{compileModuleSync(l){return new Sf(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=da(ri(l).declarations).reduce((y,E)=>{const C=Mt(E);return C&&y.push(new zm(C)),y},[]);return new xL(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Hf=(()=>Promise.resolve(0))();function Hd(o){typeof Zone>"u"?Hf.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}function Yv(...o){}class Eo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ga(!1),this.onMicrotaskEmpty=new ga(!1),this.onStable=new ga(!1),this.onError=new ga(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function mD(){let o=ln.requestAnimationFrame,s=ln.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function AL(o){const s=()=>{!function TL(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(ln,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,gD(o),o.isCheckStableRunning=!0,Mg(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),gD(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,y,E)=>{try{return ZM(o),l.invokeTask(h,m,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),_D(o)}},onInvoke:(l,d,h,m,y,E,C)=>{try{return ZM(o),l.invoke(h,m,y,E,C)}finally{o.shouldCoalesceRunChangeDetection&&s(),_D(o)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,gD(o),Mg(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new se(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,s,KM,Yv,Yv);try{return m.runTask(y,l,d)}finally{m.cancelTask(y)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const KM={};function Mg(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function gD(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ZM(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function _D(o){o._nesting--,Mg(o)}class yD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ga,this.onMicrotaskEmpty=new ga,this.onStable=new ga,this.onError=new ga}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const vD=new kn("",{providedIn:"root",factory:Xv});function Xv(){const o=pn(Eo);let s=!0;const l=new Q.y(h=>{s=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(s),h.complete()})}),d=new Q.y(h=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),Hd(()=>{!s&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),s&&(s=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,he.T)(l,d.pipe((0,re.B)()))}const Qv=new kn(""),Jv=new kn("");let bD,YM=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bD||(function XM(o){bD=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),Hd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hd(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(sn(Eo),sn(eb),sn(Jv))},o.\u0275prov=fn({token:o,factory:o.\u0275fac}),o})(),eb=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return bD?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Xa=null;const wD=new kn("AllowMultipleToken"),Rg=new kn("PlatformDestroyListeners"),tb=new kn("appBootstrapListener");class QM{constructor(s,l){this.name=s,this.token=l}}function Og(o,s,l=[]){const d=`Platform: ${s}`,h=new kn(d);return(m=[])=>{let y=nb();if(!y||y.injector.get(wD,!1)){const E=[...l,...m,{provide:h,useValue:!0}];o?o(E):function jf(o){if(Xa&&!Xa.get(wD,!1))throw new se(400,!1);(function DD(){!function Vu(o){Lu=o}(()=>{throw new se(600,!1)})})(),Xa=o;const s=o.get(ib);(function kg(o){o.get(XS,null)?.forEach(l=>l())})(o)}(function SD(o=[],s){return Pl.create({name:s,providers:[{provide:Sw,useValue:"platform"},{provide:Rg,useValue:new Set([()=>Xa=null])},...o]})}(E,d))}return function ID(o){const s=nb();if(!s)throw new se(401,!1);return s}()}}function nb(){return Xa?.get(ib)??null}let ib=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function rb(o="zone.js",s){return"noop"===o?new yD:"zone.js"===o?new Eo(s):o}(d?.ngZone,function AD(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const m=function vM(o,s,l){return new hg(o,s,l)}(l.moduleType,this.injector,function zl(o){return[{provide:Eo,useFactory:o},{provide:yd,multi:!0,useFactory:()=>{const s=pn(kD,{optional:!0});return()=>s.initialize()}},{provide:Pg,useFactory:tR},{provide:vD,useFactory:Xv}]}(()=>h)),y=m.injector.get(Cd,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:C=>{y.handleError(C)}});m.onDestroy(()=>{Ng(this._modules,m),E.unsubscribe()})}),function MD(o,s,l){try{const d=l();return OE(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(y,h,()=>{const E=m.injector.get(Kv);return E.runInitializers(),E.donePromise.then(()=>(function ig(o){ut(o,"Expected localeId to be defined"),"string"==typeof o&&(pv=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Ig,Bl)||Bl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(l,d=[]){const h=RD({},d);return function ED(o,s,l){const d=new Sf(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(gu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new se(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Rg,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(sn(Pl))},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function RD(o,s){return Array.isArray(s)?s.reduce(RD,o):{...o,...s}}let gu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(Pg),this.zoneIsStable=pn(vD),this.componentTypes=[],this.components=[],this.isStable=pn(Sg).hasPendingTasks.pipe((0,Ve.w)(l=>l?(0,Ee.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,re.B)()),this._injector=pn(Jc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Sy;if(!this._injector.get(Kv).done)throw!h&&Qn(l),new se(405,!1);let y;y=h?l:this._injector.get(bd).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const E=function xD(o){return o.isBoundToModule}(y)?void 0:this._injector.get(pu),I=y.create(Pl.NULL,[],d||y.selector,E),k=I.location.nativeElement,F=I.injector.get(Qv,null);return F?.registerApplication(k),I.onDestroy(()=>{this.detachView(I.hostView),Ng(this.components,I),F?.unregisterApplication(k)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Ng(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(tb,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Ng(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new se(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ng(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}const Pg=new kn("",{providedIn:"root",factory:()=>pn(Cd).handleError.bind(void 0)});function tR(){const o=pn(Eo),s=pn(Cd);return l=>o.runOutsideAngular(()=>s.handleError(l))}let kD=(()=>{class o{constructor(){this.zone=pn(Eo),this.applicationRef=pn(gu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=fn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function OD(){return!1}let Fg=(()=>{class o{}return o.__NG_ELEMENT_ID__=PD,o})();function PD(o){return function oR(o,s,l){if(ts(o)&&!l){const d=Cr(o.index,s);return new Hm(d,d)}return 47&o.type?new Hm(s[si],s):null}(ir(),je(),16==(16&o))}class lb{constructor(){}supports(s){return Wm(s)}create(s){return new BL(s)}}const dR=(o,s)=>s;class BL{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dR}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const y=!d||l&&l.currentIndex<HD(d,h,m)?l:d,E=HD(y,h,m),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{m||(m=[]);const I=E-h,k=C-h;if(I!=k){for(let W=0;W<I;W++){const ie=W<m.length?m[W]:m[W]=0,Ae=ie+W;k<=Ae&&Ae<I&&(m[W]=ie+1)}m[y.previousIndex]=k-I}}E!==C&&s(y,E,C)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Wm(s))throw new se(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,y,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],y=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,m,y,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,E),d=!0),l=l._next}else h=0,function OP(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,h)):s=this._addAfter(new UL(l,d),m,h),s}_verifyReinsertion(s,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new UD),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class UL{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hR{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class UD{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new hR,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HD(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class jD{constructor(){}supports(s){return s instanceof Map||yE(s)}create(){return new fR}}class fR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||yE(s)))throw new se(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new pR(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class pR{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zD(){return new cb([new lb])}let cb=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||zD()),deps:[[o,new Oc,new La]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new se(901,!1)}}return o.\u0275prov=fn({token:o,providedIn:"root",factory:zD}),o})();function $D(){return new ub([new jD])}let ub=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||$D()),deps:[[o,new Oc,new La]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new se(901,!1)}}return o.\u0275prov=fn({token:o,providedIn:"root",factory:$D}),o})();const _R=Og(null,"core",[]);let yR=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(sn(gu))},o.\u0275mod=X({type:o}),o.\u0275inj=Yn({}),o})();function ZD(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function YD(o){const s=Mt(o);if(!s)return null;const l=new zm(s);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(Dt,xe,N)=>{N.d(xe,{Z:()=>qe});var T=N(9058),u=N(4537),L=N(534),Q=N(7879);class he{constructor(Je,Ue){this._delegate=Je,this.firebase=Ue,(0,L._addComponent)(Je,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=Je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Je){this._delegate.automaticDataCollectionEnabled=Je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Je=>{this._delegate.checkDestroyed(),Je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Je,Ue=L._DEFAULT_ENTRY_NAME){var Rt;this._delegate.checkDestroyed();const St=this._delegate.container.getProvider(Je);return!St.isInitialized()&&"EXPLICIT"===(null===(Rt=St.getComponent())||void 0===Rt?void 0:Rt.instantiationMode)&&St.initialize(),St.getImmediate({identifier:Ue})}_removeServiceInstance(Je,Ue=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Je).clearInstance(Ue)}_addComponent(Je){(0,L._addComponent)(this._delegate,Je)}_addOrOverwriteComponent(Je){(0,L._addOrOverwriteComponent)(this._delegate,Je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new T.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function pe(){const Be=function Ve(Be){const Je={},Ue={__esModule:!0,initializeApp:function se(He,et={}){const te=L.initializeApp(He,et);if((0,T.r3)(Je,te.name))return Je[te.name];const Tt=new Be(te,Ue);return Je[te.name]=Tt,Tt},app:St,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ae(He){const et=He.name,te=et.replace("-compat","");if(L._registerComponent(He)&&"PUBLIC"===He.type){const Tt=(Ze=St())=>{if("function"!=typeof Ze[te])throw re.create("invalid-app-argument",{appName:et});return Ze[te]()};void 0!==He.serviceProps&&(0,T.ZB)(Tt,He.serviceProps),Ue[te]=Tt,Be.prototype[te]=function(...Ze){return this._getService.bind(this,et).apply(this,He.multipleInstances?Ze:[])}}return"PUBLIC"===He.type?Ue[te]:null},removeApp:function Rt(He){delete Je[He]},useAsService:function De(He,et){return"serverAuth"===et?null:et},modularAPIs:L}};function St(He){if(!(0,T.r3)(Je,He=He||L._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:He});return Je[He]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function be(){return Object.keys(Je).map(He=>Je[He])}}),St.App=Be,Ue}(he);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Je(Ue){(0,T.ZB)(Be,Ue)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),Be}(),$=new Q.Yd("@firebase/app-compat");if((0,T.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=j;!function ye(Be){(0,L.registerVersion)("@firebase/app-compat","0.2.12",Be)}()},534:(Dt,xe,N)=>{N.r(xe),N.d(xe,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>An,_addOrOverwriteComponent:()=>Vi,_apps:()=>st,_clearComponents:()=>Bi,_components:()=>yt,_getProvider:()=>Xn,_registerComponent:()=>ln,_removeServiceInstance:()=>ni,deleteApp:()=>hi,getApp:()=>wr,getApps:()=>Oi,initializeApp:()=>Ji,onLog:()=>dr,registerVersion:()=>In,setLogLevel:()=>sn});var T=N(5861),u=N(4537),L=N(7879),Q=N(9058);const he=(le,ne)=>ne.some(ke=>le instanceof ke);let Ee,re;const j=new WeakMap,$=new WeakMap,oe=new WeakMap,Se=new WeakMap,ye=new WeakMap;let Je={get(le,ne,ke){if(le instanceof IDBTransaction){if("done"===ne)return $.get(le);if("objectStoreNames"===ne)return le.objectStoreNames||oe.get(le);if("store"===ne)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return se(le[ne])},set:(le,ne,ke)=>(le[ne]=ke,!0),has:(le,ne)=>le instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in le};function St(le){return"function"==typeof le?function Rt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ne){return le.apply(be(this),ne),se(j.get(this))}:function(...ne){return se(le.apply(be(this),ne))}:function(ne,...ke){const mt=le.call(be(this),ne,...ke);return oe.set(mt,ne.sort?ne.sort():[ne]),se(mt)}}(le):(le instanceof IDBTransaction&&function Be(le){if($.has(le))return;const ne=new Promise((ke,mt)=>{const At=()=>{le.removeEventListener("complete",Jt),le.removeEventListener("error",un),le.removeEventListener("abort",un)},Jt=()=>{ke(),At()},un=()=>{mt(le.error||new DOMException("AbortError","AbortError")),At()};le.addEventListener("complete",Jt),le.addEventListener("error",un),le.addEventListener("abort",un)});$.set(le,ne)}(le),he(le,function Ve(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,Je):le)}function se(le){if(le instanceof IDBRequest)return function qe(le){const ne=new Promise((ke,mt)=>{const At=()=>{le.removeEventListener("success",Jt),le.removeEventListener("error",un)},Jt=()=>{ke(se(le.result)),At()},un=()=>{mt(le.error),At()};le.addEventListener("success",Jt),le.addEventListener("error",un)});return ne.then(ke=>{ke instanceof IDBCursor&&j.set(ke,le)}).catch(()=>{}),ye.set(ne,le),ne}(le);if(Se.has(le))return Se.get(le);const ne=St(le);return ne!==le&&(Se.set(le,ne),ye.set(ne,le)),ne}const be=le=>ye.get(le),He=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],te=new Map;function Tt(le,ne){if(!(le instanceof IDBDatabase)||ne in le||"string"!=typeof ne)return;if(te.get(ne))return te.get(ne);const ke=ne.replace(/FromIndex$/,""),mt=ne!==ke,At=et.includes(ke);if(!(ke in(mt?IDBIndex:IDBObjectStore).prototype)||!At&&!He.includes(ke))return;const Jt=function(){var un=(0,T.Z)(function*(ii,...Fn){const hr=this.transaction(ii,At?"readwrite":"readonly");let mo=hr.store;return mt&&(mo=mo.index(Fn.shift())),(yield Promise.all([mo[ke](...Fn),At&&hr.done]))[0]});return function(Fn){return un.apply(this,arguments)}}();return te.set(ne,Jt),Jt}!function Ue(le){Je=le(Je)}(le=>({...le,get:(ne,ke,mt)=>Tt(ne,ke)||le.get(ne,ke,mt),has:(ne,ke)=>!!Tt(ne,ke)||le.has(ne,ke)}));class Ze{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function mi(le){const ne=le.getComponent();return"VERSION"===ne?.type}(ke)){const mt=ke.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(ke=>ke).join(" ")}}const ti="@firebase/app",fe=new L.Yd("@firebase/app"),dt="[DEFAULT]",_n={[ti]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,yt=new Map;function An(le,ne){try{le.container.addComponent(ne)}catch(ke){fe.debug(`Component ${ne.name} failed to register with FirebaseApp ${le.name}`,ke)}}function Vi(le,ne){le.container.addOrOverwriteComponent(ne)}function ln(le){const ne=le.name;if(yt.has(ne))return fe.debug(`There were multiple attempts to register component ${ne}.`),!1;yt.set(ne,le);for(const ke of st.values())An(ke,le);return!0}function Xn(le,ne){const ke=le.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),le.container.getProvider(ne)}function ni(le,ne,ke=dt){Xn(le,ne).clearInstance(ke)}function Bi(){yt.clear()}const di=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ut{constructor(ne,ke,mt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}const Rr="9.22.2";function Ji(le,ne={}){let ke=le;"object"!=typeof ne&&(ne={name:ne});const mt=Object.assign({name:dt,automaticDataCollectionEnabled:!1},ne),At=mt.name;if("string"!=typeof At||!At)throw di.create("bad-app-name",{appName:String(At)});if(ke||(ke=(0,Q.aH)()),!ke)throw di.create("no-options");const Jt=st.get(At);if(Jt){if((0,Q.vZ)(ke,Jt.options)&&(0,Q.vZ)(mt,Jt.config))return Jt;throw di.create("duplicate-app",{appName:At})}const un=new u.H0(At);for(const Fn of yt.values())un.addComponent(Fn);const ii=new Ut(ke,mt,un);return st.set(At,ii),ii}function wr(le=dt){const ne=st.get(le);if(!ne&&le===dt&&(0,Q.aH)())return Ji();if(!ne)throw di.create("no-app",{appName:le});return ne}function Oi(){return Array.from(st.values())}function hi(le){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,T.Z)(function*(le){const ne=le.name;st.has(ne)&&(st.delete(ne),yield Promise.all(le.container.getProviders().map(ke=>ke.delete())),le.isDeleted=!0)})).apply(this,arguments)}function In(le,ne,ke){var mt;let At=null!==(mt=_n[le])&&void 0!==mt?mt:le;ke&&(At+=`-${ke}`);const Jt=At.match(/\s|\//),un=ne.match(/\s|\//);if(Jt||un){const ii=[`Unable to register library "${At}" with version "${ne}":`];return Jt&&ii.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Jt&&un&&ii.push("and"),un&&ii.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void fe.warn(ii.join(" "))}ln(new u.wA(`${At}-version`,()=>({library:At,version:ne}),"VERSION"))}function dr(le,ne){if(null!==le&&"function"!=typeof le)throw di.create("invalid-log-argument");(0,L.Am)(le,ne)}function sn(le){(0,L.Ub)(le)}const Yr="firebase-heartbeat-database",pn=1,z="firebase-heartbeat-store";let B=null;function K(){return B||(B=function ae(le,ne,{blocked:ke,upgrade:mt,blocking:At,terminated:Jt}={}){const un=indexedDB.open(le,ne),ii=se(un);return mt&&un.addEventListener("upgradeneeded",Fn=>{mt(se(un.result),Fn.oldVersion,Fn.newVersion,se(un.transaction),Fn)}),ke&&un.addEventListener("blocked",Fn=>ke(Fn.oldVersion,Fn.newVersion,Fn)),ii.then(Fn=>{Jt&&Fn.addEventListener("close",()=>Jt()),At&&Fn.addEventListener("versionchange",hr=>At(hr.oldVersion,hr.newVersion,hr))}).catch(()=>{}),ii}(Yr,pn,{upgrade:(le,ne)=>{0===ne&&le.createObjectStore(z)}}).catch(le=>{throw di.create("idb-open",{originalErrorMessage:le.message})})),B}function ce(){return(ce=(0,T.Z)(function*(le){try{return yield(yield K()).transaction(z).objectStore(z).get(Y(le))}catch(ne){if(ne instanceof Q.ZR)fe.warn(ne.message);else{const ke=di.create("idb-get",{originalErrorMessage:ne?.message});fe.warn(ke.message)}}})).apply(this,arguments)}function tt(le,ne){return vt.apply(this,arguments)}function vt(){return(vt=(0,T.Z)(function*(le,ne){try{const mt=(yield K()).transaction(z,"readwrite");yield mt.objectStore(z).put(ne,Y(le)),yield mt.done}catch(ke){if(ke instanceof Q.ZR)fe.warn(ke.message);else{const mt=di.create("idb-set",{originalErrorMessage:ke?.message});fe.warn(mt.message)}}})).apply(this,arguments)}function Y(le){return`${le.name}!${le.options.appId}`}class Me{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new Bt(ke),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var ne=this;return(0,T.Z)(function*(){const mt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Pe();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==At&&!ne._heartbeatsCache.heartbeats.some(Jt=>Jt.date===At))return ne._heartbeatsCache.heartbeats.push({date:At,agent:mt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Jt=>{const un=new Date(Jt.date).valueOf();return Date.now()-un<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,T.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const ke=Pe(),{heartbeatsToSend:mt,unsentEntries:At}=function ht(le,ne=1024){const ke=[];let mt=le.slice();for(const At of le){const Jt=ke.find(un=>un.agent===At.agent);if(Jt){if(Jt.dates.push(At.date),Qt(ke)>ne){Jt.dates.pop();break}}else if(ke.push({agent:At.agent,dates:[At.date]}),Qt(ke)>ne){ke.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:mt}}(ne._heartbeatsCache.heartbeats),Jt=(0,Q.L)(JSON.stringify({version:2,heartbeats:mt}));return ne._heartbeatsCache.lastSentHeartbeatDate=ke,At.length>0?(ne._heartbeatsCache.heartbeats=At,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Jt})()}}function Pe(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,T.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Te(le){return ce.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var ke=this;return(0,T.Z)(function*(){var mt;if(yield ke._canUseIndexedDBPromise){const Jt=yield ke.read();return tt(ke.app,{lastSentHeartbeatDate:null!==(mt=ne.lastSentHeartbeatDate)&&void 0!==mt?mt:Jt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ke=this;return(0,T.Z)(function*(){var mt;if(yield ke._canUseIndexedDBPromise){const Jt=yield ke.read();return tt(ke.app,{lastSentHeartbeatDate:null!==(mt=ne.lastSentHeartbeatDate)&&void 0!==mt?mt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...ne.heartbeats]})}})()}}function Qt(le){return(0,Q.L)(JSON.stringify({version:2,heartbeats:le})).length}!function jt(le){ln(new u.wA("platform-logger",ne=>new Ze(ne),"PRIVATE")),ln(new u.wA("heartbeat",ne=>new Me(ne),"PRIVATE")),In(ti,"0.9.12",le),In(ti,"0.9.12","esm2017"),In("fire-js","")}("")},4537:(Dt,xe,N)=>{N.d(xe,{H0:()=>Ve,wA:()=>L});var T=N(5861),u=N(9058);class L{constructor(j,$,oe){this.name=j,this.instanceFactory=$,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const Q="[DEFAULT]";class he{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const oe=new u.BH;if(this.instancesDeferred.set($,oe),this.isInitialized($)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:$});Se&&oe.resolve(Se)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const oe=this.normalizeInstanceIdentifier(j?.identifier),Se=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(ye){if(Se)return null;throw ye}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function re(pe){return"EAGER"===pe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[$,oe]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier($);try{const ye=this.getOrInitializeService({instanceIdentifier:Se});oe.resolve(ye)}catch{}}}}clearInstance(j=Q){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,T.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...$.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=Q){return this.instances.has(j)}getOptions(j=Q){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,oe=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:oe,options:$});for(const[ye,qe]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(ye)&&qe.resolve(Se);return Se}onInit(j,$){var oe;const Se=this.normalizeInstanceIdentifier($),ye=null!==(oe=this.onInitCallbacks.get(Se))&&void 0!==oe?oe:new Set;ye.add(j),this.onInitCallbacks.set(Se,ye);const qe=this.instances.get(Se);return qe&&j(qe,Se),()=>{ye.delete(j)}}invokeOnInitCallbacks(j,$){const oe=this.onInitCallbacks.get($);if(oe)for(const Se of oe)try{Se(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let oe=this.instances.get(j);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=j,pe===Q?void 0:pe),options:$}),this.instances.set(j,oe),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(oe,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,oe)}catch{}var pe;return oe||null}normalizeInstanceIdentifier(j=Q){return this.component?this.component.multipleInstances?j:Q:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new he(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},2591:(Dt,xe,N)=>{var T=N(5861),u=N(534),L=N(4537),Q=N(9058);const he=(V,X)=>X.some(ve=>V instanceof ve);let Ee,re;const j=new WeakMap,$=new WeakMap,oe=new WeakMap,Se=new WeakMap,ye=new WeakMap;let Je={get(V,X,ve){if(V instanceof IDBTransaction){if("done"===X)return $.get(V);if("objectStoreNames"===X)return V.objectStoreNames||oe.get(V);if("store"===X)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return se(V[X])},set:(V,X,ve)=>(V[X]=ve,!0),has:(V,X)=>V instanceof IDBTransaction&&("done"===X||"store"===X)||X in V};function St(V){return"function"==typeof V?function Rt(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...X){return V.apply(be(this),X),se(j.get(this))}:function(...X){return se(V.apply(be(this),X))}:function(X,...ve){const rt=V.call(be(this),X,...ve);return oe.set(rt,X.sort?X.sort():[X]),se(rt)}}(V):(V instanceof IDBTransaction&&function Be(V){if($.has(V))return;const X=new Promise((ve,rt)=>{const mn=()=>{V.removeEventListener("complete",Yt),V.removeEventListener("error",Mt),V.removeEventListener("abort",Mt)},Yt=()=>{ve(),mn()},Mt=()=>{rt(V.error||new DOMException("AbortError","AbortError")),mn()};V.addEventListener("complete",Yt),V.addEventListener("error",Mt),V.addEventListener("abort",Mt)});$.set(V,X)}(V),he(V,function Ve(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Je):V)}function se(V){if(V instanceof IDBRequest)return function qe(V){const X=new Promise((ve,rt)=>{const mn=()=>{V.removeEventListener("success",Yt),V.removeEventListener("error",Mt)},Yt=()=>{ve(se(V.result)),mn()},Mt=()=>{rt(V.error),mn()};V.addEventListener("success",Yt),V.addEventListener("error",Mt)});return X.then(ve=>{ve instanceof IDBCursor&&j.set(ve,V)}).catch(()=>{}),ye.set(X,V),X}(V);if(Se.has(V))return Se.get(V);const X=St(V);return X!==V&&(Se.set(V,X),ye.set(X,V)),X}const be=V=>ye.get(V),He=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],te=new Map;function Tt(V,X){if(!(V instanceof IDBDatabase)||X in V||"string"!=typeof X)return;if(te.get(X))return te.get(X);const ve=X.replace(/FromIndex$/,""),rt=X!==ve,mn=et.includes(ve);if(!(ve in(rt?IDBIndex:IDBObjectStore).prototype)||!mn&&!He.includes(ve))return;const Yt=function(){var Mt=(0,T.Z)(function*(zt,...wn){const Qn=this.transaction(zt,mn?"readwrite":"readonly");let ri=Qn.store;return rt&&(ri=ri.index(wn.shift())),(yield Promise.all([ri[ve](...wn),mn&&Qn.done]))[0]});return function(wn){return Mt.apply(this,arguments)}}();return te.set(X,Yt),Yt}!function Ue(V){Je=V(Je)}(V=>({...V,get:(X,ve,rt)=>Tt(X,ve)||V.get(X,ve,rt),has:(X,ve)=>!!Tt(X,ve)||V.has(X,ve)}));const Ze="@firebase/installations",mi="0.6.4",ti=1e4,Zr=`w:${mi}`,fe="FIS_v2",we="https://firebaseinstallations.googleapis.com/v1",Re=36e5,Et=new Q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(V){return V instanceof Q.ZR&&V.code.includes("request-failed")}function kt({projectId:V}){return`${we}/projects/${V}/installations`}function ut(V){return{token:V.token,requestStatus:2,expiresIn:Yn(V.expiresIn),creationTime:Date.now()}}function bt(V,X){return gn.apply(this,arguments)}function gn(){return(gn=(0,T.Z)(function*(V,X){const rt=(yield X.json()).error;return Et.create("request-failed",{requestName:V,serverCode:rt.code,serverMessage:rt.message,serverStatus:rt.status})})).apply(this,arguments)}function bn({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function fn(V){return li.apply(this,arguments)}function li(){return(li=(0,T.Z)(function*(V){const X=yield V();return X.status>=500&&X.status<600?V():X})).apply(this,arguments)}function Yn(V){return Number(V.replace("s","000"))}function Hn(){return(Hn=(0,T.Z)(function*({appConfig:V,heartbeatServiceProvider:X},{fid:ve}){const rt=kt(V),mn=bn(V),Yt=X.getImmediate({optional:!0});if(Yt){const Qn=yield Yt.getHeartbeatsHeader();Qn&&mn.append("x-firebase-client",Qn)}const zt={method:"POST",headers:mn,body:JSON.stringify({fid:ve,authVersion:fe,appId:V.appId,sdkVersion:Zr})},wn=yield fn(()=>fetch(rt,zt));if(wn.ok){const Qn=yield wn.json();return{fid:Qn.fid||ve,registrationStatus:2,refreshToken:Qn.refreshToken,authToken:ut(Qn.authToken)}}throw yield bt("Create Installation",wn)})).apply(this,arguments)}function ur(V){return new Promise(X=>{setTimeout(X,V)})}const ki=/^[cdef][\w-]{21}$/,ui="";function po(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const ve=function br(V){return function vr(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}(V);return ki.test(ve)?ve:ui}catch{return ui}}function dt(V){return`${V.appName}!${V.appId}`}const _n=new Map;function st(V,X){const ve=dt(V);Vi(ve,X),function ln(V,X){const ve=function ni(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=V=>{Vi(V.data.key,V.data.fid)}),Xn}();ve&&ve.postMessage({key:V,fid:X}),function Bi(){0===_n.size&&Xn&&(Xn.close(),Xn=null)}()}(ve,X)}function Vi(V,X){const ve=_n.get(V);if(ve)for(const rt of ve)rt(X)}let Xn=null;const tn="firebase-installations-database",di=1,Ut="firebase-installations-store";let Rr=null;function Ji(){return Rr||(Rr=function ae(V,X,{blocked:ve,upgrade:rt,blocking:mn,terminated:Yt}={}){const Mt=indexedDB.open(V,X),zt=se(Mt);return rt&&Mt.addEventListener("upgradeneeded",wn=>{rt(se(Mt.result),wn.oldVersion,wn.newVersion,se(Mt.transaction))}),ve&&Mt.addEventListener("blocked",()=>ve()),zt.then(wn=>{Yt&&wn.addEventListener("close",()=>Yt()),mn&&wn.addEventListener("versionchange",()=>mn())}).catch(()=>{}),zt}(tn,di,{upgrade:(V,X)=>{0===X&&V.createObjectStore(Ut)}})),Rr}function wr(V,X){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,T.Z)(function*(V,X){const ve=dt(V),mn=(yield Ji()).transaction(Ut,"readwrite"),Yt=mn.objectStore(Ut),Mt=yield Yt.get(ve);return yield Yt.put(X,ve),yield mn.done,(!Mt||Mt.fid!==X.fid)&&st(V,X.fid),X})).apply(this,arguments)}function hi(V){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,T.Z)(function*(V){const X=dt(V),rt=(yield Ji()).transaction(Ut,"readwrite");yield rt.objectStore(Ut).delete(X),yield rt.done})).apply(this,arguments)}function In(V,X){return dr.apply(this,arguments)}function dr(){return(dr=(0,T.Z)(function*(V,X){const ve=dt(V),mn=(yield Ji()).transaction(Ut,"readwrite"),Yt=mn.objectStore(Ut),Mt=yield Yt.get(ve),zt=X(Mt);return void 0===zt?yield Yt.delete(ve):yield Yt.put(zt,ve),yield mn.done,zt&&(!Mt||Mt.fid!==zt.fid)&&st(V,zt.fid),zt})).apply(this,arguments)}function sn(V){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,T.Z)(function*(V){let X;const ve=yield In(V.appConfig,rt=>{const mn=function pn(V){return vt(V||{fid:po(),registrationStatus:0})}(rt),Yt=function z(V,X){if(0===X.registrationStatus){if(!navigator.onLine)return{installationEntry:X,registrationPromise:Promise.reject(Et.create("app-offline"))};const ve={fid:X.fid,registrationStatus:1,registrationTime:Date.now()},rt=function B(V,X){return K.apply(this,arguments)}(V,ve);return{installationEntry:ve,registrationPromise:rt}}return 1===X.registrationStatus?{installationEntry:X,registrationPromise:Te(V)}:{installationEntry:X}}(V,mn);return X=Yt.registrationPromise,Yt.installationEntry});return ve.fid===ui?{installationEntry:yield X}:{installationEntry:ve,registrationPromise:X}}),Yr.apply(this,arguments)}function K(){return K=(0,T.Z)(function*(V,X){try{const ve=yield function Ao(V,X){return Hn.apply(this,arguments)}(V,X);return wr(V.appConfig,ve)}catch(ve){throw _t(ve)&&409===ve.customData.serverCode?yield hi(V.appConfig):yield wr(V.appConfig,{fid:X.fid,registrationStatus:0}),ve}}),K.apply(this,arguments)}function Te(V){return ce.apply(this,arguments)}function ce(){return(ce=(0,T.Z)(function*(V){let X=yield tt(V.appConfig);for(;1===X.registrationStatus;)yield ur(100),X=yield tt(V.appConfig);if(0===X.registrationStatus){const{installationEntry:ve,registrationPromise:rt}=yield sn(V);return rt||ve}return X})).apply(this,arguments)}function tt(V){return In(V,X=>{if(!X)throw Et.create("installation-not-found");return vt(X)})}function vt(V){return function Y(V){return 1===V.registrationStatus&&V.registrationTime+ti<Date.now()}(V)?{fid:V.fid,registrationStatus:0}:V}function Ce(){return(Ce=(0,T.Z)(function*({appConfig:V,heartbeatServiceProvider:X},ve){const rt=function Me(V,{fid:X}){return`${kt(V)}/${X}/authTokens:generate`}(V,ve),mn=function Pn(V,{refreshToken:X}){const ve=bn(V);return ve.append("Authorization",function gi(V){return`${fe} ${V}`}(X)),ve}(V,ve),Yt=X.getImmediate({optional:!0});if(Yt){const Qn=yield Yt.getHeartbeatsHeader();Qn&&mn.append("x-firebase-client",Qn)}const zt={method:"POST",headers:mn,body:JSON.stringify({installation:{sdkVersion:Zr,appId:V.appId}})},wn=yield fn(()=>fetch(rt,zt));if(wn.ok)return ut(yield wn.json());throw yield bt("Generate Auth Token",wn)})).apply(this,arguments)}function Pe(V){return ht.apply(this,arguments)}function ht(){return ht=(0,T.Z)(function*(V,X=!1){let ve;const rt=yield In(V.appConfig,Yt=>{if(!ke(Yt))throw Et.create("not-registered");const Mt=Yt.authToken;if(!X&&function mt(V){return 2===V.requestStatus&&!function At(V){const X=Date.now();return X<V.creationTime||V.creationTime+V.expiresIn<X+Re}(V)}(Mt))return Yt;if(1===Mt.requestStatus)return ve=function Bt(V,X){return Qt.apply(this,arguments)}(V,X),Yt;{if(!navigator.onLine)throw Et.create("app-offline");const zt=function Jt(V){const X={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:X})}(Yt);return ve=function le(V,X){return ne.apply(this,arguments)}(V,zt),zt}});return ve?yield ve:rt.authToken}),ht.apply(this,arguments)}function Qt(){return(Qt=(0,T.Z)(function*(V,X){let ve=yield jt(V.appConfig);for(;1===ve.authToken.requestStatus;)yield ur(100),ve=yield jt(V.appConfig);const rt=ve.authToken;return 0===rt.requestStatus?Pe(V,X):rt})).apply(this,arguments)}function jt(V){return In(V,X=>{if(!ke(X))throw Et.create("not-registered");return function un(V){return 1===V.requestStatus&&V.requestTime+ti<Date.now()}(X.authToken)?Object.assign(Object.assign({},X),{authToken:{requestStatus:0}}):X})}function ne(){return ne=(0,T.Z)(function*(V,X){try{const ve=yield function _e(V,X){return Ce.apply(this,arguments)}(V,X),rt=Object.assign(Object.assign({},X),{authToken:ve});return yield wr(V.appConfig,rt),ve}catch(ve){if(!_t(ve)||401!==ve.customData.serverCode&&404!==ve.customData.serverCode){const rt=Object.assign(Object.assign({},X),{authToken:{requestStatus:0}});yield wr(V.appConfig,rt)}else yield hi(V.appConfig);throw ve}}),ne.apply(this,arguments)}function ke(V){return void 0!==V&&2===V.registrationStatus}function Fn(){return(Fn=(0,T.Z)(function*(V){const X=V,{installationEntry:ve,registrationPromise:rt}=yield sn(X);return rt?rt.catch(console.error):Pe(X).catch(console.error),ve.fid})).apply(this,arguments)}function mo(){return mo=(0,T.Z)(function*(V,X=!1){const ve=V;return yield function _i(V){return vs.apply(this,arguments)}(ve),(yield Pe(ve,X)).token}),mo.apply(this,arguments)}function vs(){return(vs=(0,T.Z)(function*(V){const{registrationPromise:X}=yield sn(V);X&&(yield X)})).apply(this,arguments)}function Mo(V){return Et.create("missing-app-config-values",{valueName:V})}const nl="installations",Ro=V=>{const X=V.getProvider("app").getImmediate(),ve=function Ks(V){if(!V||!V.options)throw Mo("App Configuration");if(!V.name)throw Mo("App Name");const X=["projectId","apiKey","appId"];for(const ve of X)if(!V.options[ve])throw Mo(ve);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(X);return{app:X,appConfig:ve,heartbeatServiceProvider:(0,u._getProvider)(X,"heartbeat"),_delete:()=>Promise.resolve()}},ws=V=>{const X=V.getProvider("app").getImmediate(),ve=(0,u._getProvider)(X,nl).getImmediate();return{getId:()=>function ii(V){return Fn.apply(this,arguments)}(ve),getToken:mn=>function hr(V){return mo.apply(this,arguments)}(ve,mn)}};(function Es(){(0,u._registerComponent)(new L.wA(nl,Ro,"PUBLIC")),(0,u._registerComponent)(new L.wA("installations-internal",ws,"PRIVATE"))})(),(0,u.registerVersion)(Ze,mi),(0,u.registerVersion)(Ze,mi,"esm2017")},7879:(Dt,xe,N)=>{N.d(xe,{Am:()=>pe,Ub:()=>Ve,Yd:()=>re,in:()=>u});const T=[];var u=(()=>((u=u||{})[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT",u))();const L={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},Q=u.INFO,he={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},Ee=(j,$,...oe)=>{if($<j.logLevel)return;const Se=(new Date).toISOString(),ye=he[$];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[ye](`[${Se}]  ${j.name}:`,...oe)};class re{constructor($){this.name=$,this._logLevel=Q,this._logHandler=Ee,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in u))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?L[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...$),this._logHandler(this,u.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...$),this._logHandler(this,u.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,u.INFO,...$),this._logHandler(this,u.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,u.WARN,...$),this._logHandler(this,u.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...$),this._logHandler(this,u.ERROR,...$)}}function Ve(j){T.forEach($=>{$.setLogLevel(j)})}function pe(j,$){for(const oe of T){let Se=null;$&&$.level&&(Se=L[$.level]),oe.userLogHandler=null===j?null:(ye,qe,...Be)=>{const Je=Be.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");qe>=(Se??ye.logLevel)&&j({level:u[qe].toLowerCase(),message:Je,args:Be,type:ye.name})}}}},5855:(Dt,xe,N)=>{N.d(xe,{IH:()=>wr,Gb:()=>hi});var T=N(5861),u=N(534),L=N(7879),Q=N(9058),he=N(4537);N(2591);const re="analytics",Ve="firebase_id",pe="origin",j=6e4,$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oe="https://www.googletagmanager.com/gtag/js",Se=new L.Yd("@firebase/analytics"),qe=new Q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Be(Y){if(!Y.startsWith(oe)){const _e=qe.create("invalid-gtag-resource",{gtagURL:Y});return Se.warn(_e.message),""}return Y}function Je(Y){return Promise.all(Y.map(_e=>_e.catch(Ce=>Ce)))}function be(){return(be=(0,T.Z)(function*(Y,_e,Ce,Me,Pe,ht){const Bt=Me[Pe];try{if(Bt)yield _e[Bt];else{const jt=(yield Je(Ce)).find(le=>le.measurementId===Pe);jt&&(yield _e[jt.appId])}}catch(Qt){Se.error(Qt)}Y("config",Pe,ht)})).apply(this,arguments)}function De(){return(De=(0,T.Z)(function*(Y,_e,Ce,Me,Pe){try{let ht=[];if(Pe&&Pe.send_to){let Bt=Pe.send_to;Array.isArray(Bt)||(Bt=[Bt]);const Qt=yield Je(Ce);for(const jt of Bt){const le=Qt.find(ke=>ke.measurementId===jt),ne=le&&_e[le.appId];if(!ne){ht=[];break}ht.push(ne)}}0===ht.length&&(ht=Object.values(_e)),yield Promise.all(ht),Y("event",Me,Pe||{})}catch(ht){Se.error(ht)}})).apply(this,arguments)}const Tt=30,ti=new class mi{constructor(_e={},Ce=1e3){this.throttleMetadata=_e,this.intervalMillis=Ce}getThrottleMetadata(_e){return this.throttleMetadata[_e]}setThrottleMetadata(_e,Ce){this.throttleMetadata[_e]=Ce}deleteThrottleMetadata(_e){delete this.throttleMetadata[_e]}};function Zr(Y){return new Headers({Accept:"application/json","x-goog-api-key":Y})}function we(){return(we=(0,T.Z)(function*(Y){var _e;const{appId:Ce,apiKey:Me}=Y,Pe={method:"GET",headers:Zr(Me)},ht=$.replace("{app-id}",Ce),Bt=yield fetch(ht,Pe);if(200!==Bt.status&&304!==Bt.status){let Qt="";try{const jt=yield Bt.json();null!==(_e=jt.error)&&void 0!==_e&&_e.message&&(Qt=jt.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:Qt})}return Bt.json()})).apply(this,arguments)}function Le(){return(Le=(0,T.Z)(function*(Y,_e=ti,Ce){const{appId:Me,apiKey:Pe,measurementId:ht}=Y.options;if(!Me)throw qe.create("no-app-id");if(!Pe){if(ht)return{measurementId:ht,appId:Me};throw qe.create("no-api-key")}const Bt=_e.getThrottleMetadata(Me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new kt;return setTimeout((0,T.Z)(function*(){Qt.abort()}),void 0!==Ce?Ce:j),Qe({appId:Me,apiKey:Pe,measurementId:ht},Bt,Qt,_e)})).apply(this,arguments)}function Qe(Y,_e,Ce){return We.apply(this,arguments)}function We(){return We=(0,T.Z)(function*(Y,{throttleEndTimeMillis:_e,backoffCount:Ce},Me,Pe=ti){var ht;const{appId:Bt,measurementId:Qt}=Y;try{yield function Et(Y,_e){return new Promise((Ce,Me)=>{const Pe=Math.max(_e-Date.now(),0),ht=setTimeout(Ce,Pe);Y.addEventListener(()=>{clearTimeout(ht),Me(qe.create("fetch-throttle",{throttleEndTimeMillis:_e}))})})}(Me,_e)}catch(jt){if(Qt)return Se.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:Bt,measurementId:Qt};throw jt}try{const jt=yield function fe(Y){return we.apply(this,arguments)}(Y);return Pe.deleteThrottleMetadata(Bt),jt}catch(jt){const le=jt;if(!function _t(Y){if(!(Y instanceof Q.ZR&&Y.customData))return!1;const _e=Number(Y.customData.httpStatus);return 429===_e||500===_e||503===_e||504===_e}(le)){if(Pe.deleteThrottleMetadata(Bt),Qt)return Se.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${le?.message}]`),{appId:Bt,measurementId:Qt};throw jt}const ne=503===Number(null===(ht=le?.customData)||void 0===ht?void 0:ht.httpStatus)?(0,Q.$s)(Ce,Pe.intervalMillis,Tt):(0,Q.$s)(Ce,Pe.intervalMillis),ke={throttleEndTimeMillis:Date.now()+ne,backoffCount:Ce+1};return Pe.setThrottleMetadata(Bt,ke),Se.debug(`Calling attemptFetch again in ${ne} millis`),Qe(Y,ke,Me,Pe)}}),We.apply(this,arguments)}class kt{constructor(){this.listeners=[]}addEventListener(_e){this.listeners.push(_e)}abort(){this.listeners.forEach(_e=>_e())}}let ut,ki;function gn(){return(gn=(0,T.Z)(function*(Y,_e,Ce,Me,Pe){if(Pe&&Pe.global)Y("event",Ce,Me);else{const ht=yield _e;Y("event",Ce,Object.assign(Object.assign({},Me),{send_to:ht}))}})).apply(this,arguments)}function dt(){return(dt=(0,T.Z)(function*(){if(!(0,Q.hl)())return Se.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Q.eu)()}catch(Y){return Se.warn(qe.create("indexeddb-unavailable",{errorInfo:Y?.toString()}).message),!1}return!0})).apply(this,arguments)}function st(){return st=(0,T.Z)(function*(Y,_e,Ce,Me,Pe,ht,Bt){var Qt;const jt=function Re(Y){return Le.apply(this,arguments)}(Y);jt.then(At=>{Ce[At.measurementId]=At.appId,Y.options.measurementId&&At.measurementId!==Y.options.measurementId&&Se.warn(`The measurement ID in the local Firebase config (${Y.options.measurementId}) does not match the measurement ID fetched from the server (${At.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(At=>Se.error(At)),_e.push(jt);const le=function br(){return dt.apply(this,arguments)}().then(At=>{if(At)return Me.getId()}),[ne,ke]=yield Promise.all([jt,le]);(function te(Y){const _e=window.document.getElementsByTagName("script");for(const Ce of Object.values(_e))if(Ce.src&&Ce.src.includes(oe)&&Ce.src.includes(Y))return Ce;return null})(ht)||function Rt(Y,_e){const Ce=function Ue(Y,_e){let Ce;return window.trustedTypes&&(Ce=window.trustedTypes.createPolicy(Y,_e)),Ce}("firebase-js-sdk-policy",{createScriptURL:Be}),Me=document.createElement("script"),Pe=`${oe}?l=${Y}&id=${_e}`;Me.src=Ce?Ce?.createScriptURL(Pe):Pe,Me.async=!0,document.head.appendChild(Me)}(ht,ne.measurementId),ki&&(Pe("consent","default",ki),function ui(Y){ki=Y}(void 0)),Pe("js",new Date);const mt=null!==(Qt=Bt?.config)&&void 0!==Qt?Qt:{};return mt[pe]="firebase",mt.update=!0,null!=ke&&(mt[Ve]=ke),Pe("config",ne.measurementId,mt),ut&&(Pe("set",ut),function po(Y){ut=Y}(void 0)),ne.measurementId}),st.apply(this,arguments)}class yt{constructor(_e){this.app=_e}_delete(){return delete An[this.app.options.appId],Promise.resolve()}}let An={},Vi=[];const ln={};let Bi,tn,Xn="dataLayer",di=!1;function Ji(Y,_e,Ce){!function Rr(){const Y=[];if((0,Q.ru)()&&Y.push("This is a browser extension environment."),(0,Q.zI)()||Y.push("Cookies are not available."),Y.length>0){const _e=Y.map((Me,Pe)=>`(${Pe+1}) ${Me}`).join(" "),Ce=qe.create("invalid-analytics-context",{errorInfo:_e});Se.warn(Ce.message)}}();const Me=Y.options.appId;if(!Me)throw qe.create("no-app-id");if(!Y.options.apiKey){if(!Y.options.measurementId)throw qe.create("no-api-key");Se.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Y.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=An[Me])throw qe.create("already-exists",{id:Me});if(!di){!function St(Y){let _e=[];Array.isArray(window[Y])?_e=window[Y]:window[Y]=_e}(Xn);const{wrappedGtag:ht,gtagCore:Bt}=function et(Y,_e,Ce,Me,Pe){let ht=function(...Bt){window[Me].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(ht=window[Pe]),window[Pe]=function He(Y,_e,Ce,Me){function ht(){return ht=(0,T.Z)(function*(Bt,...Qt){try{if("event"===Bt){const[jt,le]=Qt;yield function ae(Y,_e,Ce,Me,Pe){return De.apply(this,arguments)}(Y,_e,Ce,jt,le)}else if("config"===Bt){const[jt,le]=Qt;yield function se(Y,_e,Ce,Me,Pe,ht){return be.apply(this,arguments)}(Y,_e,Ce,Me,jt,le)}else if("consent"===Bt){const[jt]=Qt;Y("consent","update",jt)}else if("get"===Bt){const[jt,le,ne]=Qt;Y("get",jt,le,ne)}else if("set"===Bt){const[jt]=Qt;Y("set",jt)}else Y(Bt,...Qt)}catch(jt){Se.error(jt)}}),ht.apply(this,arguments)}return function Pe(Bt){return ht.apply(this,arguments)}}(ht,Y,_e,Ce),{gtagCore:ht,wrappedGtag:window[Pe]}}(An,Vi,ln,Xn,"gtag");tn=ht,Bi=Bt,di=!0}return An[Me]=function _n(Y,_e,Ce,Me,Pe,ht,Bt){return st.apply(this,arguments)}(Y,Vi,ln,_e,Bi,Xn,Ce),new yt(Y)}function wr(Y=(0,u.getApp)()){Y=(0,Q.m9)(Y);const _e=(0,u._getProvider)(Y,re);return _e.isInitialized()?_e.getImmediate():function Oi(Y,_e={}){const Ce=(0,u._getProvider)(Y,re);if(Ce.isInitialized()){const Pe=Ce.getImmediate();if((0,Q.vZ)(_e,Ce.getOptions()))return Pe;throw qe.create("already-initialized")}return Ce.initialize({options:_e})}(Y)}function hi(){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,T.Z)(function*(){if((0,Q.ru)()||!(0,Q.zI)()||!(0,Q.hl)())return!1;try{return yield(0,Q.eu)()}catch{return!1}})).apply(this,arguments)}const ce="@firebase/analytics";!function vt(){(0,u._registerComponent)(new he.wA(re,(_e,{options:Ce})=>Ji(_e.getProvider("app").getImmediate(),_e.getProvider("installations-internal").getImmediate(),Ce),"PUBLIC")),(0,u._registerComponent)(new he.wA("analytics-internal",function Y(_e){try{const Ce=_e.getProvider(re).getImmediate();return{logEvent:(Me,Pe,ht)=>function K(Y,_e,Ce,Me){Y=(0,Q.m9)(Y),function bt(Y,_e,Ce,Me,Pe){return gn.apply(this,arguments)}(tn,An[Y.app.options.appId],_e,Ce,Me).catch(Pe=>Se.error(Pe))}(Ce,Me,Pe,ht)}}catch(Ce){throw qe.create("interop-component-reg-failed",{reason:Ce})}},"PRIVATE")),(0,u.registerVersion)(ce,"0.10.0"),(0,u.registerVersion)(ce,"0.10.0","esm2017")}()},3182:(Dt,xe,N)=>{N.d(xe,{C6:()=>T.getApps,Mq:()=>T.getApp,ZF:()=>T.initializeApp});var T=N(534);(0,T.registerVersion)("firebase","9.22.2","app")},7142:(Dt,xe,N)=>{N.d(xe,{Z:()=>T.Z});var T=N(3106);T.Z.registerVersion("firebase","9.22.2","app-compat")},5967:(Dt,xe,N)=>{N.r(xe);var T=N(5861),u=N(3106),L=N(9058),Q=N(534),he=N(7582),Ee=N(7879),re=N(4537);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const qe=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Be=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new Ee.Yd("@firebase/auth");function se(v,...p){Rt.logLevel<=Ee.in.ERROR&&Rt.error(`Auth (${Q.SDK_VERSION}): ${v}`,...p)}function be(v,...p){throw et(v,...p)}function ae(v,...p){return et(v,...p)}function De(v,p,g){const b=Object.assign(Object.assign({},Be()),{[p]:g});return new L.LL("auth","Firebase",b).create(p,{appName:v.name})}function He(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&be(v,"argument-error"),De(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(v,...p){if("string"!=typeof v){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return Je.create(v,...p)}function te(v,p,...g){if(!v)throw et(p,...g)}function Tt(v){const p="INTERNAL ASSERTION FAILED: "+v;throw se(p),new Error(p)}function Ze(v,p){v||Tt(p)}function mi(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ti(){return"http:"===Zr()||"https:"===Zr()}function Zr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Re{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ze(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ti()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Le(v,p){Ze(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Qe{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const We={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Et=new Re(3e4,6e4);function _t(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function kt(v,p,g,b){return ut.apply(this,arguments)}function ut(){return(ut=(0,T.Z)(function*(v,p,g,b,x={}){return bt(v,x,(0,T.Z)(function*(){let M={},G={};b&&("GET"===p?G=b:M={body:JSON.stringify(b)});const ee=(0,L.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/json",v.languageCode&&($e["X-Firebase-Locale"]=v.languageCode),Qe.fetch()(fn(v,v.config.apiHost,g,ee),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function bt(v,p,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,T.Z)(function*(v,p,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},We),p);try{const x=new li(v),M=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const G=yield M.json();if("needConfirmation"in G)throw Yn(v,"account-exists-with-different-credential",G);if(M.ok&&!("errorMessage"in G))return G;{const ee=M.ok?G.errorMessage:G.error.message,[$e,Ye]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Yn(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===$e)throw Yn(v,"email-already-in-use",G);if("USER_DISABLED"===$e)throw Yn(v,"user-disabled",G);const lt=b[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw De(v,lt,Ye);be(v,lt)}}catch(x){if(x instanceof L.ZR)throw x;be(v,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function bn(v,p,g,b){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,T.Z)(function*(v,p,g,b,x={}){const M=yield kt(v,p,g,b,x);return"mfaPendingCredential"in M&&be(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function fn(v,p,g,b){const x=`${p}${g}?${b}`;return v.config.emulator?Le(v.config,x):`${v.config.apiScheme}://${x}`}class li{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ae(this.auth,"network-request-failed")),Et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(v,p,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const x=ae(v,p,b);return x.customData._tokenResponse=g,x}function Ao(){return(Ao=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ur(){return(ur=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ki(){return(ki=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ui(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function dt(){return(dt=(0,T.Z)(function*(v,p=!1){const g=(0,L.m9)(v),b=yield g.getIdToken(p),x=st(b);te(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const M="object"==typeof x.firebase?x.firebase:void 0,G=M?.sign_in_provider;return{claims:x,token:b,authTime:ui(_n(x.auth_time)),issuedAtTime:ui(_n(x.iat)),expirationTime:ui(_n(x.exp)),signInProvider:G||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function _n(v){return 1e3*Number(v)}function st(v){const[p,g,b]=v.split(".");if(void 0===p||void 0===g||void 0===b)return se("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(g);return x?JSON.parse(x):(se("Failed to decode base64 JWT payload"),null)}catch(x){return se("Caught error parsing JWT payload as JSON",x?.toString()),null}}function An(v,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,T.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof L.ZR&&function ln({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class Xn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,T.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,T.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class ni{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bi(v){return tn.apply(this,arguments)}function tn(){return tn=(0,T.Z)(function*(v){var p;const g=v.auth,b=yield v.getIdToken(),x=yield An(v,function vr(v,p){return ki.apply(this,arguments)}(g,{idToken:b}));te(x?.users.length,g,"internal-error");const M=x.users[0];v._notifyReloadListener(M);const G=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?function Ji(v){return v.map(p=>{var{providerId:g}=p,b=(0,he._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(M.providerUserInfo):[],ee=function Rr(v,p){return[...v.filter(b=>!p.some(x=>x.providerId===b.providerId)),...p]}(v.providerData,G),lt=!!v.isAnonymous&&!(v.email&&M.passwordHash||ee?.length),wt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ee,metadata:new ni(M.createdAt,M.lastLoginAt),isAnonymous:lt};Object.assign(v,wt)}),tn.apply(this,arguments)}function Ut(){return(Ut=(0,T.Z)(function*(v){const p=(0,L.m9)(v);yield Bi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Oi(){return(Oi=(0,T.Z)(function*(v,p){const g=yield bt(v,{},(0,T.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:M}=v.config,G=fn(v,x,"/v1/token",`key=${M}`),ee=yield v._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(G,{method:"POST",headers:ee,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class hi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(typeof p.idToken<"u","internal-error"),te(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function yt(v){const p=st(v);return te(p,"internal-error"),te(typeof p.exp<"u","internal-error"),te(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,T.Z)(function*(){return te(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,T.Z)(function*(){const{accessToken:x,refreshToken:M,expiresIn:G}=yield function wr(v,p){return Oi.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(x,M,Number(G))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:x,expirationTime:M}=g,G=new hi;return b&&(te("string"==typeof b,"internal-error",{appName:p}),G.refreshToken=b),x&&(te("string"==typeof x,"internal-error",{appName:p}),G.accessToken=x),M&&(te("number"==typeof M,"internal-error",{appName:p}),G.expirationTime=M),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new hi,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function Gn(v,p){te("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class In{constructor(p){var{uid:g,auth:b,stsTokenManager:x}=p,M=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new ni(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,T.Z)(function*(){const b=yield An(g,g.stsTokenManager.getToken(g.auth,p));return te(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function br(v){return dt.apply(this,arguments)}(this,p)}reload(){return function di(v){return Ut.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new In(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,T.Z)(function*(){let x=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield Bi(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,T.Z)(function*(){const g=yield p.getIdToken();return yield An(p,function gi(v,p){return Ao.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,x,M,G,ee,$e,Ye,lt;const wt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Zn=null!==(x=g.email)&&void 0!==x?x:void 0,mr=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Fs=null!==(G=g.photoURL)&&void 0!==G?G:void 0,Yh=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,fd=null!==($e=g._redirectEventId)&&void 0!==$e?$e:void 0,sa=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,Ua=null!==(lt=g.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Rl,emailVerified:kl,isAnonymous:Xh,providerData:Kc,stsTokenManager:Zc}=g;te(Rl&&Zc,p,"internal-error");const hm=hi.fromJSON(this.name,Zc);te("string"==typeof Rl,p,"internal-error"),Gn(wt,p.name),Gn(Zn,p.name),te("boolean"==typeof kl,p,"internal-error"),te("boolean"==typeof Xh,p,"internal-error"),Gn(mr,p.name),Gn(Fs,p.name),Gn(Yh,p.name),Gn(fd,p.name),Gn(sa,p.name),Gn(Ua,p.name);const pd=new In({uid:Rl,auth:p,email:Zn,emailVerified:kl,displayName:wt,isAnonymous:Xh,photoURL:Fs,phoneNumber:mr,tenantId:Yh,stsTokenManager:hm,createdAt:sa,lastLoginAt:Ua});return Kc&&Array.isArray(Kc)&&(pd.providerData=Kc.map(Yc=>Object.assign({},Yc))),fd&&(pd._redirectEventId=fd),pd}static _fromIdTokenResponse(p,g,b=!1){return(0,T.Z)(function*(){const x=new hi;x.updateFromServerResponse(g);const M=new In({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:b});return yield Bi(M),M})()}}const dr=new Map;function sn(v){Ze(v instanceof Function,"Expected a class definition");let p=dr.get(v);return p?(Ze(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,dr.set(v,p),p)}const pn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(g,b){var x=this;return(0,T.Z)(function*(){x.storage[g]=b})()}_get(g){var b=this;return(0,T.Z)(function*(){const x=b.storage[g];return void 0===x?null:x})()}_remove(g){var b=this;return(0,T.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function z(v,p,g){return`firebase:${v}:${p}:${g}`}class B{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:x,name:M}=this.auth;this.fullUserKey=z(this.userKey,x.apiKey,M),this.fullPersistenceKey=z("persistence",x.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,T.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?In._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,T.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,T.Z)(function*(){if(!g.length)return new B(sn(pn),p,b);const x=(yield Promise.all(g.map(function(){var Ye=(0,T.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let M=x[0]||sn(pn);const G=z(b,p.config.apiKey,p.name);let ee=null;for(const Ye of g)try{const lt=yield Ye._get(G);if(lt){const wt=In._fromJSON(p,lt);Ye!==M&&(ee=wt),M=Ye;break}}catch{}const $e=x.filter(Ye=>Ye._shouldAllowMigration);return M._shouldAllowMigration&&$e.length?(M=$e[0],ee&&(yield M._set(G,ee.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,T.Z)(function*(lt){if(lt!==M)try{yield lt._remove(G)}catch{}});return function(lt){return Ye.apply(this,arguments)}}())),new B(M,p,b)):new B(M,p,b)})()}}function K(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(vt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Te(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_e(p))return"Blackberry";if(Ce(p))return"Webos";if(ce(p))return"Safari";if((p.includes("chrome/")||tt(p))&&!p.includes("edge/"))return"Chrome";if(Y(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Te(v=(0,L.z$)()){return/firefox\//i.test(v)}function ce(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function tt(v=(0,L.z$)()){return/crios\//i.test(v)}function vt(v=(0,L.z$)()){return/iemobile/i.test(v)}function Y(v=(0,L.z$)()){return/android/i.test(v)}function _e(v=(0,L.z$)()){return/blackberry/i.test(v)}function Ce(v=(0,L.z$)()){return/webos/i.test(v)}function Me(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Qt(v=(0,L.z$)()){return Me(v)||Y(v)||Ce(v)||_e(v)||/windows phone/i.test(v)||vt(v)}function le(v,p=[]){let g;switch(v){case"Browser":g=K((0,L.z$)());break;case"Worker":g=`${K((0,L.z$)())}-${v}`;break;default:g=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${Q.SDK_VERSION}/${b}`}function ke(){return(ke=(0,T.Z)(function*(v){return(yield kt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mt(v,p){return At.apply(this,arguments)}function At(){return(At=(0,T.Z)(function*(v,p){return kt(v,"GET","/v2/recaptchaConfig",_t(v,p))})).apply(this,arguments)}function Jt(v){return void 0!==v&&void 0!==v.getResponse}function un(v){return void 0!==v&&void 0!==v.enterprise}class ii{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function hr(v){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=x=>{const M=ae("internal-error");M.customData=x,g(M)},b.type="text/javascript",b.charset="UTF-8",function Fn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function mo(v){return`__${v}${Math.floor(1e6*Math.random())}`}class qs{constructor(p){this.type="recaptcha-enterprise",this.auth=jn(p)}verify(p="verify",g=!1){var b=this;return(0,T.Z)(function*(){function M(){return M=(0,T.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var $e=(0,T.Z)(function*(Ye,lt){mt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const Zn=new ii(wt);return null==ee.tenantId?ee._agentRecaptchaConfig=Zn:ee._tenantRecaptchaConfigs[ee.tenantId]=Zn,Ye(Zn.siteKey)}lt(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{lt(wt)})});return function(Ye,lt){return $e.apply(this,arguments)}}())}),M.apply(this,arguments)}function G(ee,$e,Ye){const lt=window.grecaptcha;un(lt)?lt.enterprise.ready(()=>{lt.enterprise.execute(ee,{action:p}).then(wt=>{$e(wt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Ye(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,$e)=>{(function x(ee){return M.apply(this,arguments)})(b.auth).then(Ye=>{if(!g&&un(window.grecaptcha))G(Ye,ee,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));hr("https://www.google.com/recaptcha/enterprise.js?render="+Ye).then(()=>{G(Ye,ee,$e)}).catch(lt=>{$e(lt)})}}).catch(Ye=>{$e(Ye)})})})()}}function Er(v,p,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,T.Z)(function*(v,p,g,b=!1){const x=new qs(v);let M;try{M=yield x.verify(g)}catch{M=yield x.verify(g,!0)}const G=Object.assign({},p);return Object.assign(G,b?{captchaResp:M}:{captchaResponse:M}),Object.assign(G,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(G,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),G})).apply(this,arguments)}class bs{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const b=M=>new Promise((G,ee)=>{try{G(p(M))}catch($e){ee($e)}});b.onAbort=g,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,T.Z)(function*(){if(g.auth.currentUser===p)return;const b=[];try{for(const x of g.queue)yield x(p),x.onAbort&&b.push(x.onAbort)}catch(x){b.reverse();for(const M of b)try{M()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Ia{constructor(p,g,b,x){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=sn(g)),this._initializationPromise=this.queue((0,T.Z)(function*(){var x,M;if(!b._deleted&&(b.persistenceManager=yield B.create(b,p),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(M=b.currentUser)||void 0===M?void 0:M.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,T.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,T.Z)(function*(){var b;const x=yield g.assertedPersistence.getCurrentUser();let M=x,G=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,$e=M?._redirectEventId,Ye=yield g.tryRedirectSignIn(p);(!ee||ee===$e)&&Ye?.user&&(M=Ye.user,G=!0)}if(!M)return g.directlySetCurrentUser(null);if(!M._redirectEventId){if(G)try{yield g.beforeStateQueue.runMiddleware(M)}catch(ee){M=x,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return M?g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)}return te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var g=this;return(0,T.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,T.Z)(function*(){try{yield Bi(p)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function we(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,T.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,T.Z)(function*(){const b=p?(0,L.m9)(p):null;return b&&te(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p,g=!1){var b=this;return(0,T.Z)(function*(){if(!b._deleted)return p&&te(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,T.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,T.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,T.Z)(function*(){yield g.assertedPersistence.setPersistence(sn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,T.Z)(function*(){const g=yield mt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new ii(g);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new qs(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,T.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,T.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&sn(p)||g._popupRedirectResolver;te(b,g,"argument-error"),g.redirectPersistenceManager=yield B.create(g,[sn(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,T.Z)(function*(){var b,x;return g._isInitialized&&(yield g.queue((0,T.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,T.Z)(function*(){if(p===g.currentUser)return g.queue((0,T.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,x){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),G=this._isInitialized?Promise.resolve():this._initializationPromise;return te(G,this,"internal-error"),G.then(()=>M(this.currentUser)),"function"==typeof g?p.addObserver(g,b,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,T.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,T.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();x&&(b["X-Firebase-Client"]=x);const M=yield p._getAppCheckToken();return M&&(b["X-Firebase-AppCheck"]=M),b})()}_getAppCheckToken(){var p=this;return(0,T.Z)(function*(){var g;const b=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function St(v,...p){Rt.logLevel<=Ee.in.WARN&&Rt.warn(`Auth (${Q.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function jn(v){return(0,L.m9)(v)}class Ks{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Es(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class X{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Tt("not implemented")}_getIdTokenResponse(p){return Tt("not implemented")}_linkToIdToken(p,g){return Tt("not implemented")}_getReauthenticationResolver(p){return Tt("not implemented")}}function ve(v,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:resetPassword",_t(v,p))})).apply(this,arguments)}function mn(v,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zt(){return(zt=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:update",_t(v,p))})).apply(this,arguments)}function wn(v,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPassword",_t(v,p))})).apply(this,arguments)}function ri(v,p){return il.apply(this,arguments)}function il(){return(il=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:sendOobCode",_t(v,p))})).apply(this,arguments)}function Zs(){return(Zs=(0,T.Z)(function*(v,p){return ri(v,p)})).apply(this,arguments)}function Ta(v,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,T.Z)(function*(v,p){return ri(v,p)})).apply(this,arguments)}function oi(v,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,T.Z)(function*(v,p){return ri(v,p)})).apply(this,arguments)}function Ln(){return(Ln=(0,T.Z)(function*(v,p){return ri(v,p)})).apply(this,arguments)}function ko(){return(ko=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithEmailLink",_t(v,p))})).apply(this,arguments)}function go(){return(go=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithEmailLink",_t(v,p))})).apply(this,arguments)}class Wn extends X{constructor(p,g,b,x=null){super("password",b),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new Wn(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new Wn(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,T.Z)(function*(){var b;switch(g.signInMethod){case"password":const x={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const M=yield Er(p,x,"signInWithPassword");return wn(p,M)}return wn(p,x).catch(function(){var M=(0,T.Z)(function*(G){if("auth/missing-recaptcha-token"===G.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Er(p,x,"signInWithPassword");return wn(p,ee)}return Promise.reject(G)});return function(G){return M.apply(this,arguments)}}());case"emailLink":return function Xr(v,p){return ko.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:be(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,T.Z)(function*(){switch(b.signInMethod){case"password":return mn(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ni(v,p){return go.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Hi(v,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithIdp",_t(v,p))})).apply(this,arguments)}class ji extends X{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ji(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x}=g,M=(0,he._T)(g,["providerId","signInMethod"]);if(!b||!x)return null;const G=new ji(b,x);return G.idToken=M.idToken||void 0,G.accessToken=M.accessToken||void 0,G.secret=M.secret,G.nonce=M.nonce,G.pendingToken=M.pendingToken||null,G}_getIdTokenResponse(p){return Hi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Hi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Hi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function No(){return(No=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:sendVerificationCode",_t(v,p))})).apply(this,arguments)}function Po(){return(Po=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",_t(v,p))})).apply(this,arguments)}function kr(){return(kr=(0,T.Z)(function*(v,p){const g=yield bn(v,"POST","/v1/accounts:signInWithPhoneNumber",_t(v,p));if(g.temporaryProof)throw Yn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Fo={USER_NOT_FOUND:"user-not-found"};function Or(){return(Or=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithPhoneNumber",_t(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Fo)})).apply(this,arguments)}class er extends X{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new er({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new er({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function si(v,p){return Po.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Aa(v,p){return kr.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function oc(v,p){return Or.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:M}=p;return b||g||x||M?new er({verificationId:g,verificationCode:b,phoneNumber:x,temporaryProof:M}):null}}class Zt{constructor(p){var g,b,x,M,G,ee;const $e=(0,L.zd)((0,L.pd)(p)),Ye=null!==(g=$e.apiKey)&&void 0!==g?g:null,lt=null!==(b=$e.oobCode)&&void 0!==b?b:null,wt=function sc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=$e.mode)&&void 0!==x?x:null);te(Ye&&lt&&wt,"argument-error"),this.apiKey=Ye,this.operation=wt,this.code=lt,this.continueUrl=null!==(M=$e.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(G=$e.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ee=$e.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const g=function ac(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||p||v}(p);try{return new Zt(g)}catch{return null}}}let lc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return Wn._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const x=Zt.parseLink(b);return te(x,"argument-error"),Wn._fromEmailAndCode(g,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Lo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class tr extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Vo extends tr{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return te("providerId"in g&&"signInMethod"in g,"argument-error"),ji._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Vo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Vo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:M,nonce:G,providerId:ee}=p;if(!b&&!x&&!g&&!M||!ee)return null;try{return new Vo(ee)._credential({idToken:g,accessToken:b,nonce:G,pendingToken:M})}catch{return null}}}let es=(()=>{class v extends tr{constructor(){super("facebook.com")}static credential(g){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ys=(()=>{class v extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:x}=g;if(!b&&!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),zi=(()=>{class v extends tr{constructor(){super("github.com")}static credential(g){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Pi extends X{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Hi(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Hi(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Hi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:x,pendingToken:M}=g;return b&&x&&M&&b===x?new Pi(b,M):null}static _create(p,g){return new Pi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ma extends Lo{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ma.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ma.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Pi.fromJSON(p);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Pi._create(b,g)}catch{return null}}}let ts=(()=>{class v extends tr{constructor(){super("twitter.com")}static credential(g,b){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=g;if(!b||!x)return null;try{return v.credential(b,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Cs(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signUp",_t(v,p))})).apply(this,arguments)}class yi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,x=!1){return(0,T.Z)(function*(){const M=yield In._fromIdTokenResponse(p,b,x),G=rl(b);return new yi({user:M,providerId:G,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,T.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const x=rl(b);return new yi({user:p,providerId:x,_tokenResponse:b,operationType:g})})()}}function rl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ol(){return(ol=(0,T.Z)(function*(v){var p;const g=jn(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new yi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Cs(g,{returnSecureToken:!0}),x=yield yi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Xs extends L.ZR{constructor(p,g,b,x){var M;super(g.code,g.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,Xs.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,x){return new Xs(p,g,b,x)}}function cc(v,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Xs._fromErrorAndOperation(v,M,p,b):M})}function x_(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function gh(){return gh=(0,T.Z)(function*(v,p){const g=(0,L.m9)(v);yield Ds(!0,g,p);const{providerUserInfo:b}=yield function Hn(v,p){return ur.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=x_(b||[]);return g.providerData=g.providerData.filter(M=>x.has(M.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),gh.apply(this,arguments)}function Ou(v,p){return _h.apply(this,arguments)}function _h(){return(_h=(0,T.Z)(function*(v,p,g=!1){const b=yield An(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return yi._forOperation(v,"link",b)})).apply(this,arguments)}function Ds(v,p,g){return uc.apply(this,arguments)}function uc(){return(uc=(0,T.Z)(function*(v,p,g){yield Bi(p);const x=!1===v?"provider-already-linked":"no-such-provider";te(x_(p.providerData).has(g)===v,p.auth,x)})).apply(this,arguments)}function yh(v,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,T.Z)(function*(v,p,g=!1){const{auth:b}=v,x="reauthenticate";try{const M=yield An(v,cc(b,x,p,v),g);te(M.idToken,b,"internal-error");const G=st(M.idToken);te(G,b,"internal-error");const{sub:ee}=G;return te(v.uid===ee,b,"user-mismatch"),yi._forOperation(v,x,M)}catch(M){throw"auth/user-not-found"===M?.code&&be(b,"user-mismatch"),M}})).apply(this,arguments)}function Qs(v,p){return vh.apply(this,arguments)}function vh(){return(vh=(0,T.Z)(function*(v,p,g=!1){const b="signIn",x=yield cc(v,b,p),M=yield yi._fromIdTokenResponse(v,b,x);return g||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Bo(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,T.Z)(function*(v,p){return Qs(jn(v),p)})).apply(this,arguments)}function Pu(v,p){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,T.Z)(function*(v,p){const g=(0,L.m9)(v);return yield Ds(!1,g,p.providerId),Ou(g,p)})).apply(this,arguments)}function Dp(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,T.Z)(function*(v,p){return yh((0,L.m9)(v),p)})).apply(this,arguments)}function R(){return(R=(0,T.Z)(function*(v,p){return bn(v,"POST","/v1/accounts:signInWithCustomToken",_t(v,p))})).apply(this,arguments)}function H(){return H=(0,T.Z)(function*(v,p){const g=jn(v),b=yield function Ra(v,p){return R.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),x=yield yi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(x.user),x}),H.apply(this,arguments)}class ue{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Fe._fromServerResponse(p,g):"totpInfo"in g?Ge._fromServerResponse(p,g):be(p,"internal-error")}}class Fe extends ue{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Fe(g)}}class Ge extends ue{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Ge(g)}}function at(v,p,g){var b;te((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),te(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Sn(){return Sn=(0,T.Z)(function*(v,p,g){var b;const x=jn(v),M={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const G=yield Er(x,M,"getOobCode",!0);g&&at(x,G,g),yield Ta(x,G)}else g&&at(x,M,g),yield Ta(x,M).catch(function(){var G=(0,T.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield Er(x,M,"getOobCode",!0);g&&at(x,$e,g),yield Ta(x,$e)}});return function(ee){return G.apply(this,arguments)}}())}),Sn.apply(this,arguments)}function Dn(){return(Dn=(0,T.Z)(function*(v,p,g){yield ve((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Nr(){return Nr=(0,T.Z)(function*(v,p){yield function Mt(v,p){return zt.apply(this,arguments)}((0,L.m9)(v),{oobCode:p})}),Nr.apply(this,arguments)}function Pr(v,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,T.Z)(function*(v,p){const g=(0,L.m9)(v),b=yield ve(g,{oobCode:p}),x=b.requestType;switch(te(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(b.mfaInfo,g,"internal-error");default:te(b.email,g,"internal-error")}let M=null;return b.mfaInfo&&(M=ue._fromServerResponse(jn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:M},operation:x}})).apply(this,arguments)}function Qr(){return(Qr=(0,T.Z)(function*(v,p){const{data:g}=yield Pr((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function ns(){return ns=(0,T.Z)(function*(v,p,g){var b;const x=jn(v),M={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let G;if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Ye=yield Er(x,M,"signUpPassword");G=Cs(x,Ye)}else G=Cs(x,M).catch(function(){var Ye=(0,T.Z)(function*(lt){if("auth/missing-recaptcha-token"===lt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wt=yield Er(x,M,"signUpPassword");return Cs(x,wt)}return Promise.reject(lt)});return function(lt){return Ye.apply(this,arguments)}}());const ee=yield G.catch(Ye=>Promise.reject(Ye)),$e=yield yi._fromIdTokenResponse(x,"signIn",ee);return yield x._updateCurrentUser($e.user),$e}),ns.apply(this,arguments)}function Vu(){return Vu=(0,T.Z)(function*(v,p,g){var b;const x=jn(v),M={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function G(ee,$e){te($e.handleCodeInApp,x,"argument-error"),$e&&at(x,ee,$e)}if(null!==(b=x._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ee=yield Er(x,M,"getOobCode",!0);G(ee,g),yield oi(x,ee)}else G(M,g),yield oi(x,M).catch(function(){var ee=(0,T.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ye=yield Er(x,M,"getOobCode",!0);G(Ye,g),yield oi(x,Ye)}});return function($e){return ee.apply(this,arguments)}}())}),Vu.apply(this,arguments)}function S_(){return(S_=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v),x=lc.credentialWithLink(p,g||mi());return te(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bo(b,x)})).apply(this,arguments)}function xp(){return(xp=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:createAuthUri",_t(v,p))})).apply(this,arguments)}function Ip(){return Ip=(0,T.Z)(function*(v,p){const b={identifier:p,continueUri:ti()?mi():"http://localhost"},{signinMethods:x}=yield function dS(v,p){return xp.apply(this,arguments)}((0,L.m9)(v),b);return x||[]}),Ip.apply(this,arguments)}function hc(){return hc=(0,T.Z)(function*(v,p){const g=(0,L.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&at(g.auth,x,p);const{email:M}=yield function nc(v,p){return Zs.apply(this,arguments)}(g.auth,x);M!==v.email&&(yield v.reload())}),hc.apply(this,arguments)}function Eh(){return Eh=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&at(b.auth,M,g);const{email:G}=yield function Xt(v,p){return Ln.apply(this,arguments)}(b.auth,M);G!==v.email&&(yield v.reload())}),Eh.apply(this,arguments)}function Ch(){return(Ch=(0,T.Z)(function*(v,p){return kt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sp(){return Sp=(0,T.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,L.m9)(v),M={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},G=yield An(b,function M_(v,p){return Ch.apply(this,arguments)}(b.auth,M));b.displayName=G.displayName||null,b.photoURL=G.photoUrl||null;const ee=b.providerData.find(({providerId:$e})=>"password"===$e);ee&&(ee.displayName=b.displayName,ee.photoURL=b.photoURL),yield b._updateTokensIfNecessary(G)}),Sp.apply(this,arguments)}function is(v,p,g){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,T.Z)(function*(v,p,g){const{auth:b}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(M.email=p),g&&(M.password=g);const G=yield An(v,mn(b,M));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Bn{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class O_ extends Bn{constructor(p,g,b,x){super(p,g,b),this.username=x}}class ka extends Bn{constructor(p,g){super(p,"facebook.com",g)}}class Lr extends O_{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class xh extends Bn{constructor(p,g){super(p,"google.com",g)}}class al extends O_{constructor(p,g,b){super(p,"twitter.com",g,b)}}function ll(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function k_(v){var p,g;if(!v)return null;const{providerId:b}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const G=null===(g=null===(p=st(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(G)return new Bn(M,"anonymous"!==G&&"custom"!==G?G:null)}if(!b)return null;switch(b){case"facebook.com":return new ka(M,x);case"github.com":return new Lr(M,x);case"google.com":return new xh(M,x);case"twitter.com":return new al(M,x,v.screenName||null);case"custom":case"anonymous":return new Bn(M,null);default:return new Bn(M,b,x)}}(g)}class Ss{constructor(p,g,b){this.type=p,this.credential=g,this.auth=b}static _fromIdtoken(p,g){return new Ss("enroll",p,g)}static _fromMfaPendingCredential(p){return new Ss("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ss._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Ss._fromIdtoken(p.multiFactorSession.idToken)}return null}}class $t{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=jn(p),x=g.customData._serverResponse,M=(x.mfaInfo||[]).map(ee=>ue._fromServerResponse(b,ee));te(x.mfaPendingCredential,b,"internal-error");const G=Ss._fromMfaPendingCredential(x.mfaPendingCredential);return new $t(G,M,function(){var ee=(0,T.Z)(function*($e){const Ye=yield $e._process(b,G);delete x.mfaInfo,delete x.mfaPendingCredential;const lt=Object.assign(Object.assign({},x),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const wt=yield yi._fromIdTokenResponse(b,g.operationType,lt);return yield b._updateCurrentUser(wt.user),wt;case"reauthenticate":return te(g.user,b,"internal-error"),yi._forOperation(g.user,g.operationType,lt);default:be(b,"internal-error")}});return function($e){return ee.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,T.Z)(function*(){return g.signInResolver(p)})()}}class Ts{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ue._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ts(p)}getSession(){var p=this;return(0,T.Z)(function*(){return Ss._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var b=this;return(0,T.Z)(function*(){const x=p,M=yield b.getSession(),G=yield An(b.user,x._process(b.user.auth,M,g));return yield b.user._updateTokensIfNecessary(G),b.user.reload()})()}unenroll(p){var g=this;return(0,T.Z)(function*(){const b="string"==typeof p?p:p.uid,x=yield g.user.getIdToken();try{const M=yield An(g.user,function kp(v,p){return kt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",_t(v,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:G})=>G!==b),yield g.user._updateTokensIfNecessary(M),yield g.user.reload()}catch(M){throw M}})()}}const fc=new WeakMap,Bu="__sak";class B_{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const pc=(()=>{class v extends B_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Op(){const v=(0,L.z$)();return ce(v)||Me(v)}()&&function jt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),M=this.localCache[b];x!==M&&g(b,M,x)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ee,$e,Ye)=>{this.notifyListeners(ee,Ye)});const x=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(x);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!b)return}const M=()=>{const ee=this.storage.getItem(x);!b&&this.localCache[x]===ee||this.notifyListeners(x,ee)},G=this.storage.getItem(x);!function Bt(){return(0,L.w1)()&&10===document.documentMode}()||G===g.newValue||g.newValue===g.oldValue?M():setTimeout(M,10)}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const M of Array.from(x))M(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var x=()=>super._set,M=this;return(0,T.Z)(function*(){yield x().call(M,g,b),M.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,x=this;return(0,T.Z)(function*(){const M=yield b().call(x,g);return x.localCache[g]=JSON.stringify(M),M})()}_remove(g){var b=()=>super._remove,x=this;return(0,T.Z)(function*(){yield b().call(x,g),delete x.localCache[g]})()}}return v.type="LOCAL",v})(),As=(()=>{class v extends B_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let rs=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(M=>M.isListeningto(g));if(b)return b;const x=new v(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,T.Z)(function*(){const x=g,{eventId:M,eventType:G,data:ee}=x.data,$e=b.handlersMap[G];if(!$e?.size)return;x.ports[0].postMessage({status:"ack",eventId:M,eventType:G});const Ye=Array.from($e).map(function(){var wt=(0,T.Z)(function*(Zn){return Zn(x.origin,ee)});return function(Zn){return wt.apply(this,arguments)}}()),lt=yield function mc(v){return Promise.all(v.map(function(){var p=(0,T.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(Ye);x.ports[0].postMessage({status:"done",eventId:M,eventType:G,response:lt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ul(v="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return v+g}class Pp{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var x=this;return(0,T.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let G,ee;return new Promise(($e,Ye)=>{const lt=ul("",20);M.port1.start();const wt=setTimeout(()=>{Ye(new Error("unsupported_event"))},b);ee={messageChannel:M,onMessage(Zn){const mr=Zn;if(mr.data.eventId===lt)switch(mr.data.status){case"ack":clearTimeout(wt),G=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),$e(mr.data.response);break;default:clearTimeout(wt),clearTimeout(G),Ye(new Error("invalid_response"))}}},x.handlers.add(ee),M.port1.addEventListener("message",ee.onMessage),x.target.postMessage({eventType:p,eventId:lt,data:g},[M.port2])}).finally(()=>{ee&&x.removeMessageHandler(ee)})})()}}function vi(){return window}function Uu(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function Uo(){return(Uo=(0,T.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const os="firebaseLocalStorageDb",hl="firebaseLocalStorage",Ah="fbase_key";class Hu{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fl(v,p){return v.transaction([hl],p?"readwrite":"readonly").objectStore(hl)}function ju(){const v=indexedDB.open(os,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(hl,{keyPath:Ah})}catch(x){g(x)}}),v.addEventListener("success",(0,T.Z)(function*(){const b=v.result;b.objectStoreNames.contains(hl)?p(b):(b.close(),yield function Lp(){const v=indexedDB.deleteDatabase(os);return new Hu(v).toPromise()}(),p(yield ju()))}))})}function gc(v,p,g){return zu.apply(this,arguments)}function zu(){return(zu=(0,T.Z)(function*(v,p,g){const b=fl(v,!0).put({[Ah]:p,value:g});return new Hu(b).toPromise()})).apply(this,arguments)}function _c(){return(_c=(0,T.Z)(function*(v,p){const g=fl(v,!1).get(p),b=yield new Hu(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Mh(v,p){const g=fl(v,!0).delete(p);return new Hu(g).toPromise()}const Oa=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,T.Z)(function*(){return g.db||(g.db=yield ju()),g.db})()}_withRetries(g){var b=this;return(0,T.Z)(function*(){let x=0;for(;;)try{const M=yield b._openDb();return yield g(M)}catch(M){if(x++>3)throw M;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,T.Z)(function*(){return Uu()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,T.Z)(function*(){g.receiver=rs._getInstance(function dl(){return Uu()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,T.Z)(function*(x,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(x,M){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,T.Z)(function*(x,M){return["keyChanged"]});return function(x,M){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,T.Z)(function*(){var b,x;if(g.activeServiceWorker=yield function Dr(){return Uo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pp(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);M&&null!==(b=M[0])&&void 0!==b&&b.fulfilled&&null!==(x=M[0])&&void 0!==x&&x.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,T.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Th(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ju();return yield gc(g,Bu,"1"),yield Mh(g,Bu),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,T.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var x=this;return(0,T.Z)(function*(){return x._withPendingWrite((0,T.Z)(function*(){return yield x._withRetries(M=>gc(M,g,b)),x.localCache[g]=b,x.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,T.Z)(function*(){const x=yield b._withRetries(M=>function Ms(v,p){return _c.apply(this,arguments)}(M,g));return b.localCache[g]=x,x})()}_remove(g){var b=this;return(0,T.Z)(function*(){return b._withPendingWrite((0,T.Z)(function*(){return yield b._withRetries(x=>Mh(x,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,T.Z)(function*(){const b=yield g._withRetries(G=>{const ee=fl(G,!1).getAll();return new Hu(ee).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const x=[],M=new Set;for(const{fbase_key:G,value:ee}of b)M.add(G),JSON.stringify(g.localCache[G])!==JSON.stringify(ee)&&(g.notifyListeners(G,ee),x.push(G));for(const G of Object.keys(g.localCache))g.localCache[G]&&!M.has(G)&&(g.notifyListeners(G,null),x.push(G));return x})()}notifyListeners(g,b){this.localCache[g]=b;const x=this.listeners[g];if(x)for(const M of Array.from(x))M(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),kh=1e12;class Q0{constructor(p){this.auth=p,this.counter=kh,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new J0(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||kh;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||kh))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,T.Z)(function*(){var b;return null===(b=g._widgets.get(p||kh))||void 0===b||b.execute(),""})()}}class J0{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;te(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oh(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gu=mo("rcb"),Nh=new Re(3e4,6e4);class Na{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=vi().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return te(function ew(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Jt(vi().grecaptcha)?Promise.resolve(vi().grecaptcha):new Promise((b,x)=>{const M=vi().setTimeout(()=>{x(ae(p,"network-request-failed"))},Nh.get());vi()[Gu]=()=>{vi().clearTimeout(M),delete vi()[Gu];const ee=vi().grecaptcha;if(!ee||!Jt(ee))return void x(ae(p,"internal-error"));const $e=ee.render;ee.render=(Ye,lt)=>{const wt=$e(Ye,lt);return this.counter++,wt},this.hostLanguage=g,b(ee)},hr(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Gu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),x(ae(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=vi().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ph{load(p){return(0,T.Z)(function*(){return new Q0(p)})()}clearedOneInstance(){}}const qu="recaptcha",Fh={theme:"light",type:"image"};class Vp{constructor(p,g=Object.assign({},Fh),b){this.parameters=g,this.type=qu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(b),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;te(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ph:new Na,this.validateStartingState()}verify(){var p=this;return(0,T.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(M=>{const G=ee=>{ee&&(p.tokenChangeListeners.delete(G),M(ee))};p.tokenChangeListeners.add(G),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=vi()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,T.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,T.Z)(function*(){te(ti()&&!Uu(),p.auth,"internal-error"),yield function H_(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ne(v){return ke.apply(this,arguments)}(p.auth);te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gi{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=er._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Rs(){return(Rs=(0,T.Z)(function*(v,p,g){const b=jn(v),x=yield Lh(b,p,(0,L.m9)(g));return new Gi(x,M=>Bo(b,M))})).apply(this,arguments)}function It(){return(It=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v);yield Ds(!1,b,"phone");const x=yield Lh(b.auth,p,(0,L.m9)(g));return new Gi(x,M=>Pu(b,M))})).apply(this,arguments)}function vc(){return(vc=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v),x=yield Lh(b.auth,p,(0,L.m9)(g));return new Gi(x,M=>Dp(b,M))})).apply(this,arguments)}function Lh(v,p,g){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,T.Z)(function*(v,p,g){var b;const x=yield g.verify();try{let M;if(te("string"==typeof x,v,"argument-error"),te(g.type===qu,v,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const G=M.session;if("phoneNumber"in M)return te("enroll"===G.type,v,"internal-error"),(yield function K0(v,p){return kt(v,"POST","/v2/accounts/mfaEnrollment:start",_t(v,p))}(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{te("signin"===G.type,v,"internal-error");const ee=(null===(b=M.multiFactorHint)||void 0===b?void 0:b.uid)||M.multiFactorUid;return te(ee,v,"missing-multi-factor-info"),(yield function X0(v,p){return kt(v,"POST","/v2/accounts/mfaSignIn:start",_t(v,p))}(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function rc(v,p){return No.apply(this,arguments)}(v,{phoneNumber:M.phoneNumber,recaptchaToken:x});return G}}finally{g._reset()}}),Vh.apply(this,arguments)}function Bh(){return(Bh=(0,T.Z)(function*(v,p){yield Ou((0,L.m9)(v),p)})).apply(this,arguments)}let Wu=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=jn(g)}verifyPhoneNumber(g,b){return Lh(this.auth,g,(0,L.m9)(b))}static credential(g,b){return er._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:x}=g;return b&&x?er._fromTokenResponse(b,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ho(v,p){return p?sn(p):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Lt extends X{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Hi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Hi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Hi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function z_(v){return Qs(v.auth,new Lt(v),v.bypassAuthState)}function Ku(v){const{auth:p,user:g}=v;return te(g,p,"internal-error"),yh(g,new Lt(v),v.bypassAuthState)}function bc(v){return ss.apply(this,arguments)}function ss(){return(ss=(0,T.Z)(function*(v){const{auth:p,user:g}=v;return te(g,p,"internal-error"),Ou(g,new Lt(v),v.bypassAuthState)})).apply(this,arguments)}class Bp{constructor(p,g,b,x,M=!1){this.auth=p,this.resolver=b,this.user=x,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,T.Z)(function*(b,x){p.pendingPromise={resolve:b,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(b,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,T.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:M,tenantId:G,error:ee,type:$e}=p;if(ee)return void g.reject(ee);const Ye={auth:g.auth,requestUri:b,sessionId:x,tenantId:G||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($e)(Ye))}catch(lt){g.reject(lt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return z_;case"linkViaPopup":case"linkViaRedirect":return bc;case"reauthViaPopup":case"reauthViaRedirect":return Ku;default:be(this.auth,"internal-error")}}resolve(p){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rr=new Re(2e3,1e4);function ml(){return(ml=(0,T.Z)(function*(v,p,g){const b=jn(v);He(v,p,Lo);const x=Ho(b,g);return new ea(b,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function Zu(){return(Zu=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v);He(b.auth,p,Lo);const x=Ho(b.auth,g);return new ea(b.auth,"reauthViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}function Js(){return(Js=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v);He(b.auth,p,Lo);const x=Ho(b.auth,g);return new ea(b.auth,"linkViaPopup",p,x,b).executeNotNull()})).apply(this,arguments)}let ea=(()=>{class v extends Bp{constructor(g,b,x,M,G){super(g,b,M,G),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,T.Z)(function*(){const b=yield g.execute();return te(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,T.Z)(function*(){Ze(1===g.filter.length,"Popup operations only handle one event");const b=ul();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(ae(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,rr.get())};g()}}return v.currentPopupAction=null,v})();const Uh="pendingRedirect",ls=new Map;class gl extends Bp{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,T.Z)(function*(){let b=ls.get(g.auth._key());if(!b){try{const M=(yield function wc(v,p){return Xu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(M)}catch(x){b=()=>Promise.reject(x)}ls.set(g.auth._key(),b)}return g.bypassAuthState||ls.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,T.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const x=yield b.auth._redirectUserForId(p.eventId);if(x)return b.user=x,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function Xu(){return(Xu=(0,T.Z)(function*(v,p){const g=Qu(p),b=cs(v);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(g));return yield b._remove(g),x})).apply(this,arguments)}function ks(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,T.Z)(function*(v,p){return cs(v)._set(Qu(p),"true")})).apply(this,arguments)}function Ii(v,p){ls.set(v._key(),p)}function cs(v){return sn(v._redirectPersistence)}function Qu(v){return z(Uh,v.config.apiKey,v.name)}function Tn(v,p,g){return function qi(v,p,g){return bi.apply(this,arguments)}(v,p,g)}function bi(){return(bi=(0,T.Z)(function*(v,p,g){const b=jn(v);He(v,p,Lo),yield b._initializationPromise;const x=Ho(b,g);return yield ks(x,b),x._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Pa(v,p,g){return function Si(v,p,g){return Ti.apply(this,arguments)}(v,p,g)}function Ti(){return(Ti=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v);He(b.auth,p,Lo),yield b.auth._initializationPromise;const x=Ho(b.auth,g);yield ks(x,b.auth);const M=yield ed(b);return x._openRedirect(b.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function Ju(v,p,g){return function Hh(v,p,g){return Cc.apply(this,arguments)}(v,p,g)}function Cc(){return(Cc=(0,T.Z)(function*(v,p,g){const b=(0,L.m9)(v);He(b.auth,p,Lo),yield b.auth._initializationPromise;const x=Ho(b.auth,g);yield Ds(!1,b,p.providerId),yield ks(x,b.auth);const M=yield ed(b);return x._openRedirect(b.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function eo(){return(eo=(0,T.Z)(function*(v,p){return yield jn(v)._initializationPromise,Kn(v,p,!1)})).apply(this,arguments)}function Kn(v,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,T.Z)(function*(v,p,g=!1){const b=jn(v),x=Ho(b,p),G=yield new gl(b,x,g).execute();return G&&!g&&(delete G.user._redirectEventId,yield b._persistUserIfCurrent(G.user),yield b._setRedirectUser(null,p)),G})).apply(this,arguments)}function ed(v){return zo.apply(this,arguments)}function zo(){return(zo=(0,T.Z)(function*(v){const p=ul(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jp{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function dn(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return td(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!td(p)){const x=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ae(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(p))}saveEventToCache(p){this.cachedEventUids.add($_(p)),this.lastProcessedEventTime=Date.now()}}function $_(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function td({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Dc(v){return zp.apply(this,arguments)}function zp(){return(zp=(0,T.Z)(function*(v,p={}){return kt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ic=/^https?/;function $o(){return($o=(0,T.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Dc(v);for(const g of p)try{if(Ai(g))return}catch{}be(v,"unauthorized-domain")})).apply(this,arguments)}function Ai(v){const p=mi(),{protocol:g,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&G.hostname===b}if(!Ic.test(g))return!1;if(xc.test(v))return b===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const $p=new Re(3e4,6e4);function to(){const v=vi().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let fr=null;const Gp=new Re(5e3,15e3),Sc="__/auth/iframe",Tc="emulator/auth/iframe",qp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nd(v){const p=v.config;te(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Le(p,Tc):`https://${v.config.authDomain}/${Sc}`,b={apiKey:p.apiKey,appName:v.name,v:Q.SDK_VERSION},x=q_.get(v.config.apiHost);x&&(b.eid=x);const M=v._getFrameworks();return M.length&&(b.fw=M.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function an(){return an=(0,T.Z)(function*(v){const p=yield function _l(v){return fr=fr||function G_(v){return new Promise((p,g)=>{var b,x,M;function G(){to(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{to(),g(ae(v,"network-request-failed"))},timeout:$p.get()})}if(null!==(x=null===(b=vi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(M=vi().gapi)||void 0===M||!M.load){const ee=mo("iframefcb");return vi()[ee]=()=>{gapi.load?G():g(ae(v,"network-request-failed"))},hr(`https://apis.google.com/js/api.js?onload=${ee}`).catch($e=>g($e))}G()}}).catch(p=>{throw fr=null,p})}(v),fr}(v),g=vi().gapi;return te(g,v,"internal-error"),p.open({where:document.body,url:nd(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qp,dontclear:!0},b=>new Promise(function(){var x=(0,T.Z)(function*(M,G){yield b.restyle({setHideOnLeave:!1});const ee=ae(v,"network-request-failed"),$e=vi().setTimeout(()=>{G(ee)},Gp.get());function Ye(){vi().clearTimeout($e),M(b)}b.ping(Ye).then(Ye,()=>{G(ee)})});return function(M,G){return x.apply(this,arguments)}}()))}),an.apply(this,arguments)}const Fa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class id{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rc="__/auth/handler",Kp="emulator/auth/handler",bl=encodeURIComponent("fac");function wl(v,p,g,b,x,M){return kc.apply(this,arguments)}function kc(){return(kc=(0,T.Z)(function*(v,p,g,b,x,M){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:Q.SDK_VERSION,eventId:x};if(p instanceof Lo){p.setDefaultLanguage(v.languageCode),G.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(G.customParameters=JSON.stringify(p.getCustomParameters()));for(const[lt,wt]of Object.entries(M||{}))G[lt]=wt}if(p instanceof tr){const lt=p.getScopes().filter(wt=>""!==wt);lt.length>0&&(G.scopes=lt.join(","))}v.tenantId&&(G.tid=v.tenantId);const ee=G;for(const lt of Object.keys(ee))void 0===ee[lt]&&delete ee[lt];const $e=yield v._getAppCheckToken(),Ye=$e?`#${bl}=${encodeURIComponent($e)}`:"";return`${function La({config:v}){return v.emulator?Le(v,Kp):`https://${v.authDomain}/${Rc}`}(v)}?${(0,L.xO)(ee).slice(1)}${Ye}`})).apply(this,arguments)}const od="webStorageSupport",Zp=class Oc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Kn,this._overrideRedirectResult=Ii}_openPopup(p,g,b,x){var M=this;return(0,T.Z)(function*(){var G;Ze(null===(G=M.eventManagers[p._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ee=yield wl(p,g,b,mi(),x);return function W_(v,p,g,b=500,x=600){const M=Math.max((window.screen.availHeight-x)/2,0).toString(),G=Math.max((window.screen.availWidth-b)/2,0).toString();let ee="";const $e=Object.assign(Object.assign({},Fa),{width:b.toString(),height:x.toString(),top:M,left:G}),Ye=(0,L.z$)().toLowerCase();g&&(ee=tt(Ye)?"_blank":g),Te(Ye)&&(p=p||"http://localhost",$e.scrollbars="yes");const lt=Object.entries($e).reduce((Zn,[mr,Fs])=>`${Zn}${mr}=${Fs},`,"");if(function ht(v=(0,L.z$)()){var p;return Me(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ye)&&"_self"!==ee)return function rd(v,p){const g=document.createElement("a");g.href=v,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",ee),new id(null);const wt=window.open(p||"",ee,lt);te(wt,v,"popup-blocked");try{wt.focus()}catch{}return new id(wt)}(p,ee,ul())})()}_openRedirect(p,g,b,x){var M=this;return(0,T.Z)(function*(){return yield M._originValidation(p),function hS(v){vi().location.href=v}(yield wl(p,g,b,mi(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:M}=this.eventManagers[g];return x?Promise.resolve(x):(Ze(M,"If manager is not set, promise should be"),M)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,T.Z)(function*(){const b=yield function Ac(v){return an.apply(this,arguments)}(p),x=new jp(p);return b.register("authEvent",M=>(te(M?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=b,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(od,{type:od},x=>{var M;const G=null===(M=x?.[0])||void 0===M?void 0:M[od];void 0!==G&&g(!!G),be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tw(v){return $o.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Qt()||ce()||Me()}};class Yp{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return Tt("unexpected MultiFactorSessionType")}}}class Nc extends Yp{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nc(p)}_finalizeEnroll(p,g,b){return function L_(v,p){return kt(v,"POST","/v2/accounts/mfaEnrollment:finalize",_t(v,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function U_(v,p){return kt(v,"POST","/v2/accounts/mfaSignIn:finalize",_t(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let El=(()=>{class v{constructor(){}static assertion(g){return Nc._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Cl="@firebase/auth";class nw{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,T.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Go(){return window}(0,L.Pz)("authIdTokenMaxAge"),function Jp(v){(0,Q._registerComponent)(new re.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),M=p.getProvider("app-check-internal"),{apiKey:G,authDomain:ee}=b.options;te(G&&!G.includes(":"),"invalid-api-key",{appName:b.name});const $e={apiKey:G,authDomain:ee,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:le(v)},Ye=new Ia(b,x,M,$e);return function nl(v,p){const g=p?.persistence||[],b=(Array.isArray(g)?g:[g]).map(sn);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,p?.popupRedirectResolver)}(Ye,g),Ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new re.wA("auth-internal",p=>{const g=jn(p.getProvider("auth").getImmediate());return new nw(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Cl,"0.23.2",function zh(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,Q.registerVersion)(Cl,"0.23.2","esm2017")}("Browser");function $h(){return $h=(0,T.Z)(function*(v,p,g){var b;const{BuildInfo:x}=Go();Ze(p.sessionId,"AuthEvent did not contain a session ID");const M=yield function Y_(v){return Ns.apply(this,arguments)}(p.sessionId),G={};return Me()?G.ibi=x.packageName:Y()?G.apn=x.packageName:be(v,"operation-not-supported-in-this-environment"),x.displayName&&(G.appDisplayName=x.displayName),G.sessionId=M,wl(v,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,G)}),$h.apply(this,arguments)}function nm(){return(nm=(0,T.Z)(function*(v){const{BuildInfo:p}=Go(),g={};Me()?g.iosBundleId=p.packageName:Y()?g.androidPackageName=p.packageName:be(v,"operation-not-supported-in-this-environment"),yield Dc(v,g)})).apply(this,arguments)}function Fc(){return(Fc=(0,T.Z)(function*(v,p,g){const{cordova:b}=Go();let x=()=>{};try{yield new Promise((M,G)=>{let ee=null;function $e(){var wt;M();const Zn=null===(wt=b.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof Zn&&Zn(),"function"==typeof g?.close&&g.close()}function Ye(){ee||(ee=window.setTimeout(()=>{G(ae(v,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===document?.visibilityState&&Ye()}p.addPassiveListener($e),document.addEventListener("resume",Ye,!1),Y()&&document.addEventListener("visibilitychange",lt,!1),x=()=>{p.removePassiveListener($e),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",lt,!1),ee&&window.clearTimeout(ee)}})}finally{x()}})).apply(this,arguments)}function Ns(){return(Ns=(0,T.Z)(function*(v){const p=function ow(v){if(Ze(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let b=0;b<v.length;b++)g[b]=v.charCodeAt(b);return g}(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class sw extends jp{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,T.Z)(function*(){yield p.initPromise})()}}function Dl(v){return xr.apply(this,arguments)}function xr(){return(xr=(0,T.Z)(function*(v){const p=yield Ba()._get(na(v));return p&&(yield Ba()._remove(na(v))),p})).apply(this,arguments)}function ta(){const v=[];for(let g=0;g<20;g++){const b=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return v.join("")}function Ba(){return sn(pc)}function na(v){return z("authEvent",v.config.apiKey,v.name)}function Vc(v){if(!v?.includes("?"))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}const us=class ud{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kn,this._overrideRedirectResult=Ii}_initialize(p){var g=this;return(0,T.Z)(function*(){const b=p._key();let x=g.eventManagers.get(b);return x||(x=new sw(p),g.eventManagers.set(b,x),g.attachCallbackListeners(p,x)),x})()}_openPopup(p){be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,x){var M=this;return(0,T.Z)(function*(){!function rw(v){var p,g,b,x,M,G,ee,$e,Ye,lt;const wt=Go();te("function"==typeof(null===(p=wt?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(g=wt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(M=null===(x=null===(b=wt?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===M?void 0:M.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===($e=null===(ee=null===(G=wt?.cordova)||void 0===G?void 0:G.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===$e?void 0:$e.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(lt=null===(Ye=wt?.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===lt?void 0:lt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const G=yield M._initialize(p);yield G.initialized(),G.resetRedirect(),function Ec(){ls.clear()}(),yield M._originValidation(p);const ee=function X_(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:ta(),postBody:null,tenantId:v.tenantId,error:ae(v,"no-auth-event")}}(p,b,x);yield function Q_(v,p){return Ba()._set(na(v),p)}(p,ee);const $e=yield function ad(v,p,g){return $h.apply(this,arguments)}(p,ee,g),Ye=yield function ld(v){const{cordova:p}=Go();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let x=null;b?p.plugins.browsertab.openUrl(v):x=p.InAppBrowser.open(v,function Pe(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(x)})})}($e);return function Z_(v,p,g){return Fc.apply(this,arguments)}(p,G,Ye)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gh(v){return nm.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:x,BuildInfo:M}=Go(),G=setTimeout((0,T.Z)(function*(){yield Dl(p),g.onEvent(om())}),500),ee=function(){var lt=(0,T.Z)(function*(wt){clearTimeout(G);const Zn=yield Dl(p);let mr=null;Zn&&wt?.url&&(mr=function Lc(v,p){var g,b;const x=function rm(v){const p=Vc(v),g=p.link?decodeURIComponent(p.link):void 0,b=Vc(g).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Vc(x).link||x||b||g||v}(p);if(x.includes("/__/auth/callback")){const M=Vc(x),G=M.firebaseError?function ia(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ee=null===(b=null===(g=G?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],$e=ee?ae(ee):null;return $e?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(Zn,wt.url)),g.onEvent(mr||om())});return function(Zn){return lt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ee);const $e=x,Ye=`${M.packageName.toLowerCase()}://`;Go().handleOpenURL=function(){var lt=(0,T.Z)(function*(wt){if(wt.toLowerCase().startsWith(Ye)&&ee({url:wt}),"function"==typeof $e)try{$e(wt)}catch(Zn){console.error(Zn)}});return function(wt){return lt.apply(this,arguments)}}()}};function om(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ae("no-auth-event")}}function Bc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function ty(v=(0,L.z$)()){return!("file:"!==Bc()&&"ionic:"!==Bc()&&"capacitor:"!==Bc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function xl(){try{const v=self.localStorage,p=ul();if(v)return v.setItem(p,"1"),v.removeItem(p),!function pr(v=(0,L.z$)()){return function Uc(){return(0,L.w1)()&&11===document?.documentMode}()||function cm(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch{return bo()&&(0,L.hl)()}return!1}function bo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ds(){return(function am(){return"http:"===Bc()||"https:"===Bc()}()||(0,L.ru)()||ty())&&!function lm(){return(0,L.b$)()||(0,L.UG)()}()&&xl()&&!bo()}function Wi(){return ty()&&typeof document<"u"}function dd(){return(dd=(0,T.Z)(function*(){return!!Wi()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},Sl=te,Hc="persistence";function jc(v){return zc.apply(this,arguments)}function zc(){return(zc=(0,T.Z)(function*(v){yield v._initializationPromise;const p=hd(),g=z(Hc,v.config.apiKey,v.name);p&&p.setItem(g,v._getPersistence())})).apply(this,arguments)}function hd(){var v;try{return(null===(v=function ra(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const $c=te;class hs{constructor(){this.browserResolver=sn(Zp),this.cordovaResolver=sn(us),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=Kn,this._overrideRedirectResult=Ii}_initialize(p){var g=this;return(0,T.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,x){var M=this;return(0,T.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(p,g,b,x)})()}_openRedirect(p,g,b,x){var M=this;return(0,T.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(p,g,b,x)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $c(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,T.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Il(){return dd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Gc(v){return v.unwrap()}function ny(v){return Zh(v)}function Zh(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Wu.credentialFromResult(v);const g=p.providerId;if(!g||g===pe.PASSWORD)return null;let b;switch(g){case pe.GOOGLE:b=Ys;break;case pe.FACEBOOK:b=es;break;case pe.GITHUB:b=zi;break;case pe.TWITTER:b=ts;break;default:const{oauthIdToken:x,oauthAccessToken:M,oauthTokenSecret:G,pendingToken:ee,nonce:$e}=p;return M||G||x||ee?ee?g.startsWith("saml.")?Pi._create(g,ee):ji._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:x,accessToken:M}):new Vo(g).credential({idToken:x,accessToken:M,rawNonce:$e}):null}return v instanceof L.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Ir(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function qc(v,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Wc(v,function Rp(v,p){var g;const b=(0,L.m9)(v),x=p;return te(p.customData.operationType,b,"argument-error"),te(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),$t._fromError(b,x)}(v,p));else if(b){const x=Zh(p),M=p;x&&(M.credential=x,M.tenantId=b.tenantId||void 0,M.email=b.email||void 0,M.phoneNumber=b.phoneNumber||void 0)}}(v,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:ny(g),additionalUserInfo:ll(g),user:qo.getOrCreate(x)}})}function Al(v,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,T.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>Ir(v,g.confirm(b))}})).apply(this,arguments)}class Wc{constructor(p,g){this.resolver=g,this.auth=function Tl(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ir(Gc(this.auth),this.resolver.resolveSignIn(p))}}class qo{constructor(p){this._delegate=p,this.multiFactor=function Sh(v){const p=(0,L.m9)(v);return fc.has(p)||fc.set(p,Ts._fromUser(p)),fc.get(p)}(p)}static getOrCreate(p){return qo.USER_MAP.has(p)||qo.USER_MAP.set(p,new qo(p)),qo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,T.Z)(function*(){return Ir(g.auth,Pu(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,T.Z)(function*(){return Al(b.auth,function qn(v,p,g){return It.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,T.Z)(function*(){return Ir(g.auth,function Yu(v,p,g){return Js.apply(this,arguments)}(g._delegate,p,hs))})()}linkWithRedirect(p){var g=this;return(0,T.Z)(function*(){return yield jc(jn(g.auth)),Ju(g._delegate,p,hs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,T.Z)(function*(){return Ir(g.auth,Dp(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Al(this.auth,function yo(v,p,g){return vc.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Ir(this.auth,function as(v,p,g){return Zu.apply(this,arguments)}(this._delegate,p,hs))}reauthenticateWithRedirect(p){var g=this;return(0,T.Z)(function*(){return yield jc(jn(g.auth)),Pa(g._delegate,p,hs)})()}sendEmailVerification(p){return function G0(v,p){return hc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,T.Z)(function*(){return yield function I_(v,p){return gh.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Tp(v,p){return is((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function q0(v,p){return is((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function j_(v,p){return Bh.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function R_(v,p){return Sp.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function A_(v,p,g){return Eh.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qo.USER_MAP=new WeakMap;const oa=te;let Ml=(()=>{class v{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;oa(x,"invalid-api-key",{appName:g.name}),oa(x,"invalid-api-key",{appName:g.name});const M=typeof window<"u"?hs:void 0;this._delegate=b.initialize({options:{persistence:aw(x,g.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Sa(v,p,g){const b=jn(v);te(b._canInitEmulator,b,"emulator-config-failed"),te(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const x=!!g?.disableWarnings,M=Ro(p),{host:G,port:ee}=function ws(v){const p=Ro(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const M=x[1];return{host:M,port:Es(b.substr(M.length+1))}}{const[M,G]=b.split(":");return{host:M,port:Es(G)}}}(p);b.config.emulator={url:`${M}//${G}${null===ee?"":`:${ee}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:G,port:ee,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function V(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,b)}applyActionCode(g){return function Pt(v,p){return Nr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Pr(this._delegate,g)}confirmPasswordReset(g,b){return function yn(v,p,g){return Dn.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var x=this;return(0,T.Z)(function*(){return Ir(x._delegate,function Fr(v,p,g){return ns.apply(this,arguments)}(x._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function T_(v,p){return Ip.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function wh(v,p){const g=Zt.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,T.Z)(function*(){oa(ds(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Jr(v,p){return eo.apply(this,arguments)}(g._delegate,hs);return b?Ir(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function J_(v,p){jn(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,x){const{next:M,error:G,complete:ee}=um(g,b,x);return this._delegate.onAuthStateChanged(M,G,ee)}onIdTokenChanged(g,b,x){const{next:M,error:G,complete:ee}=um(g,b,x);return this._delegate.onIdTokenChanged(M,G,ee)}sendSignInLinkToEmail(g,b){return function bh(v,p,g){return Vu.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Vn(v,p,g){return Sn.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,T.Z)(function*(){let x;switch(function Wh(v,p){Sl(Object.values(Br).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?Sl(p!==Br.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?Sl(p===Br.NONE,v,"unsupported-persistence-type"):bo()?Sl(p===Br.NONE||p===Br.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):Sl(p===Br.NONE||xl(),v,"unsupported-persistence-type")}(b._delegate,g),g){case Br.SESSION:x=As;break;case Br.LOCAL:x=(yield sn(Oa)._isAvailable())?Oa:pc;break;case Br.NONE:x=pn;break;default:return be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ir(this._delegate,function ku(v){return ol.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ir(this._delegate,Bo(this._delegate,g))}signInWithCustomToken(g){return Ir(this._delegate,function O(v,p){return H.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ir(this._delegate,function Lu(v,p,g){return Bo((0,L.m9)(v),lc.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ir(this._delegate,function $0(v,p,g){return S_.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Al(this._delegate,function _o(v,p,g){return Rs.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,T.Z)(function*(){return oa(ds(),b._delegate,"operation-not-supported-in-this-environment"),Ir(b._delegate,function Up(v,p,g){return ml.apply(this,arguments)}(b._delegate,g,hs))})()}signInWithRedirect(g){var b=this;return(0,T.Z)(function*(){return oa(ds(),b._delegate,"operation-not-supported-in-this-environment"),yield jc(b._delegate),Tn(b._delegate,g,hs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function sl(v,p){return Qr.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Br,v})();function um(v,p,g){let b=v;"function"!=typeof v&&({next:b,error:p,complete:g}=v);const x=b;return{next:G=>x(G&&qo.getOrCreate(G)),error:p,complete:g}}function aw(v,p){const g=function Kh(v,p){const g=hd();if(!g)return[];const b=z(Hc,v,p);switch(g.getItem(b)){case Br.NONE:return[pn];case Br.LOCAL:return[Oa,As];case Br.SESSION:return[As];default:return[]}}(v,p);if(typeof self<"u"&&!g.includes(Oa)&&g.push(Oa),typeof window<"u")for(const b of[pc,As])g.includes(b)||g.push(b);return g.includes(pn)||g.push(pn),g}class dm{constructor(){this.providerId="phone",this._delegate=new Wu(Gc(u.Z.auth()))}static credential(p,g){return Wu.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}dm.PHONE_SIGN_IN_METHOD=Wu.PHONE_SIGN_IN_METHOD,dm.PROVIDER_ID=Wu.PROVIDER_ID;const lw=te;class cw{constructor(p,g,b=u.Z.app()){var x;lw(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Vp(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ry(v){v.INTERNAL.registerComponent(new re.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new Ml(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lc,FacebookAuthProvider:es,GithubAuthProvider:zi,GoogleAuthProvider:Ys,OAuthProvider:Vo,SAMLAuthProvider:Ma,PhoneAuthProvider:dm,PhoneMultiFactorGenerator:El,RecaptchaVerifier:cw,TwitterAuthProvider:ts,Auth:Ml,AuthCredential:X,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(u.Z)},5861:(Dt,xe,N)=>{function T(L,Q,he,Ee,re,Ve,pe){try{var j=L[Ve](pe),$=j.value}catch(oe){return void he(oe)}j.done?Q($):Promise.resolve($).then(Ee,re)}function u(L){return function(){var Q=this,he=arguments;return new Promise(function(Ee,re){var Ve=L.apply(Q,he);function pe($){T(Ve,Ee,re,pe,j,"next",$)}function j($){T(Ve,Ee,re,pe,j,"throw",$)}pe(void 0)})}}N.d(xe,{Z:()=>u})},7582:(Dt,xe,N)=>{function Q(fe,we){var Re={};for(var Le in fe)Object.prototype.hasOwnProperty.call(fe,Le)&&we.indexOf(Le)<0&&(Re[Le]=fe[Le]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(Le=Object.getOwnPropertySymbols(fe);Qe<Le.length;Qe++)we.indexOf(Le[Qe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Le[Qe])&&(Re[Le[Qe]]=fe[Le[Qe]])}return Re}function oe(fe,we,Re,Le){return new(Re||(Re=Promise))(function(We,Et){function _t(bt){try{ut(Le.next(bt))}catch(gn){Et(gn)}}function kt(bt){try{ut(Le.throw(bt))}catch(gn){Et(gn)}}function ut(bt){bt.done?We(bt.value):function Qe(We){return We instanceof Re?We:new Re(function(Et){Et(We)})}(bt.value).then(_t,kt)}ut((Le=Le.apply(fe,we||[])).next())})}function se(fe){return this instanceof se?(this.v=fe,this):new se(fe)}function be(fe,we,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Le=Re.apply(fe,we||[]),We=[];return Qe={},Et("next"),Et("throw"),Et("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Et(bn){Le[bn]&&(Qe[bn]=function(Pn){return new Promise(function(fn,li){We.push([bn,Pn,fn,li])>1||_t(bn,Pn)})})}function _t(bn,Pn){try{!function kt(bn){bn.value instanceof se?Promise.resolve(bn.value.v).then(ut,bt):gn(We[0][2],bn)}(Le[bn](Pn))}catch(fn){gn(We[0][3],fn)}}function ut(bn){_t("next",bn)}function bt(bn){_t("throw",bn)}function gn(bn,Pn){bn(Pn),We.shift(),We.length&&_t(We[0][0],We[0][1])}}function De(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,we=fe[Symbol.asyncIterator];return we?we.call(fe):(fe=function Be(fe){var we="function"==typeof Symbol&&Symbol.iterator,Re=we&&fe[we],Le=0;if(Re)return Re.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Le>=fe.length&&(fe=void 0),{value:fe&&fe[Le++],done:!fe}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),Re={},Le("next"),Le("throw"),Le("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Le(We){Re[We]=fe[We]&&function(Et){return new Promise(function(_t,kt){!function Qe(We,Et,_t,kt){Promise.resolve(kt).then(function(ut){We({value:ut,done:_t})},Et)}(_t,kt,(Et=fe[We](Et)).done,Et.value)})}}}N.d(xe,{FC:()=>be,KL:()=>De,_T:()=>Q,mG:()=>oe,qq:()=>se})}},Dt=>{Dt(Dt.s=8005)}]);